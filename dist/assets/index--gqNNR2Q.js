import{j as n,c as Pl,u as Tl,i as Nt,s as Y,B as y,a as ke,P as Ps,T as Po,b as z,d as Hn,C as xt,G as bt,e as Rl,F as Il,f as zl,D as Fl,E as _l,U as Al,S as Bl,g as Dl,h as Ml}from"./mui-CGIBkI2S.js";import{c as El,r as h,R as Wl,g as Ol,a as ft}from"./vendor-DFrXMbSk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();var Ts,Gi=El;Ts=Gi.createRoot,Gi.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},hn.apply(this,arguments)}var It;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(It||(It={}));const Vi="popstate";function Ll(e){e===void 0&&(e={});function t(i,r){let{pathname:s,search:a,hash:d}=i.location;return To("",{pathname:s,search:a,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function o(i,r){return typeof r=="string"?r:Is(r)}return Vl(t,o,null,e)}function Ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gl(){return Math.random().toString(36).substr(2,8)}function $i(e,t){return{usr:e.state,key:e.key,idx:t}}function To(e,t,o,i){return o===void 0&&(o=null),hn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?on(t):t,{state:o,key:t&&t.key||i||Gl()})}function Is(e){let{pathname:t="/",search:o="",hash:i=""}=e;return o&&o!=="?"&&(t+=o.charAt(0)==="?"?o:"?"+o),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function on(e){let t={};if(e){let o=e.indexOf("#");o>=0&&(t.hash=e.substr(o),e=e.substr(0,o));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function Vl(e,t,o,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,d=It.Pop,x=null,u=p();u==null&&(u=0,a.replaceState(hn({},a.state,{idx:u}),""));function p(){return(a.state||{idx:null}).idx}function v(){d=It.Pop;let E=p(),w=E==null?null:E-u;u=E,x&&x({action:d,location:B.location,delta:w})}function j(E,w){d=It.Push;let F=To(B.location,E,w);u=p()+1;let R=$i(F,u),M=B.createHref(F);try{a.pushState(R,"",M)}catch(l){if(l instanceof DOMException&&l.name==="DataCloneError")throw l;r.location.assign(M)}s&&x&&x({action:d,location:B.location,delta:1})}function _(E,w){d=It.Replace;let F=To(B.location,E,w);u=p();let R=$i(F,u),M=B.createHref(F);a.replaceState(R,"",M),s&&x&&x({action:d,location:B.location,delta:0})}function k(E){let w=r.location.origin!=="null"?r.location.origin:r.location.href,F=typeof E=="string"?E:Is(E);return F=F.replace(/ $/,"%20"),Ye(w,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,w)}let B={get action(){return d},get location(){return e(r,a)},listen(E){if(x)throw new Error("A history only accepts one active listener");return r.addEventListener(Vi,v),x=E,()=>{r.removeEventListener(Vi,v),x=null}},createHref(E){return t(r,E)},createURL:k,encodeLocation(E){let w=k(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:j,replace:_,go(E){return a.go(E)}};return B}var Ni;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ni||(Ni={}));function $l(e,t,o){return o===void 0&&(o="/"),Nl(e,t,o)}function Nl(e,t,o,i){let r=typeof t=="string"?on(t):t,s=_s(r.pathname||"/",o);if(s==null)return null;let a=zs(e);Hl(a);let d=null;for(let x=0;d==null&&x<a.length;++x){let u=od(s);d=ed(a[x],u)}return d}function zs(e,t,o,i){t===void 0&&(t=[]),o===void 0&&(o=[]),i===void 0&&(i="");let r=(s,a,d)=>{let x={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};x.relativePath.startsWith("/")&&(Ye(x.relativePath.startsWith(i),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(i.length));let u=Gt([i,x.relativePath]),p=o.concat(x);s.children&&s.children.length>0&&(Ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zs(s.children,t,p,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Jl(u,s.index),routesMeta:p})};return e.forEach((s,a)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))r(s,a);else for(let x of Fs(s.path))r(s,a,x)}),t}function Fs(e){let t=e.split("/");if(t.length===0)return[];let[o,...i]=t,r=o.endsWith("?"),s=o.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=Fs(i.join("/")),d=[];return d.push(...a.map(x=>x===""?s:[s,x].join("/"))),r&&d.push(...a),d.map(x=>e.startsWith("/")&&x===""?"/":x)}function Hl(e){e.sort((t,o)=>t.score!==o.score?o.score-t.score:Ql(t.routesMeta.map(i=>i.childrenIndex),o.routesMeta.map(i=>i.childrenIndex)))}const Yl=/^:[\w-]+$/,Ul=3,Xl=2,Kl=1,ql=10,Zl=-2,Hi=e=>e==="*";function Jl(e,t){let o=e.split("/"),i=o.length;return o.some(Hi)&&(i+=Zl),t&&(i+=Xl),o.filter(r=>!Hi(r)).reduce((r,s)=>r+(Yl.test(s)?Ul:s===""?Kl:ql),i)}function Ql(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function ed(e,t,o){let{routesMeta:i}=e,r={},s="/",a=[];for(let d=0;d<i.length;++d){let x=i[d],u=d===i.length-1,p=s==="/"?t:t.slice(s.length)||"/",v=td({path:x.relativePath,caseSensitive:x.caseSensitive,end:u},p),j=x.route;if(!v)return null;Object.assign(r,v.params),a.push({params:r,pathname:Gt([s,v.pathname]),pathnameBase:ad(Gt([s,v.pathnameBase])),route:j}),v.pathnameBase!=="/"&&(s=Gt([s,v.pathnameBase]))}return a}function td(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[o,i]=nd(e.path,e.caseSensitive,e.end),r=t.match(o);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:i.reduce((u,p,v)=>{let{paramName:j,isOptional:_}=p;if(j==="*"){let B=d[v]||"";a=s.slice(0,s.length-B.length).replace(/(.)\/+$/,"$1")}const k=d[v];return _&&!k?u[j]=void 0:u[j]=(k||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function nd(e,t,o){t===void 0&&(t=!1),o===void 0&&(o=!0),Rs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,d,x)=>(i.push({paramName:d,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function od(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rs(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _s(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let o=t.endsWith("/")?t.length-1:t.length,i=e.charAt(o);return i&&i!=="/"?null:e.slice(o)||"/"}function id(e,t){t===void 0&&(t="/");let{pathname:o,search:i="",hash:r=""}=typeof e=="string"?on(e):e;return{pathname:o?o.startsWith("/")?o:rd(o,t):t,search:ld(i),hash:dd(r)}}function rd(e,t){let o=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?o.length>1&&o.pop():r!=="."&&o.push(r)}),o.length>1?o.join("/"):"/"}function eo(e,t,o,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sd(e){return e.filter((t,o)=>o===0||t.route.path&&t.route.path.length>0)}function As(e,t){let o=sd(e);return t?o.map((i,r)=>r===o.length-1?i.pathname:i.pathnameBase):o.map(i=>i.pathnameBase)}function Bs(e,t,o,i){i===void 0&&(i=!1);let r;typeof e=="string"?r=on(e):(r=hn({},e),Ye(!r.pathname||!r.pathname.includes("?"),eo("?","pathname","search",r)),Ye(!r.pathname||!r.pathname.includes("#"),eo("#","pathname","hash",r)),Ye(!r.search||!r.search.includes("#"),eo("#","search","hash",r)));let s=e===""||r.pathname==="",a=s?"/":r.pathname,d;if(a==null)d=o;else{let v=t.length-1;if(!i&&a.startsWith("..")){let j=a.split("/");for(;j[0]==="..";)j.shift(),v-=1;r.pathname=j.join("/")}d=v>=0?t[v]:"/"}let x=id(r,d),u=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&o.endsWith("/");return!x.pathname.endsWith("/")&&(u||p)&&(x.pathname+="/"),x}const Gt=e=>e.join("/").replace(/\/\/+/g,"/"),ad=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ld=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dd=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cd(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ds=["post","put","patch","delete"];new Set(Ds);const pd=["get",...Ds];new Set(pd);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bn(){return bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},bn.apply(this,arguments)}const Xo=h.createContext(null),fd=h.createContext(null),wn=h.createContext(null),Yn=h.createContext(null),Ht=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Ms=h.createContext(null);function kn(){return h.useContext(Yn)!=null}function gt(){return kn()||Ye(!1),h.useContext(Yn).location}function Es(e){h.useContext(wn).static||h.useLayoutEffect(e)}function Ze(){let{isDataRoute:e}=h.useContext(Ht);return e?kd():xd()}function xd(){kn()||Ye(!1);let e=h.useContext(Xo),{basename:t,future:o,navigator:i}=h.useContext(wn),{matches:r}=h.useContext(Ht),{pathname:s}=gt(),a=JSON.stringify(As(r,o.v7_relativeSplatPath)),d=h.useRef(!1);return Es(()=>{d.current=!0}),h.useCallback(function(u,p){if(p===void 0&&(p={}),!d.current)return;if(typeof u=="number"){i.go(u);return}let v=Bs(u,JSON.parse(a),s,p.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Gt([t,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[t,i,a,s,e])}function gd(e,t){return ud(e,t)}function ud(e,t,o,i){kn()||Ye(!1);let{navigator:r}=h.useContext(wn),{matches:s}=h.useContext(Ht),a=s[s.length-1],d=a?a.params:{};a&&a.pathname;let x=a?a.pathnameBase:"/";a&&a.route;let u=gt(),p;if(t){var v;let E=typeof t=="string"?on(t):t;x==="/"||(v=E.pathname)!=null&&v.startsWith(x)||Ye(!1),p=E}else p=u;let j=p.pathname||"/",_=j;if(x!=="/"){let E=x.replace(/^\//,"").split("/");_="/"+j.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=$l(e,{pathname:_}),B=vd(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:Gt([x,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?x:Gt([x,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,o,i);return t&&B?h.createElement(Yn.Provider,{value:{location:bn({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:It.Pop}},B):B}function hd(){let e=wd(),t=cd(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),o?h.createElement("pre",{style:r},o):null,null)}const bd=h.createElement(hd,null);class md extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,o){return o.location!==t.location||o.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:o.error,location:o.location,revalidation:t.revalidation||o.revalidation}}componentDidCatch(t,o){console.error("React Router caught the following error during render",t,o)}render(){return this.state.error!==void 0?h.createElement(Ht.Provider,{value:this.props.routeContext},h.createElement(Ms.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yd(e){let{routeContext:t,match:o,children:i}=e,r=h.useContext(Xo);return r&&r.static&&r.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=o.route.id),h.createElement(Ht.Provider,{value:t},i)}function vd(e,t,o,i){var r;if(t===void 0&&(t=[]),o===void 0&&(o=null),i===void 0&&(i=null),e==null){var s;if(!o)return null;if(o.errors)e=o.matches;else if((s=i)!=null&&s.v7_partialHydration&&t.length===0&&!o.initialized&&o.matches.length>0)e=o.matches;else return null}let a=e,d=(r=o)==null?void 0:r.errors;if(d!=null){let p=a.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);p>=0||Ye(!1),a=a.slice(0,Math.min(a.length,p+1))}let x=!1,u=-1;if(o&&i&&i.v7_partialHydration)for(let p=0;p<a.length;p++){let v=a[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(u=p),v.route.id){let{loaderData:j,errors:_}=o,k=v.route.loader&&j[v.route.id]===void 0&&(!_||_[v.route.id]===void 0);if(v.route.lazy||k){x=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((p,v,j)=>{let _,k=!1,B=null,E=null;o&&(_=d&&v.route.id?d[v.route.id]:void 0,B=v.route.errorElement||bd,x&&(u<0&&j===0?(Pd("route-fallback"),k=!0,E=null):u===j&&(k=!0,E=v.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,j+1)),F=()=>{let R;return _?R=B:k?R=E:v.route.Component?R=h.createElement(v.route.Component,null):v.route.element?R=v.route.element:R=p,h.createElement(yd,{match:v,routeContext:{outlet:p,matches:w,isDataRoute:o!=null},children:R})};return o&&(v.route.ErrorBoundary||v.route.errorElement||j===0)?h.createElement(md,{location:o.location,revalidation:o.revalidation,component:B,error:_,children:F(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):F()},null)}var Ws=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ws||{}),Os=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Os||{});function Sd(e){let t=h.useContext(Xo);return t||Ye(!1),t}function jd(e){let t=h.useContext(fd);return t||Ye(!1),t}function Cd(e){let t=h.useContext(Ht);return t||Ye(!1),t}function Ls(e){let t=Cd(),o=t.matches[t.matches.length-1];return o.route.id||Ye(!1),o.route.id}function wd(){var e;let t=h.useContext(Ms),o=jd(),i=Ls();return t!==void 0?t:(e=o.errors)==null?void 0:e[i]}function kd(){let{router:e}=Sd(Ws.UseNavigateStable),t=Ls(Os.UseNavigateStable),o=h.useRef(!1);return Es(()=>{o.current=!0}),h.useCallback(function(r,s){s===void 0&&(s={}),o.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,bn({fromRouteId:t},s)))},[e,t])}const Yi={};function Pd(e,t,o){Yi[e]||(Yi[e]=!0)}function Td(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Rd(e){let{to:t,replace:o,state:i,relative:r}=e;kn()||Ye(!1);let{future:s,static:a}=h.useContext(wn),{matches:d}=h.useContext(Ht),{pathname:x}=gt(),u=Ze(),p=Bs(t,As(d,s.v7_relativeSplatPath),x,r==="path"),v=JSON.stringify(p);return h.useEffect(()=>u(JSON.parse(v),{replace:o,state:i,relative:r}),[u,v,r,o,i]),null}function Xe(e){Ye(!1)}function Id(e){let{basename:t="/",children:o=null,location:i,navigationType:r=It.Pop,navigator:s,static:a=!1,future:d}=e;kn()&&Ye(!1);let x=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:x,navigator:s,static:a,future:bn({v7_relativeSplatPath:!1},d)}),[x,d,s,a]);typeof i=="string"&&(i=on(i));let{pathname:p="/",search:v="",hash:j="",state:_=null,key:k="default"}=i,B=h.useMemo(()=>{let E=_s(p,x);return E==null?null:{location:{pathname:E,search:v,hash:j,state:_,key:k},navigationType:r}},[x,p,v,j,_,k,r]);return B==null?null:h.createElement(wn.Provider,{value:u},h.createElement(Yn.Provider,{children:o,value:B}))}function zd(e){let{children:t,location:o}=e;return gd(Ro(t),o)}new Promise(()=>{});function Ro(e,t){t===void 0&&(t=[]);let o=[];return h.Children.forEach(e,(i,r)=>{if(!h.isValidElement(i))return;let s=[...t,r];if(i.type===h.Fragment){o.push.apply(o,Ro(i.props.children,s));return}i.type!==Xe&&Ye(!1),!i.props.index||!i.props.children||Ye(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Ro(i.props.children,s)),o.push(a)}),o}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Fd="6";try{window.__reactRouterVersion=Fd}catch{}const _d="startTransition",Ui=Wl[_d];function Ad(e){let{basename:t,children:o,future:i,window:r}=e,s=h.useRef();s.current==null&&(s.current=Ll({window:r,v5Compat:!0}));let a=s.current,[d,x]=h.useState({action:a.action,location:a.location}),{v7_startTransition:u}=i||{},p=h.useCallback(v=>{u&&Ui?Ui(()=>x(v)):x(v)},[x,u]);return h.useLayoutEffect(()=>a.listen(p),[a,p]),h.useEffect(()=>Td(i),[i]),h.createElement(Id,{basename:t,children:o,location:d.location,navigationType:d.action,navigator:a,future:i})}var Xi;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xi||(Xi={}));var Ki;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ki||(Ki={}));const Ko=h.createContext({});function qo(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Un=h.createContext(null),Zo=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Bd extends h.Component{getSnapshotBeforeUpdate(t){const o=this.props.childRef.current;if(o&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=o.offsetHeight||0,i.width=o.offsetWidth||0,i.top=o.offsetTop,i.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Dd({children:e,isPresent:t}){const o=h.useId(),i=h.useRef(null),r=h.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=h.useContext(Zo);return h.useInsertionEffect(()=>{const{width:a,height:d,top:x,left:u}=r.current;if(t||!i.current||!a||!d)return;i.current.dataset.motionPopId=o;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${d}px !important;
            top: ${x}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),n.jsx(Bd,{isPresent:t,childRef:i,sizeRef:r,children:h.cloneElement(e,{ref:i})})}const Md=({children:e,initial:t,isPresent:o,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:a})=>{const d=qo(Ed),x=h.useId(),u=h.useCallback(v=>{d.set(v,!0);for(const j of d.values())if(!j)return;i&&i()},[d,i]),p=h.useMemo(()=>({id:x,initial:t,isPresent:o,custom:r,onExitComplete:u,register:v=>(d.set(v,!1),()=>d.delete(v))}),s?[Math.random(),u]:[o,u]);return h.useMemo(()=>{d.forEach((v,j)=>d.set(j,!1))},[o]),h.useEffect(()=>{!o&&!d.size&&i&&i()},[o]),a==="popLayout"&&(e=n.jsx(Dd,{isPresent:o,children:e})),n.jsx(Un.Provider,{value:p,children:e})};function Ed(){return new Map}function Gs(e=!0){const t=h.useContext(Un);if(t===null)return[!0,null];const{isPresent:o,onExitComplete:i,register:r}=t,s=h.useId();h.useEffect(()=>{e&&r(s)},[e]);const a=h.useCallback(()=>e&&i&&i(s),[s,i,e]);return!o&&i?[!1,a]:[!0]}const zn=e=>e.key||"";function qi(e){const t=[];return h.Children.forEach(e,o=>{h.isValidElement(o)&&t.push(o)}),t}const Jo=typeof window<"u",Vs=Jo?h.useLayoutEffect:h.useEffect,Wd=({children:e,custom:t,initial:o=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:a=!1})=>{const[d,x]=Gs(a),u=h.useMemo(()=>qi(e),[e]),p=a&&!d?[]:u.map(zn),v=h.useRef(!0),j=h.useRef(u),_=qo(()=>new Map),[k,B]=h.useState(u),[E,w]=h.useState(u);Vs(()=>{v.current=!1,j.current=u;for(let M=0;M<E.length;M++){const l=zn(E[M]);p.includes(l)?_.delete(l):_.get(l)!==!0&&_.set(l,!1)}},[E,p.length,p.join("-")]);const F=[];if(u!==k){let M=[...u];for(let l=0;l<E.length;l++){const O=E[l],ne=zn(O);p.includes(ne)||(M.splice(l,0,O),F.push(O))}s==="wait"&&F.length&&(M=F),w(qi(M)),B(u);return}const{forceRender:R}=h.useContext(Ko);return n.jsx(n.Fragment,{children:E.map(M=>{const l=zn(M),O=a&&!d?!1:u===E||p.includes(l),ne=()=>{if(_.has(l))_.set(l,!0);else return;let Z=!0;_.forEach(re=>{re||(Z=!1)}),Z&&(R==null||R(),w(j.current),a&&(x==null||x()),i&&i())};return n.jsx(Md,{isPresent:O,initial:!v.current||o?void 0:!1,custom:O?void 0:t,presenceAffectsLayout:r,mode:s,onExitComplete:O?void 0:ne,children:M},l)})})},rt=e=>e;let $s=rt;function Qo(e){let t;return()=>(t===void 0&&(t=e()),t)}const en=(e,t,o)=>{const i=t-e;return i===0?1:(o-e)/i},vt=e=>e*1e3,St=e=>e/1e3,Od={useManualTiming:!1};function Ld(e){let t=new Set,o=new Set,i=!1,r=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function d(u){s.has(u)&&(x.schedule(u),e()),u(a)}const x={schedule:(u,p=!1,v=!1)=>{const _=v&&i?t:o;return p&&s.add(u),_.has(u)||_.add(u),u},cancel:u=>{o.delete(u),s.delete(u)},process:u=>{if(a=u,i){r=!0;return}i=!0,[t,o]=[o,t],t.forEach(d),t.clear(),i=!1,r&&(r=!1,x.process(u))}};return x}const Fn=["read","resolveKeyframes","update","preRender","render","postRender"],Gd=40;function Ns(e,t){let o=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>o=!0,a=Fn.reduce((w,F)=>(w[F]=Ld(s),w),{}),{read:d,resolveKeyframes:x,update:u,preRender:p,render:v,postRender:j}=a,_=()=>{const w=performance.now();o=!1,r.delta=i?1e3/60:Math.max(Math.min(w-r.timestamp,Gd),1),r.timestamp=w,r.isProcessing=!0,d.process(r),x.process(r),u.process(r),p.process(r),v.process(r),j.process(r),r.isProcessing=!1,o&&t&&(i=!1,e(_))},k=()=>{o=!0,i=!0,r.isProcessing||e(_)};return{schedule:Fn.reduce((w,F)=>{const R=a[F];return w[F]=(M,l=!1,O=!1)=>(o||k(),R.schedule(M,l,O)),w},{}),cancel:w=>{for(let F=0;F<Fn.length;F++)a[Fn[F]].cancel(w)},state:r,steps:a}}const{schedule:Ee,cancel:zt,state:et,steps:to}=Ns(typeof requestAnimationFrame<"u"?requestAnimationFrame:rt,!0),Hs=h.createContext({strict:!1}),Zi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tn={};for(const e in Zi)tn[e]={isEnabled:t=>Zi[e].some(o=>!!t[o])};function Vd(e){for(const t in e)tn[t]={...tn[t],...e[t]}}const $d=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function En(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$d.has(e)}let Ys=e=>!En(e);function Nd(e){e&&(Ys=t=>t.startsWith("on")?!En(t):e(t))}try{Nd(require("@emotion/is-prop-valid").default)}catch{}function Hd(e,t,o){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(Ys(r)||o===!0&&En(r)||!t&&!En(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}function Yd(e){if(typeof Proxy>"u")return e;const t=new Map,o=(...i)=>e(...i);return new Proxy(o,{get:(i,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Xn=h.createContext({});function mn(e){return typeof e=="string"||Array.isArray(e)}function Kn(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ei=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ti=["initial",...ei];function qn(e){return Kn(e.animate)||ti.some(t=>mn(e[t]))}function Us(e){return!!(qn(e)||e.variants)}function Ud(e,t){if(qn(e)){const{initial:o,animate:i}=e;return{initial:o===!1||mn(o)?o:void 0,animate:mn(i)?i:void 0}}return e.inherit!==!1?t:{}}function Xd(e){const{initial:t,animate:o}=Ud(e,h.useContext(Xn));return h.useMemo(()=>({initial:t,animate:o}),[Ji(t),Ji(o)])}function Ji(e){return Array.isArray(e)?e.join(" "):e}const Kd=Symbol.for("motionComponentSymbol");function Kt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qd(e,t,o){return h.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),o&&(typeof o=="function"?o(i):Kt(o)&&(o.current=i))},[t])}const ni=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zd="framerAppearId",Xs="data-"+ni(Zd),{schedule:oi}=Ns(queueMicrotask,!1),Ks=h.createContext({});function Jd(e,t,o,i,r){var s,a;const{visualElement:d}=h.useContext(Xn),x=h.useContext(Hs),u=h.useContext(Un),p=h.useContext(Zo).reducedMotion,v=h.useRef(null);i=i||x.renderer,!v.current&&i&&(v.current=i(e,{visualState:t,parent:d,props:o,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:p}));const j=v.current,_=h.useContext(Ks);j&&!j.projection&&r&&(j.type==="html"||j.type==="svg")&&Qd(v.current,o,r,_);const k=h.useRef(!1);h.useInsertionEffect(()=>{j&&k.current&&j.update(o,u)});const B=o[Xs],E=h.useRef(!!B&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,B))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,B)));return Vs(()=>{j&&(k.current=!0,window.MotionIsMounted=!0,j.updateFeatures(),oi.render(j.render),E.current&&j.animationState&&j.animationState.animateChanges())}),h.useEffect(()=>{j&&(!E.current&&j.animationState&&j.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,B)}),E.current=!1))}),j}function Qd(e,t,o,i){const{layoutId:r,layout:s,drag:a,dragConstraints:d,layoutScroll:x,layoutRoot:u}=t;e.projection=new o(e.latestValues,t["data-framer-portal-id"]?void 0:qs(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||d&&Kt(d),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:x,layoutRoot:u})}function qs(e){if(e)return e.options.allowProjection!==!1?e.projection:qs(e.parent)}function ec({preloadedFeatures:e,createVisualElement:t,useRender:o,useVisualState:i,Component:r}){var s,a;e&&Vd(e);function d(u,p){let v;const j={...h.useContext(Zo),...u,layoutId:tc(u)},{isStatic:_}=j,k=Xd(u),B=i(u,_);if(!_&&Jo){nc();const E=oc(j);v=E.MeasureLayout,k.visualElement=Jd(r,B,j,t,E.ProjectionNode)}return n.jsxs(Xn.Provider,{value:k,children:[v&&k.visualElement?n.jsx(v,{visualElement:k.visualElement,...j}):null,o(r,u,qd(B,k.visualElement,p),B,_,k.visualElement)]})}d.displayName=`motion.${typeof r=="string"?r:`create(${(a=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&a!==void 0?a:""})`}`;const x=h.forwardRef(d);return x[Kd]=r,x}function tc({layoutId:e}){const t=h.useContext(Ko).id;return t&&e!==void 0?t+"-"+e:e}function nc(e,t){h.useContext(Hs).strict}function oc(e){const{drag:t,layout:o}=tn;if(!t&&!o)return{};const i={...t,...o};return{MeasureLayout:t!=null&&t.isEnabled(e)||o!=null&&o.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const ic=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ii(e){return typeof e!="string"||e.includes("-")?!1:!!(ic.indexOf(e)>-1||/[A-Z]/u.test(e))}function Qi(e){const t=[{},{}];return e==null||e.values.forEach((o,i)=>{t[0][i]=o.get(),t[1][i]=o.getVelocity()}),t}function ri(e,t,o,i){if(typeof t=="function"){const[r,s]=Qi(i);t=t(o!==void 0?o:e.custom,r,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,s]=Qi(i);t=t(o!==void 0?o:e.custom,r,s)}return t}const Io=e=>Array.isArray(e),rc=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),sc=e=>Io(e)?e[e.length-1]||0:e,ot=e=>!!(e&&e.getVelocity);function Bn(e){const t=ot(e)?e.get():e;return rc(t)?t.toValue():t}function ac({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:o},i,r,s){const a={latestValues:lc(i,r,s,e),renderState:t()};return o&&(a.onMount=d=>o({props:i,current:d,...a}),a.onUpdate=d=>o(d)),a}const Zs=e=>(t,o)=>{const i=h.useContext(Xn),r=h.useContext(Un),s=()=>ac(e,t,i,r);return o?s():qo(s)};function lc(e,t,o,i){const r={},s=i(e,{});for(const j in s)r[j]=Bn(s[j]);let{initial:a,animate:d}=e;const x=qn(e),u=Us(e);t&&u&&!x&&e.inherit!==!1&&(a===void 0&&(a=t.initial),d===void 0&&(d=t.animate));let p=o?o.initial===!1:!1;p=p||a===!1;const v=p?d:a;if(v&&typeof v!="boolean"&&!Kn(v)){const j=Array.isArray(v)?v:[v];for(let _=0;_<j.length;_++){const k=ri(e,j[_]);if(k){const{transitionEnd:B,transition:E,...w}=k;for(const F in w){let R=w[F];if(Array.isArray(R)){const M=p?R.length-1:0;R=R[M]}R!==null&&(r[F]=R)}for(const F in B)r[F]=B[F]}}}return r}const rn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yt=new Set(rn),Js=e=>t=>typeof t=="string"&&t.startsWith(e),Qs=Js("--"),dc=Js("var(--"),si=e=>dc(e)?cc.test(e.split("/*")[0].trim()):!1,cc=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ea=(e,t)=>t&&typeof e=="number"?t.transform(e):e,jt=(e,t,o)=>o>t?t:o<e?e:o,sn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yn={...sn,transform:e=>jt(0,1,e)},_n={...sn,default:1},Pn=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Rt=Pn("deg"),mt=Pn("%"),ye=Pn("px"),pc=Pn("vh"),fc=Pn("vw"),er={...mt,parse:e=>mt.parse(e)/100,transform:e=>mt.transform(e*100)},xc={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye},gc={rotate:Rt,rotateX:Rt,rotateY:Rt,rotateZ:Rt,scale:_n,scaleX:_n,scaleY:_n,scaleZ:_n,skew:Rt,skewX:Rt,skewY:Rt,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:yn,originX:er,originY:er,originZ:ye},tr={...sn,transform:Math.round},ai={...xc,...gc,zIndex:tr,size:ye,fillOpacity:yn,strokeOpacity:yn,numOctaves:tr},uc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hc=rn.length;function bc(e,t,o){let i="",r=!0;for(let s=0;s<hc;s++){const a=rn[s],d=e[a];if(d===void 0)continue;let x=!0;if(typeof d=="number"?x=d===(a.startsWith("scale")?1:0):x=parseFloat(d)===0,!x||o){const u=ea(d,ai[a]);if(!x){r=!1;const p=uc[a]||a;i+=`${p}(${u}) `}o&&(t[a]=u)}}return i=i.trim(),o?i=o(t,r?"":i):r&&(i="none"),i}function li(e,t,o){const{style:i,vars:r,transformOrigin:s}=e;let a=!1,d=!1;for(const x in t){const u=t[x];if(Yt.has(x)){a=!0;continue}else if(Qs(x)){r[x]=u;continue}else{const p=ea(u,ai[x]);x.startsWith("origin")?(d=!0,s[x]=p):i[x]=p}}if(t.transform||(a||o?i.transform=bc(t,e.transform,o):i.transform&&(i.transform="none")),d){const{originX:x="50%",originY:u="50%",originZ:p=0}=s;i.transformOrigin=`${x} ${u} ${p}`}}const mc={offset:"stroke-dashoffset",array:"stroke-dasharray"},yc={offset:"strokeDashoffset",array:"strokeDasharray"};function vc(e,t,o=1,i=0,r=!0){e.pathLength=1;const s=r?mc:yc;e[s.offset]=ye.transform(-i);const a=ye.transform(t),d=ye.transform(o);e[s.array]=`${a} ${d}`}function nr(e,t,o){return typeof e=="string"?e:ye.transform(t+o*e)}function Sc(e,t,o){const i=nr(t,e.x,e.width),r=nr(o,e.y,e.height);return`${i} ${r}`}function di(e,{attrX:t,attrY:o,attrScale:i,originX:r,originY:s,pathLength:a,pathSpacing:d=1,pathOffset:x=0,...u},p,v){if(li(e,u,v),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:j,style:_,dimensions:k}=e;j.transform&&(k&&(_.transform=j.transform),delete j.transform),k&&(r!==void 0||s!==void 0||_.transform)&&(_.transformOrigin=Sc(k,r!==void 0?r:.5,s!==void 0?s:.5)),t!==void 0&&(j.x=t),o!==void 0&&(j.y=o),i!==void 0&&(j.scale=i),a!==void 0&&vc(j,a,d,x,!1)}const ci=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ta=()=>({...ci(),attrs:{}}),pi=e=>typeof e=="string"&&e.toLowerCase()==="svg";function na(e,{style:t,vars:o},i,r){Object.assign(e.style,t,r&&r.getProjectionStyles(i));for(const s in o)e.style.setProperty(s,o[s])}const oa=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ia(e,t,o,i){na(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(oa.has(r)?r:ni(r),t.attrs[r])}const Wn={};function jc(e){Object.assign(Wn,e)}function ra(e,{layout:t,layoutId:o}){return Yt.has(e)||e.startsWith("origin")||(t||o!==void 0)&&(!!Wn[e]||e==="opacity")}function fi(e,t,o){var i;const{style:r}=e,s={};for(const a in r)(ot(r[a])||t.style&&ot(t.style[a])||ra(a,e)||((i=o==null?void 0:o.getValue(a))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}function sa(e,t,o){const i=fi(e,t,o);for(const r in e)if(ot(e[r])||ot(t[r])){const s=rn.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=e[r]}return i}function Cc(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const or=["x","y","width","height","cx","cy","r"],wc={useVisualState:Zs({scrapeMotionValuesFromProps:sa,createRenderState:ta,onUpdate:({props:e,prevProps:t,current:o,renderState:i,latestValues:r})=>{if(!o)return;let s=!!e.drag;if(!s){for(const d in r)if(Yt.has(d)){s=!0;break}}if(!s)return;let a=!t;if(t)for(let d=0;d<or.length;d++){const x=or[d];e[x]!==t[x]&&(a=!0)}a&&Ee.read(()=>{Cc(o,i),Ee.render(()=>{di(i,r,pi(o.tagName),e.transformTemplate),ia(o,i)})})}})},kc={useVisualState:Zs({scrapeMotionValuesFromProps:fi,createRenderState:ci})};function aa(e,t,o){for(const i in t)!ot(t[i])&&!ra(i,o)&&(e[i]=t[i])}function Pc({transformTemplate:e},t){return h.useMemo(()=>{const o=ci();return li(o,t,e),Object.assign({},o.vars,o.style)},[t])}function Tc(e,t){const o=e.style||{},i={};return aa(i,o,e),Object.assign(i,Pc(e,t)),i}function Rc(e,t){const o={},i=Tc(e,t);return e.drag&&e.dragListener!==!1&&(o.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(o.tabIndex=0),o.style=i,o}function Ic(e,t,o,i){const r=h.useMemo(()=>{const s=ta();return di(s,t,pi(i),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};aa(s,e.style,e),r.style={...s,...r.style}}return r}function zc(e=!1){return(o,i,r,{latestValues:s},a)=>{const x=(ii(o)?Ic:Rc)(i,s,a,o),u=Hd(i,typeof o=="string",e),p=o!==h.Fragment?{...u,...x,ref:r}:{},{children:v}=i,j=h.useMemo(()=>ot(v)?v.get():v,[v]);return h.createElement(o,{...p,children:j})}}function Fc(e,t){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...ii(i)?wc:kc,preloadedFeatures:e,useRender:zc(r),createVisualElement:t,Component:i};return ec(a)}}function la(e,t){if(!Array.isArray(t))return!1;const o=t.length;if(o!==e.length)return!1;for(let i=0;i<o;i++)if(t[i]!==e[i])return!1;return!0}function Zn(e,t,o){const i=e.getProps();return ri(i,t,o!==void 0?o:i.custom,e)}const _c=Qo(()=>window.ScrollTimeline!==void 0);class Ac{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,o){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=o}attachTimeline(t,o){const i=this.animations.map(r=>{if(_c()&&r.attachTimeline)return r.attachTimeline(t);if(typeof o=="function")return o(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let o=0;o<this.animations.length;o++)t=Math.max(t,this.animations[o].duration);return t}runAll(t){this.animations.forEach(o=>o[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Bc extends Ac{then(t,o){return Promise.all(this.animations).then(t).catch(o)}}function xi(e,t){return e?e[t]||e.default||e:void 0}const zo=2e4;function da(e){let t=0;const o=50;let i=e.next(t);for(;!i.done&&t<zo;)t+=o,i=e.next(t);return t>=zo?1/0:t}function gi(e){return typeof e=="function"}function ir(e,t){e.timeline=t,e.onfinish=null}const ui=e=>Array.isArray(e)&&typeof e[0]=="number",Dc={linearEasing:void 0};function Mc(e,t){const o=Qo(e);return()=>{var i;return(i=Dc[t])!==null&&i!==void 0?i:o()}}const On=Mc(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ca=(e,t,o=10)=>{let i="";const r=Math.max(Math.round(t/o),2);for(let s=0;s<r;s++)i+=e(en(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function pa(e){return!!(typeof e=="function"&&On()||!e||typeof e=="string"&&(e in Fo||On())||ui(e)||Array.isArray(e)&&e.every(pa))}const dn=([e,t,o,i])=>`cubic-bezier(${e}, ${t}, ${o}, ${i})`,Fo={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dn([0,.65,.55,1]),circOut:dn([.55,0,1,.45]),backIn:dn([.31,.01,.66,-.59]),backOut:dn([.33,1.53,.69,.99])};function fa(e,t){if(e)return typeof e=="function"&&On()?ca(e,t):ui(e)?dn(e):Array.isArray(e)?e.map(o=>fa(o,t)||Fo.easeOut):Fo[e]}const ht={x:!1,y:!1};function xa(){return ht.x||ht.y}function Ec(e,t,o){var i;if(e instanceof Element)return[e];if(typeof e=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function ga(e,t){const o=Ec(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[o,r,()=>i.abort()]}function rr(e){return t=>{t.pointerType==="touch"||xa()||e(t)}}function Wc(e,t,o={}){const[i,r,s]=ga(e,o),a=rr(d=>{const{target:x}=d,u=t(d);if(typeof u!="function"||!x)return;const p=rr(v=>{u(v),x.removeEventListener("pointerleave",p)});x.addEventListener("pointerleave",p,r)});return i.forEach(d=>{d.addEventListener("pointerenter",a,r)}),s}const ua=(e,t)=>t?e===t?!0:ua(e,t.parentElement):!1,hi=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Oc=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Lc(e){return Oc.has(e.tagName)||e.tabIndex!==-1}const cn=new WeakSet;function sr(e){return t=>{t.key==="Enter"&&e(t)}}function no(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Gc=(e,t)=>{const o=e.currentTarget;if(!o)return;const i=sr(()=>{if(cn.has(o))return;no(o,"down");const r=sr(()=>{no(o,"up")}),s=()=>no(o,"cancel");o.addEventListener("keyup",r,t),o.addEventListener("blur",s,t)});o.addEventListener("keydown",i,t),o.addEventListener("blur",()=>o.removeEventListener("keydown",i),t)};function ar(e){return hi(e)&&!xa()}function Vc(e,t,o={}){const[i,r,s]=ga(e,o),a=d=>{const x=d.currentTarget;if(!ar(d)||cn.has(x))return;cn.add(x);const u=t(d),p=(_,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",j),!(!ar(_)||!cn.has(x))&&(cn.delete(x),typeof u=="function"&&u(_,{success:k}))},v=_=>{p(_,o.useGlobalTarget||ua(x,_.target))},j=_=>{p(_,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",j,r)};return i.forEach(d=>{!Lc(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(o.useGlobalTarget?window:d).addEventListener("pointerdown",a,r),d.addEventListener("focus",u=>Gc(u,r),r)}),s}function $c(e){return e==="x"||e==="y"?ht[e]?null:(ht[e]=!0,()=>{ht[e]=!1}):ht.x||ht.y?null:(ht.x=ht.y=!0,()=>{ht.x=ht.y=!1})}const ha=new Set(["width","height","top","left","right","bottom",...rn]);let Dn;function Nc(){Dn=void 0}const yt={now:()=>(Dn===void 0&&yt.set(et.isProcessing||Od.useManualTiming?et.timestamp:performance.now()),Dn),set:e=>{Dn=e,queueMicrotask(Nc)}};function bi(e,t){e.indexOf(t)===-1&&e.push(t)}function mi(e,t){const o=e.indexOf(t);o>-1&&e.splice(o,1)}class yi{constructor(){this.subscriptions=[]}add(t){return bi(this.subscriptions,t),()=>mi(this.subscriptions,t)}notify(t,o,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,o,i);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(t,o,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ba(e,t){return t?e*(1e3/t):0}const lr=30,Hc=e=>!isNaN(parseFloat(e));class Yc{constructor(t,o={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=yt.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=o.owner}setCurrent(t){this.current=t,this.updatedAt=yt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Hc(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,o){this.events[t]||(this.events[t]=new yi);const i=this.events[t].add(o);return t==="change"?()=>{i(),Ee.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,o){this.passiveEffect=t,this.stopPassiveEffect=o}set(t,o=!0){!o||!this.passiveEffect?this.updateAndNotify(t,o):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,o,i){this.set(o),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,o=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>lr)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,lr);return ba(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(t){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=t(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vn(e,t){return new Yc(e,t)}function Uc(e,t,o){e.hasValue(t)?e.getValue(t).set(o):e.addValue(t,vn(o))}function Xc(e,t){const o=Zn(e,t);let{transitionEnd:i={},transition:r={},...s}=o||{};s={...s,...i};for(const a in s){const d=sc(s[a]);Uc(e,a,d)}}function Kc(e){return!!(ot(e)&&e.add)}function _o(e,t){const o=e.getValue("willChange");if(Kc(o))return o.add(t)}function ma(e){return e.props[Xs]}const ya=(e,t,o)=>(((1-3*o+3*t)*e+(3*o-6*t))*e+3*t)*e,qc=1e-7,Zc=12;function Jc(e,t,o,i,r){let s,a,d=0;do a=t+(o-t)/2,s=ya(a,i,r)-e,s>0?o=a:t=a;while(Math.abs(s)>qc&&++d<Zc);return a}function Tn(e,t,o,i){if(e===t&&o===i)return rt;const r=s=>Jc(s,0,1,e,o);return s=>s===0||s===1?s:ya(r(s),t,i)}const va=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Sa=e=>t=>1-e(1-t),ja=Tn(.33,1.53,.69,.99),vi=Sa(ja),Ca=va(vi),wa=e=>(e*=2)<1?.5*vi(e):.5*(2-Math.pow(2,-10*(e-1))),Si=e=>1-Math.sin(Math.acos(e)),ka=Sa(Si),Pa=va(Si),Ta=e=>/^0[^.\s]+$/u.test(e);function Qc(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ta(e):!0}const fn=e=>Math.round(e*1e5)/1e5,ji=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e0(e){return e==null}const t0=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ci=(e,t)=>o=>!!(typeof o=="string"&&t0.test(o)&&o.startsWith(e)||t&&!e0(o)&&Object.prototype.hasOwnProperty.call(o,t)),Ra=(e,t,o)=>i=>{if(typeof i!="string")return i;const[r,s,a,d]=i.match(ji);return{[e]:parseFloat(r),[t]:parseFloat(s),[o]:parseFloat(a),alpha:d!==void 0?parseFloat(d):1}},n0=e=>jt(0,255,e),oo={...sn,transform:e=>Math.round(n0(e))},Lt={test:Ci("rgb","red"),parse:Ra("red","green","blue"),transform:({red:e,green:t,blue:o,alpha:i=1})=>"rgba("+oo.transform(e)+", "+oo.transform(t)+", "+oo.transform(o)+", "+fn(yn.transform(i))+")"};function o0(e){let t="",o="",i="",r="";return e.length>5?(t=e.substring(1,3),o=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),o=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,o+=o,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(o,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Ao={test:Ci("#"),parse:o0,transform:Lt.transform},qt={test:Ci("hsl","hue"),parse:Ra("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:o,alpha:i=1})=>"hsla("+Math.round(e)+", "+mt.transform(fn(t))+", "+mt.transform(fn(o))+", "+fn(yn.transform(i))+")"},nt={test:e=>Lt.test(e)||Ao.test(e)||qt.test(e),parse:e=>Lt.test(e)?Lt.parse(e):qt.test(e)?qt.parse(e):Ao.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Lt.transform(e):qt.transform(e)},i0=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function r0(e){var t,o;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ji))===null||t===void 0?void 0:t.length)||0)+(((o=e.match(i0))===null||o===void 0?void 0:o.length)||0)>0}const Ia="number",za="color",s0="var",a0="var(",dr="${}",l0=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sn(e){const t=e.toString(),o=[],i={color:[],number:[],var:[]},r=[];let s=0;const d=t.replace(l0,x=>(nt.test(x)?(i.color.push(s),r.push(za),o.push(nt.parse(x))):x.startsWith(a0)?(i.var.push(s),r.push(s0),o.push(x)):(i.number.push(s),r.push(Ia),o.push(parseFloat(x))),++s,dr)).split(dr);return{values:o,split:d,indexes:i,types:r}}function Fa(e){return Sn(e).values}function _a(e){const{split:t,types:o}=Sn(e),i=t.length;return r=>{let s="";for(let a=0;a<i;a++)if(s+=t[a],r[a]!==void 0){const d=o[a];d===Ia?s+=fn(r[a]):d===za?s+=nt.transform(r[a]):s+=r[a]}return s}}const d0=e=>typeof e=="number"?0:e;function c0(e){const t=Fa(e);return _a(e)(t.map(d0))}const Ft={test:r0,parse:Fa,createTransformer:_a,getAnimatableNone:c0},p0=new Set(["brightness","contrast","saturate","opacity"]);function f0(e){const[t,o]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=o.match(ji)||[];if(!i)return e;const r=o.replace(i,"");let s=p0.has(t)?1:0;return i!==o&&(s*=100),t+"("+s+r+")"}const x0=/\b([a-z-]*)\(.*?\)/gu,Bo={...Ft,getAnimatableNone:e=>{const t=e.match(x0);return t?t.map(f0).join(" "):e}},g0={...ai,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:Bo,WebkitFilter:Bo},wi=e=>g0[e];function Aa(e,t){let o=wi(e);return o!==Bo&&(o=Ft),o.getAnimatableNone?o.getAnimatableNone(t):void 0}const u0=new Set(["auto","none","0"]);function h0(e,t,o){let i=0,r;for(;i<e.length&&!r;){const s=e[i];typeof s=="string"&&!u0.has(s)&&Sn(s).values.length&&(r=e[i]),i++}if(r&&o)for(const s of t)e[s]=Aa(o,r)}const cr=e=>e===sn||e===ye,pr=(e,t)=>parseFloat(e.split(", ")[t]),fr=(e,t)=>(o,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return pr(r[1],t);{const s=i.match(/^matrix\((.+)\)$/u);return s?pr(s[1],e):0}},b0=new Set(["x","y","z"]),m0=rn.filter(e=>!b0.has(e));function y0(e){const t=[];return m0.forEach(o=>{const i=e.getValue(o);i!==void 0&&(t.push([o,i.get()]),i.set(o.startsWith("scale")?1:0))}),t}const nn={width:({x:e},{paddingLeft:t="0",paddingRight:o="0"})=>e.max-e.min-parseFloat(t)-parseFloat(o),height:({y:e},{paddingTop:t="0",paddingBottom:o="0"})=>e.max-e.min-parseFloat(t)-parseFloat(o),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:fr(4,13),y:fr(5,14)};nn.translateX=nn.x;nn.translateY=nn.y;const Vt=new Set;let Do=!1,Mo=!1;function Ba(){if(Mo){const e=Array.from(Vt).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),o=new Map;t.forEach(i=>{const r=y0(i);r.length&&(o.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=o.get(i);r&&r.forEach(([s,a])=>{var d;(d=i.getValue(s))===null||d===void 0||d.set(a)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Mo=!1,Do=!1,Vt.forEach(e=>e.complete()),Vt.clear()}function Da(){Vt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Mo=!0)})}function v0(){Da(),Ba()}class ki{constructor(t,o,i,r,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=o,this.name=i,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vt.add(this),Do||(Do=!0,Ee.read(Da),Ee.resolveKeyframes(Ba))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:o,element:i,motionValue:r}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const a=r==null?void 0:r.get(),d=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&o){const x=i.readValue(o,d);x!=null&&(t[0]=x)}t[0]===void 0&&(t[0]=d),r&&a===void 0&&r.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ma=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),S0=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function j0(e){const t=S0.exec(e);if(!t)return[,];const[,o,i,r]=t;return[`--${o??i}`,r]}function Ea(e,t,o=1){const[i,r]=j0(e);if(!i)return;const s=window.getComputedStyle(t).getPropertyValue(i);if(s){const a=s.trim();return Ma(a)?parseFloat(a):a}return si(r)?Ea(r,t,o+1):r}const Wa=e=>t=>t.test(e),C0={test:e=>e==="auto",parse:e=>e},Oa=[sn,ye,mt,Rt,fc,pc,C0],xr=e=>Oa.find(Wa(e));class La extends ki{constructor(t,o,i,r,s){super(t,o,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:o,name:i}=this;if(!o||!o.current)return;super.readKeyframes();for(let x=0;x<t.length;x++){let u=t[x];if(typeof u=="string"&&(u=u.trim(),si(u))){const p=Ea(u,o.current);p!==void 0&&(t[x]=p),x===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!ha.has(i)||t.length!==2)return;const[r,s]=t,a=xr(r),d=xr(s);if(a!==d)if(cr(a)&&cr(d))for(let x=0;x<t.length;x++){const u=t[x];typeof u=="string"&&(t[x]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:o}=this,i=[];for(let r=0;r<t.length;r++)Qc(t[r])&&i.push(r);i.length&&h0(t,i,o)}measureInitialState(){const{element:t,unresolvedKeyframes:o,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nn[i](t.measureViewportBox(),window.getComputedStyle(t.current)),o[0]=this.measuredOrigin;const r=o[o.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){var t;const{element:o,name:i,unresolvedKeyframes:r}=this;if(!o||!o.current)return;const s=o.getValue(i);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,d=r[a];r[a]=nn[i](o.measureViewportBox(),window.getComputedStyle(o.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([x,u])=>{o.getValue(x).set(u)}),this.resolveNoneKeyframes()}}const gr=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ft.test(e)||e==="0")&&!e.startsWith("url("));function w0(e){const t=e[0];if(e.length===1)return!0;for(let o=0;o<e.length;o++)if(e[o]!==t)return!0}function k0(e,t,o,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=gr(r,t),d=gr(s,t);return!a||!d?!1:w0(e)||(o==="spring"||gi(o))&&i}const P0=e=>e!==null;function Jn(e,{repeat:t,repeatType:o="loop"},i){const r=e.filter(P0),s=t&&o!=="loop"&&t%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const T0=40;class Ga{constructor({autoplay:t=!0,delay:o=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yt.now(),this.options={autoplay:t,delay:o,type:i,repeat:r,repeatDelay:s,repeatType:a,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>T0?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&v0(),this._resolved}onKeyframesResolved(t,o){this.resolvedAt=yt.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:a,onComplete:d,onUpdate:x,isGenerator:u}=this.options;if(!u&&!k0(t,i,r,s))if(a)this.options.duration=0;else{x&&x(Jn(t,this.options,o)),d&&d(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,o);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:o,...p},this.onPostResolved())}onPostResolved(){}then(t,o){return this.currentFinishedPromise.then(t,o)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Oe=(e,t,o)=>e+(t-e)*o;function io(e,t,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+(t-e)*6*o:o<1/2?t:o<2/3?e+(t-e)*(2/3-o)*6:e}function R0({hue:e,saturation:t,lightness:o,alpha:i}){e/=360,t/=100,o/=100;let r=0,s=0,a=0;if(!t)r=s=a=o;else{const d=o<.5?o*(1+t):o+t-o*t,x=2*o-d;r=io(x,d,e+1/3),s=io(x,d,e),a=io(x,d,e-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}function Ln(e,t){return o=>o>0?t:e}const ro=(e,t,o)=>{const i=e*e,r=o*(t*t-i)+i;return r<0?0:Math.sqrt(r)},I0=[Ao,Lt,qt],z0=e=>I0.find(t=>t.test(e));function ur(e){const t=z0(e);if(!t)return!1;let o=t.parse(e);return t===qt&&(o=R0(o)),o}const hr=(e,t)=>{const o=ur(e),i=ur(t);if(!o||!i)return Ln(e,t);const r={...o};return s=>(r.red=ro(o.red,i.red,s),r.green=ro(o.green,i.green,s),r.blue=ro(o.blue,i.blue,s),r.alpha=Oe(o.alpha,i.alpha,s),Lt.transform(r))},F0=(e,t)=>o=>t(e(o)),Rn=(...e)=>e.reduce(F0),Eo=new Set(["none","hidden"]);function _0(e,t){return Eo.has(e)?o=>o<=0?e:t:o=>o>=1?t:e}function A0(e,t){return o=>Oe(e,t,o)}function Pi(e){return typeof e=="number"?A0:typeof e=="string"?si(e)?Ln:nt.test(e)?hr:M0:Array.isArray(e)?Va:typeof e=="object"?nt.test(e)?hr:B0:Ln}function Va(e,t){const o=[...e],i=o.length,r=e.map((s,a)=>Pi(s)(s,t[a]));return s=>{for(let a=0;a<i;a++)o[a]=r[a](s);return o}}function B0(e,t){const o={...e,...t},i={};for(const r in o)e[r]!==void 0&&t[r]!==void 0&&(i[r]=Pi(e[r])(e[r],t[r]));return r=>{for(const s in i)o[s]=i[s](r);return o}}function D0(e,t){var o;const i=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],d=e.indexes[a][r[a]],x=(o=e.values[d])!==null&&o!==void 0?o:0;i[s]=x,r[a]++}return i}const M0=(e,t)=>{const o=Ft.createTransformer(t),i=Sn(e),r=Sn(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Eo.has(e)&&!r.values.length||Eo.has(t)&&!i.values.length?_0(e,t):Rn(Va(D0(i,r),r.values),o):Ln(e,t)};function $a(e,t,o){return typeof e=="number"&&typeof t=="number"&&typeof o=="number"?Oe(e,t,o):Pi(e)(e,t)}const E0=5;function Na(e,t,o){const i=Math.max(t-E0,0);return ba(o-e(i),t-i)}const Ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},so=.001;function W0({duration:e=Ge.duration,bounce:t=Ge.bounce,velocity:o=Ge.velocity,mass:i=Ge.mass}){let r,s,a=1-t;a=jt(Ge.minDamping,Ge.maxDamping,a),e=jt(Ge.minDuration,Ge.maxDuration,St(e)),a<1?(r=u=>{const p=u*a,v=p*e,j=p-o,_=Wo(u,a),k=Math.exp(-v);return so-j/_*k},s=u=>{const v=u*a*e,j=v*o+o,_=Math.pow(a,2)*Math.pow(u,2)*e,k=Math.exp(-v),B=Wo(Math.pow(u,2),a);return(-r(u)+so>0?-1:1)*((j-_)*k)/B}):(r=u=>{const p=Math.exp(-u*e),v=(u-o)*e+1;return-so+p*v},s=u=>{const p=Math.exp(-u*e),v=(o-u)*(e*e);return p*v});const d=5/e,x=L0(r,s,d);if(e=vt(e),isNaN(x))return{stiffness:Ge.stiffness,damping:Ge.damping,duration:e};{const u=Math.pow(x,2)*i;return{stiffness:u,damping:a*2*Math.sqrt(i*u),duration:e}}}const O0=12;function L0(e,t,o){let i=o;for(let r=1;r<O0;r++)i=i-e(i)/t(i);return i}function Wo(e,t){return e*Math.sqrt(1-t*t)}const G0=["duration","bounce"],V0=["stiffness","damping","mass"];function br(e,t){return t.some(o=>e[o]!==void 0)}function $0(e){let t={velocity:Ge.velocity,stiffness:Ge.stiffness,damping:Ge.damping,mass:Ge.mass,isResolvedFromDuration:!1,...e};if(!br(e,V0)&&br(e,G0))if(e.visualDuration){const o=e.visualDuration,i=2*Math.PI/(o*1.2),r=i*i,s=2*jt(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:Ge.mass,stiffness:r,damping:s}}else{const o=W0(e);t={...t,...o,mass:Ge.mass},t.isResolvedFromDuration=!0}return t}function Ha(e=Ge.visualDuration,t=Ge.bounce){const o=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=o;const s=o.keyframes[0],a=o.keyframes[o.keyframes.length-1],d={done:!1,value:s},{stiffness:x,damping:u,mass:p,duration:v,velocity:j,isResolvedFromDuration:_}=$0({...o,velocity:-St(o.velocity||0)}),k=j||0,B=u/(2*Math.sqrt(x*p)),E=a-s,w=St(Math.sqrt(x/p)),F=Math.abs(E)<5;i||(i=F?Ge.restSpeed.granular:Ge.restSpeed.default),r||(r=F?Ge.restDelta.granular:Ge.restDelta.default);let R;if(B<1){const l=Wo(w,B);R=O=>{const ne=Math.exp(-B*w*O);return a-ne*((k+B*w*E)/l*Math.sin(l*O)+E*Math.cos(l*O))}}else if(B===1)R=l=>a-Math.exp(-w*l)*(E+(k+w*E)*l);else{const l=w*Math.sqrt(B*B-1);R=O=>{const ne=Math.exp(-B*w*O),Z=Math.min(l*O,300);return a-ne*((k+B*w*E)*Math.sinh(Z)+l*E*Math.cosh(Z))/l}}const M={calculatedDuration:_&&v||null,next:l=>{const O=R(l);if(_)d.done=l>=v;else{let ne=0;B<1&&(ne=l===0?vt(k):Na(R,l,O));const Z=Math.abs(ne)<=i,re=Math.abs(a-O)<=r;d.done=Z&&re}return d.value=d.done?a:O,d},toString:()=>{const l=Math.min(da(M),zo),O=ca(ne=>M.next(l*ne).value,l,30);return l+"ms "+O}};return M}function mr({keyframes:e,velocity:t=0,power:o=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:d,max:x,restDelta:u=.5,restSpeed:p}){const v=e[0],j={done:!1,value:v},_=Z=>d!==void 0&&Z<d||x!==void 0&&Z>x,k=Z=>d===void 0?x:x===void 0||Math.abs(d-Z)<Math.abs(x-Z)?d:x;let B=o*t;const E=v+B,w=a===void 0?E:a(E);w!==E&&(B=w-v);const F=Z=>-B*Math.exp(-Z/i),R=Z=>w+F(Z),M=Z=>{const re=F(Z),X=R(Z);j.done=Math.abs(re)<=u,j.value=j.done?w:X};let l,O;const ne=Z=>{_(j.value)&&(l=Z,O=Ha({keyframes:[j.value,k(j.value)],velocity:Na(R,Z,j.value),damping:r,stiffness:s,restDelta:u,restSpeed:p}))};return ne(0),{calculatedDuration:null,next:Z=>{let re=!1;return!O&&l===void 0&&(re=!0,M(Z),ne(Z)),l!==void 0&&Z>=l?O.next(Z-l):(!re&&M(Z),j)}}}const N0=Tn(.42,0,1,1),H0=Tn(0,0,.58,1),Ya=Tn(.42,0,.58,1),Y0=e=>Array.isArray(e)&&typeof e[0]!="number",U0={linear:rt,easeIn:N0,easeInOut:Ya,easeOut:H0,circIn:Si,circInOut:Pa,circOut:ka,backIn:vi,backInOut:Ca,backOut:ja,anticipate:wa},yr=e=>{if(ui(e)){$s(e.length===4);const[t,o,i,r]=e;return Tn(t,o,i,r)}else if(typeof e=="string")return U0[e];return e};function X0(e,t,o){const i=[],r=o||$a,s=e.length-1;for(let a=0;a<s;a++){let d=r(e[a],e[a+1]);if(t){const x=Array.isArray(t)?t[a]||rt:t;d=Rn(x,d)}i.push(d)}return i}function K0(e,t,{clamp:o=!0,ease:i,mixer:r}={}){const s=e.length;if($s(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=X0(t,i,r),x=d.length,u=p=>{if(a&&p<e[0])return t[0];let v=0;if(x>1)for(;v<e.length-2&&!(p<e[v+1]);v++);const j=en(e[v],e[v+1],p);return d[v](j)};return o?p=>u(jt(e[0],e[s-1],p)):u}function q0(e,t){const o=e[e.length-1];for(let i=1;i<=t;i++){const r=en(0,t,i);e.push(Oe(o,1,r))}}function Z0(e){const t=[0];return q0(t,e.length-1),t}function J0(e,t){return e.map(o=>o*t)}function Q0(e,t){return e.map(()=>t||Ya).splice(0,e.length-1)}function Gn({duration:e=300,keyframes:t,times:o,ease:i="easeInOut"}){const r=Y0(i)?i.map(yr):yr(i),s={done:!1,value:t[0]},a=J0(o&&o.length===t.length?o:Z0(t),e),d=K0(a,t,{ease:Array.isArray(r)?r:Q0(t,r)});return{calculatedDuration:e,next:x=>(s.value=d(x),s.done=x>=e,s)}}const ep=e=>{const t=({timestamp:o})=>e(o);return{start:()=>Ee.update(t,!0),stop:()=>zt(t),now:()=>et.isProcessing?et.timestamp:yt.now()}},tp={decay:mr,inertia:mr,tween:Gn,keyframes:Gn,spring:Ha},np=e=>e/100;class Ti extends Ga{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:x}=this.options;x&&x()};const{name:o,motionValue:i,element:r,keyframes:s}=this.options,a=(r==null?void 0:r.KeyframeResolver)||ki,d=(x,u)=>this.onKeyframesResolved(x,u);this.resolver=new a(s,d,o,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:o="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=this.options,d=gi(o)?o:tp[o]||Gn;let x,u;d!==Gn&&typeof t[0]!="number"&&(x=Rn(np,$a(t[0],t[1])),t=[0,100]);const p=d({...this.options,keyframes:t});s==="mirror"&&(u=d({...this.options,keyframes:[...t].reverse(),velocity:-a})),p.calculatedDuration===null&&(p.calculatedDuration=da(p));const{calculatedDuration:v}=p,j=v+r,_=j*(i+1)-r;return{generator:p,mirroredGenerator:u,mapPercentToKeyframes:x,calculatedDuration:v,resolvedDuration:j,totalDuration:_}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,o=!1){const{resolved:i}=this;if(!i){const{keyframes:Z}=this.options;return{done:!0,value:Z[Z.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:a,mapPercentToKeyframes:d,keyframes:x,calculatedDuration:u,totalDuration:p,resolvedDuration:v}=i;if(this.startTime===null)return s.next(0);const{delay:j,repeat:_,repeatType:k,repeatDelay:B,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),o?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const w=this.currentTime-j*(this.speed>=0?1:-1),F=this.speed>=0?w<0:w>p;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let R=this.currentTime,M=s;if(_){const Z=Math.min(this.currentTime,p)/v;let re=Math.floor(Z),X=Z%1;!X&&Z>=1&&(X=1),X===1&&re--,re=Math.min(re,_+1),!!(re%2)&&(k==="reverse"?(X=1-X,B&&(X-=B/v)):k==="mirror"&&(M=a)),R=jt(0,1,X)*v}const l=F?{done:!1,value:x[0]}:M.next(R);d&&(l.value=d(l.value));let{done:O}=l;!F&&u!==null&&(O=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const ne=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return ne&&r!==void 0&&(l.value=Jn(x,this.options,r)),E&&E(l.value),ne&&this.finish(),l}get duration(){const{resolved:t}=this;return t?St(t.calculatedDuration):0}get time(){return St(this.currentTime)}set time(t){t=vt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const o=this.playbackSpeed!==t;this.playbackSpeed=t,o&&(this.time=St(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=ep,onPlay:o,startTime:i}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),o&&o();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const op=new Set(["opacity","clipPath","filter","transform"]);function ip(e,t,o,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:d="easeInOut",times:x}={}){const u={[t]:o};x&&(u.offset=x);const p=fa(d,r);return Array.isArray(p)&&(u.easing=p),e.animate(u,{delay:i,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const rp=Qo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Vn=10,sp=2e4;function ap(e){return gi(e.type)||e.type==="spring"||!pa(e.ease)}function lp(e,t){const o=new Ti({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const r=[];let s=0;for(;!i.done&&s<sp;)i=o.sample(s),r.push(i.value),s+=Vn;return{times:void 0,keyframes:r,duration:s-Vn,ease:"linear"}}const Ua={anticipate:wa,backInOut:Ca,circInOut:Pa};function dp(e){return e in Ua}class vr extends Ga{constructor(t){super(t);const{name:o,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new La(s,(a,d)=>this.onKeyframesResolved(a,d),o,i,r),this.resolver.scheduleResolve()}initPlayback(t,o){let{duration:i=300,times:r,ease:s,type:a,motionValue:d,name:x,startTime:u}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof s=="string"&&On()&&dp(s)&&(s=Ua[s]),ap(this.options)){const{onComplete:v,onUpdate:j,motionValue:_,element:k,...B}=this.options,E=lp(t,B);t=E.keyframes,t.length===1&&(t[1]=t[0]),i=E.duration,r=E.times,s=E.ease,a="keyframes"}const p=ip(d.owner.current,x,t,{...this.options,duration:i,times:r,ease:s});return p.startTime=u??this.calcStartTime(),this.pendingTimeline?(ir(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:v}=this.options;d.set(Jn(t,this.options,o)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:i,times:r,type:a,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:o}=t;return St(o)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:o}=t;return St(o.currentTime||0)}set time(t){const{resolved:o}=this;if(!o)return;const{animation:i}=o;i.currentTime=vt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:o}=t;return o.playbackRate}set speed(t){const{resolved:o}=this;if(!o)return;const{animation:i}=o;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:o}=t;return o.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:o}=t;return o.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:o}=this;if(!o)return rt;const{animation:i}=o;ir(i,t)}return rt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:o}=t;o.playState==="finished"&&this.updateFinishedPromise(),o.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:o}=t;o.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:o,keyframes:i,duration:r,type:s,ease:a,times:d}=t;if(o.playState==="idle"||o.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:p,onComplete:v,element:j,..._}=this.options,k=new Ti({..._,keyframes:i,duration:r,type:s,ease:a,times:d,isGenerator:!0}),B=vt(this.time);u.setWithVelocity(k.sample(B-Vn).value,k.sample(B).value,Vn)}const{onStop:x}=this.options;x&&x(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:o,name:i,repeatDelay:r,repeatType:s,damping:a,type:d}=t;if(!o||!o.owner||!(o.owner.current instanceof HTMLElement))return!1;const{onUpdate:x,transformTemplate:u}=o.owner.getProps();return rp()&&i&&op.has(i)&&!x&&!u&&!r&&s!=="mirror"&&a!==0&&d!=="inertia"}}const cp={type:"spring",stiffness:500,damping:25,restSpeed:10},pp=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fp={type:"keyframes",duration:.8},xp={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gp=(e,{keyframes:t})=>t.length>2?fp:Yt.has(e)?e.startsWith("scale")?pp(t[1]):cp:xp;function up({when:e,delay:t,delayChildren:o,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:d,from:x,elapsed:u,...p}){return!!Object.keys(p).length}const Ri=(e,t,o,i={},r,s)=>a=>{const d=xi(i,e)||{},x=d.delay||i.delay||0;let{elapsed:u=0}=i;u=u-vt(x);let p={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-u,onUpdate:j=>{t.set(j),d.onUpdate&&d.onUpdate(j)},onComplete:()=>{a(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:s?void 0:r};up(d)||(p={...p,...gp(e,p)}),p.duration&&(p.duration=vt(p.duration)),p.repeatDelay&&(p.repeatDelay=vt(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(v=!0)),v&&!s&&t.get()!==void 0){const j=Jn(p.keyframes,d);if(j!==void 0)return Ee.update(()=>{p.onUpdate(j),p.onComplete()}),new Bc([])}return!s&&vr.supports(p)?new vr(p):new Ti(p)};function hp({protectedKeys:e,needsAnimating:t},o){const i=e.hasOwnProperty(o)&&t[o]!==!0;return t[o]=!1,i}function Xa(e,t,{delay:o=0,transitionOverride:i,type:r}={}){var s;let{transition:a=e.getDefaultTransition(),transitionEnd:d,...x}=t;i&&(a=i);const u=[],p=r&&e.animationState&&e.animationState.getState()[r];for(const v in x){const j=e.getValue(v,(s=e.latestValues[v])!==null&&s!==void 0?s:null),_=x[v];if(_===void 0||p&&hp(p,v))continue;const k={delay:o,...xi(a||{},v)};let B=!1;if(window.MotionHandoffAnimation){const w=ma(e);if(w){const F=window.MotionHandoffAnimation(w,v,Ee);F!==null&&(k.startTime=F,B=!0)}}_o(e,v),j.start(Ri(v,j,_,e.shouldReduceMotion&&ha.has(v)?{type:!1}:k,e,B));const E=j.animation;E&&u.push(E)}return d&&Promise.all(u).then(()=>{Ee.update(()=>{d&&Xc(e,d)})}),u}function Oo(e,t,o={}){var i;const r=Zn(e,t,o.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};o.transitionOverride&&(s=o.transitionOverride);const a=r?()=>Promise.all(Xa(e,r,o)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:j}=s;return bp(e,t,p+u,v,j,o)}:()=>Promise.resolve(),{when:x}=s;if(x){const[u,p]=x==="beforeChildren"?[a,d]:[d,a];return u().then(()=>p())}else return Promise.all([a(),d(o.delay)])}function bp(e,t,o=0,i=0,r=1,s){const a=[],d=(e.variantChildren.size-1)*i,x=r===1?(u=0)=>u*i:(u=0)=>d-u*i;return Array.from(e.variantChildren).sort(mp).forEach((u,p)=>{u.notify("AnimationStart",t),a.push(Oo(u,t,{...s,delay:o+x(p)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function mp(e,t){return e.sortNodePosition(t)}function yp(e,t,o={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(s=>Oo(e,s,o));i=Promise.all(r)}else if(typeof t=="string")i=Oo(e,t,o);else{const r=typeof t=="function"?Zn(e,t,o.custom):t;i=Promise.all(Xa(e,r,o))}return i.then(()=>{e.notify("AnimationComplete",t)})}const vp=ti.length;function Ka(e){if(!e)return;if(!e.isControllingVariants){const o=e.parent?Ka(e.parent)||{}:{};return e.props.initial!==void 0&&(o.initial=e.props.initial),o}const t={};for(let o=0;o<vp;o++){const i=ti[o],r=e.props[i];(mn(r)||r===!1)&&(t[i]=r)}return t}const Sp=[...ei].reverse(),jp=ei.length;function Cp(e){return t=>Promise.all(t.map(({animation:o,options:i})=>yp(e,o,i)))}function wp(e){let t=Cp(e),o=Sr(),i=!0;const r=x=>(u,p)=>{var v;const j=Zn(e,p,x==="exit"?(v=e.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(j){const{transition:_,transitionEnd:k,...B}=j;u={...u,...B,...k}}return u};function s(x){t=x(e)}function a(x){const{props:u}=e,p=Ka(e.parent)||{},v=[],j=new Set;let _={},k=1/0;for(let E=0;E<jp;E++){const w=Sp[E],F=o[w],R=u[w]!==void 0?u[w]:p[w],M=mn(R),l=w===x?F.isActive:null;l===!1&&(k=E);let O=R===p[w]&&R!==u[w]&&M;if(O&&i&&e.manuallyAnimateOnMount&&(O=!1),F.protectedKeys={..._},!F.isActive&&l===null||!R&&!F.prevProp||Kn(R)||typeof R=="boolean")continue;const ne=kp(F.prevProp,R);let Z=ne||w===x&&F.isActive&&!O&&M||E>k&&M,re=!1;const X=Array.isArray(R)?R:[R];let te=X.reduce(r(w),{});l===!1&&(te={});const{prevResolvedValues:Se={}}=F,Pe={...Se,...te},ie=de=>{Z=!0,j.has(de)&&(re=!0,j.delete(de)),F.needsAnimating[de]=!0;const N=e.getValue(de);N&&(N.liveStyle=!1)};for(const de in Pe){const N=te[de],V=Se[de];if(_.hasOwnProperty(de))continue;let $=!1;Io(N)&&Io(V)?$=!la(N,V):$=N!==V,$?N!=null?ie(de):j.add(de):N!==void 0&&j.has(de)?ie(de):F.protectedKeys[de]=!0}F.prevProp=R,F.prevResolvedValues=te,F.isActive&&(_={..._,...te}),i&&e.blockInitialAnimation&&(Z=!1),Z&&(!(O&&ne)||re)&&v.push(...X.map(de=>({animation:de,options:{type:w}})))}if(j.size){const E={};j.forEach(w=>{const F=e.getBaseTarget(w),R=e.getValue(w);R&&(R.liveStyle=!0),E[w]=F??null}),v.push({animation:E})}let B=!!v.length;return i&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(B=!1),i=!1,B?t(v):Promise.resolve()}function d(x,u){var p;if(o[x].isActive===u)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(j=>{var _;return(_=j.animationState)===null||_===void 0?void 0:_.setActive(x,u)}),o[x].isActive=u;const v=a(x);for(const j in o)o[j].protectedKeys={};return v}return{animateChanges:a,setActive:d,setAnimateFunction:s,getState:()=>o,reset:()=>{o=Sr(),i=!0}}}function kp(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!la(t,e):!1}function Dt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sr(){return{animate:Dt(!0),whileInView:Dt(),whileHover:Dt(),whileTap:Dt(),whileDrag:Dt(),whileFocus:Dt(),exit:Dt()}}class _t{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Pp extends _t{constructor(t){super(t),t.animationState||(t.animationState=wp(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Kn(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:o}=this.node.prevProps||{};t!==o&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Tp=0;class Rp extends _t{constructor(){super(...arguments),this.id=Tp++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:o}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);o&&!t&&r.then(()=>o(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Ip={animation:{Feature:Pp},exit:{Feature:Rp}};function jn(e,t,o,i={passive:!0}){return e.addEventListener(t,o,i),()=>e.removeEventListener(t,o)}function In(e){return{point:{x:e.pageX,y:e.pageY}}}const zp=e=>t=>hi(t)&&e(t,In(t));function xn(e,t,o,i){return jn(e,t,zp(o),i)}const jr=(e,t)=>Math.abs(e-t);function Fp(e,t){const o=jr(e.x,t.x),i=jr(e.y,t.y);return Math.sqrt(o**2+i**2)}class qa{constructor(t,o,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=lo(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,_=Fp(v.offset,{x:0,y:0})>=3;if(!j&&!_)return;const{point:k}=v,{timestamp:B}=et;this.history.push({...k,timestamp:B});const{onStart:E,onMove:w}=this.handlers;j||(E&&E(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,v)},this.handlePointerMove=(v,j)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=ao(j,this.transformPagePoint),Ee.update(this.updatePoint,!0)},this.handlePointerUp=(v,j)=>{this.end();const{onEnd:_,onSessionEnd:k,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=lo(v.type==="pointercancel"?this.lastMoveEventInfo:ao(j,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,E),k&&k(v,E)},!hi(t))return;this.dragSnapToOrigin=s,this.handlers=o,this.transformPagePoint=i,this.contextWindow=r||window;const a=In(t),d=ao(a,this.transformPagePoint),{point:x}=d,{timestamp:u}=et;this.history=[{...x,timestamp:u}];const{onSessionStart:p}=o;p&&p(t,lo(d,this.history)),this.removeListeners=Rn(xn(this.contextWindow,"pointermove",this.handlePointerMove),xn(this.contextWindow,"pointerup",this.handlePointerUp),xn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zt(this.updatePoint)}}function ao(e,t){return t?{point:t(e.point)}:e}function Cr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function lo({point:e},t){return{point:e,delta:Cr(e,Za(t)),offset:Cr(e,_p(t)),velocity:Ap(t,.1)}}function _p(e){return e[0]}function Za(e){return e[e.length-1]}function Ap(e,t){if(e.length<2)return{x:0,y:0};let o=e.length-1,i=null;const r=Za(e);for(;o>=0&&(i=e[o],!(r.timestamp-i.timestamp>vt(t)));)o--;if(!i)return{x:0,y:0};const s=St(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const Ja=1e-4,Bp=1-Ja,Dp=1+Ja,Qa=.01,Mp=0-Qa,Ep=0+Qa;function st(e){return e.max-e.min}function Wp(e,t,o){return Math.abs(e-t)<=o}function wr(e,t,o,i=.5){e.origin=i,e.originPoint=Oe(t.min,t.max,e.origin),e.scale=st(o)/st(t),e.translate=Oe(o.min,o.max,e.origin)-e.originPoint,(e.scale>=Bp&&e.scale<=Dp||isNaN(e.scale))&&(e.scale=1),(e.translate>=Mp&&e.translate<=Ep||isNaN(e.translate))&&(e.translate=0)}function gn(e,t,o,i){wr(e.x,t.x,o.x,i?i.originX:void 0),wr(e.y,t.y,o.y,i?i.originY:void 0)}function kr(e,t,o){e.min=o.min+t.min,e.max=e.min+st(t)}function Op(e,t,o){kr(e.x,t.x,o.x),kr(e.y,t.y,o.y)}function Pr(e,t,o){e.min=t.min-o.min,e.max=e.min+st(t)}function un(e,t,o){Pr(e.x,t.x,o.x),Pr(e.y,t.y,o.y)}function Lp(e,{min:t,max:o},i){return t!==void 0&&e<t?e=i?Oe(t,e,i.min):Math.max(e,t):o!==void 0&&e>o&&(e=i?Oe(o,e,i.max):Math.min(e,o)),e}function Tr(e,t,o){return{min:t!==void 0?e.min+t:void 0,max:o!==void 0?e.max+o-(e.max-e.min):void 0}}function Gp(e,{top:t,left:o,bottom:i,right:r}){return{x:Tr(e.x,o,r),y:Tr(e.y,t,i)}}function Rr(e,t){let o=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([o,i]=[i,o]),{min:o,max:i}}function Vp(e,t){return{x:Rr(e.x,t.x),y:Rr(e.y,t.y)}}function $p(e,t){let o=.5;const i=st(e),r=st(t);return r>i?o=en(t.min,t.max-i,e.min):i>r&&(o=en(e.min,e.max-r,t.min)),jt(0,1,o)}function Np(e,t){const o={};return t.min!==void 0&&(o.min=t.min-e.min),t.max!==void 0&&(o.max=t.max-e.min),o}const Lo=.35;function Hp(e=Lo){return e===!1?e=0:e===!0&&(e=Lo),{x:Ir(e,"left","right"),y:Ir(e,"top","bottom")}}function Ir(e,t,o){return{min:zr(e,t),max:zr(e,o)}}function zr(e,t){return typeof e=="number"?e:e[t]||0}const Fr=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zt=()=>({x:Fr(),y:Fr()}),_r=()=>({min:0,max:0}),Ne=()=>({x:_r(),y:_r()});function pt(e){return[e("x"),e("y")]}function el({top:e,left:t,right:o,bottom:i}){return{x:{min:t,max:o},y:{min:e,max:i}}}function Yp({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Up(e,t){if(!t)return e;const o=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:o.y,left:o.x,bottom:i.y,right:i.x}}function co(e){return e===void 0||e===1}function Go({scale:e,scaleX:t,scaleY:o}){return!co(e)||!co(t)||!co(o)}function Wt(e){return Go(e)||tl(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tl(e){return Ar(e.x)||Ar(e.y)}function Ar(e){return e&&e!=="0%"}function $n(e,t,o){const i=e-o,r=t*i;return o+r}function Br(e,t,o,i,r){return r!==void 0&&(e=$n(e,r,i)),$n(e,o,i)+t}function Vo(e,t=0,o=1,i,r){e.min=Br(e.min,t,o,i,r),e.max=Br(e.max,t,o,i,r)}function nl(e,{x:t,y:o}){Vo(e.x,t.translate,t.scale,t.originPoint),Vo(e.y,o.translate,o.scale,o.originPoint)}const Dr=.999999999999,Mr=1.0000000000001;function Xp(e,t,o,i=!1){const r=o.length;if(!r)return;t.x=t.y=1;let s,a;for(let d=0;d<r;d++){s=o[d],a=s.projectionDelta;const{visualElement:x}=s.options;x&&x.props.style&&x.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qt(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,nl(e,a)),i&&Wt(s.latestValues)&&Qt(e,s.latestValues))}t.x<Mr&&t.x>Dr&&(t.x=1),t.y<Mr&&t.y>Dr&&(t.y=1)}function Jt(e,t){e.min=e.min+t,e.max=e.max+t}function Er(e,t,o,i,r=.5){const s=Oe(e.min,e.max,r);Vo(e,t,o,s,i)}function Qt(e,t){Er(e.x,t.x,t.scaleX,t.scale,t.originX),Er(e.y,t.y,t.scaleY,t.scale,t.originY)}function ol(e,t){return el(Up(e.getBoundingClientRect(),t))}function Kp(e,t,o){const i=ol(e,o),{scroll:r}=t;return r&&(Jt(i.x,r.offset.x),Jt(i.y,r.offset.y)),i}const il=({current:e})=>e?e.ownerDocument.defaultView:null,qp=new WeakMap;class Zp{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ne(),this.visualElement=t}start(t,{snapToCursor:o=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(In(p).point)},s=(p,v)=>{const{drag:j,dragPropagation:_,onDragStart:k}=this.getProps();if(j&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$c(j),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pt(E=>{let w=this.getAxisMotionValue(E).get()||0;if(mt.test(w)){const{projection:F}=this.visualElement;if(F&&F.layout){const R=F.layout.layoutBox[E];R&&(w=st(R)*(parseFloat(w)/100))}}this.originPoint[E]=w}),k&&Ee.postRender(()=>k(p,v)),_o(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},a=(p,v)=>{const{dragPropagation:j,dragDirectionLock:_,onDirectionLock:k,onDrag:B}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:E}=v;if(_&&this.currentDirection===null){this.currentDirection=Jp(E),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",v.point,E),this.updateAxis("y",v.point,E),this.visualElement.render(),B&&B(p,v)},d=(p,v)=>this.stop(p,v),x=()=>pt(p=>{var v;return this.getAnimationState(p)==="paused"&&((v=this.getAxisMotionValue(p).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new qa(t,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:d,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:il(this.visualElement)})}stop(t,o){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=o;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Ee.postRender(()=>s(t,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:o}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(t,o,i){const{drag:r}=this.getProps();if(!i||!An(t,r,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(a=Lp(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var t;const{dragConstraints:o,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;o&&Kt(o)?this.constraints||(this.constraints=this.resolveRefConstraints()):o&&r?this.constraints=Gp(r.layoutBox,o):this.constraints=!1,this.elastic=Hp(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&pt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Np(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:o}=this.getProps();if(!t||!Kt(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Kp(i,r.root,this.visualElement.getTransformPagePoint());let a=Vp(r.layout.layoutBox,s);if(o){const d=o(Yp(a));this.hasMutatedConstraints=!!d,d&&(a=el(d))}return a}startAnimation(t){const{drag:o,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:d}=this.getProps(),x=this.constraints||{},u=pt(p=>{if(!An(p,o,this.currentDirection))return;let v=x&&x[p]||{};a&&(v={min:0,max:0});const j=r?200:1e6,_=r?40:1e7,k={type:"inertia",velocity:i?t[p]:0,bounceStiffness:j,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...s,...v};return this.startAxisValueAnimation(p,k)});return Promise.all(u).then(d)}startAxisValueAnimation(t,o){const i=this.getAxisMotionValue(t);return _o(this.visualElement,t),i.start(Ri(t,i,0,o,this.visualElement,!1))}stopAnimation(){pt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pt(t=>{var o;return(o=this.getAxisMotionValue(t).animation)===null||o===void 0?void 0:o.pause()})}getAnimationState(t){var o;return(o=this.getAxisMotionValue(t).animation)===null||o===void 0?void 0:o.state}getAxisMotionValue(t){const o=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[o];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){pt(o=>{const{drag:i}=this.getProps();if(!An(o,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(o);if(r&&r.layout){const{min:a,max:d}=r.layout.layoutBox[o];s.set(t[o]-Oe(a,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:o}=this.getProps(),{projection:i}=this.visualElement;if(!Kt(o)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};pt(a=>{const d=this.getAxisMotionValue(a);if(d&&this.constraints!==!1){const x=d.get();r[a]=$p({min:x,max:x},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),pt(a=>{if(!An(a,t,null))return;const d=this.getAxisMotionValue(a),{min:x,max:u}=this.constraints[a];d.set(Oe(x,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;qp.set(this.visualElement,this);const t=this.visualElement.current,o=xn(t,"pointerdown",x=>{const{drag:u,dragListener:p=!0}=this.getProps();u&&p&&this.start(x)}),i=()=>{const{dragConstraints:x}=this.getProps();Kt(x)&&x.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Ee.read(i);const a=jn(window,"resize",()=>this.scalePositionWithinConstraints()),d=r.addEventListener("didUpdate",({delta:x,hasLayoutChanged:u})=>{this.isDragging&&u&&(pt(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=x[p].translate,v.set(v.get()+x[p].translate))}),this.visualElement.render())});return()=>{a(),o(),s(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=Lo,dragMomentum:d=!0}=t;return{...t,drag:o,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:d}}}function An(e,t,o){return(t===!0||t===e)&&(o===null||o===e)}function Jp(e,t=10){let o=null;return Math.abs(e.y)>t?o="y":Math.abs(e.x)>t&&(o="x"),o}class Qp extends _t{constructor(t){super(t),this.removeGroupControls=rt,this.removeListeners=rt,this.controls=new Zp(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wr=e=>(t,o)=>{e&&Ee.postRender(()=>e(t,o))};class ef extends _t{constructor(){super(...arguments),this.removePointerDownListener=rt}onPointerDown(t){this.session=new qa(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:il(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:o,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Wr(t),onStart:Wr(o),onMove:i,onEnd:(s,a)=>{delete this.session,r&&Ee.postRender(()=>r(s,a))}}}mount(){this.removePointerDownListener=xn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Or(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const an={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ye.test(e))e=parseFloat(e);else return e;const o=Or(e,t.target.x),i=Or(e,t.target.y);return`${o}% ${i}%`}},tf={correct:(e,{treeScale:t,projectionDelta:o})=>{const i=e,r=Ft.parse(e);if(r.length>5)return i;const s=Ft.createTransformer(e),a=typeof r[0]!="number"?1:0,d=o.x.scale*t.x,x=o.y.scale*t.y;r[0+a]/=d,r[1+a]/=x;const u=Oe(d,x,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),s(r)}};class nf extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:o,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=t;jc(of),s&&(o.group&&o.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Mn.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:o,visualElement:i,drag:r,isPresent:s}=this.props,a=i.projection;return a&&(a.isPresent=s,r||t.layoutDependency!==o||o===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||Ee.postRender(()=>{const d=a.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),oi.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:o,switchLayoutGroup:i}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rl(e){const[t,o]=Gs(),i=h.useContext(Ko);return n.jsx(nf,{...e,layoutGroup:i,switchLayoutGroup:h.useContext(Ks),isPresent:t,safeToRemove:o})}const of={borderRadius:{...an,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:an,borderTopRightRadius:an,borderBottomLeftRadius:an,borderBottomRightRadius:an,boxShadow:tf};function rf(e,t,o){const i=ot(e)?e:vn(e);return i.start(Ri("",i,t,o)),i.animation}function sf(e){return e instanceof SVGElement&&e.tagName!=="svg"}const af=(e,t)=>e.depth-t.depth;class lf{constructor(){this.children=[],this.isDirty=!1}add(t){bi(this.children,t),this.isDirty=!0}remove(t){mi(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(af),this.isDirty=!1,this.children.forEach(t)}}function df(e,t){const o=yt.now(),i=({timestamp:r})=>{const s=r-o;s>=t&&(zt(i),e(s-t))};return Ee.read(i,!0),()=>zt(i)}const sl=["TopLeft","TopRight","BottomLeft","BottomRight"],cf=sl.length,Lr=e=>typeof e=="string"?parseFloat(e):e,Gr=e=>typeof e=="number"||ye.test(e);function pf(e,t,o,i,r,s){r?(e.opacity=Oe(0,o.opacity!==void 0?o.opacity:1,ff(i)),e.opacityExit=Oe(t.opacity!==void 0?t.opacity:1,0,xf(i))):s&&(e.opacity=Oe(t.opacity!==void 0?t.opacity:1,o.opacity!==void 0?o.opacity:1,i));for(let a=0;a<cf;a++){const d=`border${sl[a]}Radius`;let x=Vr(t,d),u=Vr(o,d);if(x===void 0&&u===void 0)continue;x||(x=0),u||(u=0),x===0||u===0||Gr(x)===Gr(u)?(e[d]=Math.max(Oe(Lr(x),Lr(u),i),0),(mt.test(u)||mt.test(x))&&(e[d]+="%")):e[d]=u}(t.rotate||o.rotate)&&(e.rotate=Oe(t.rotate||0,o.rotate||0,i))}function Vr(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ff=al(0,.5,ka),xf=al(.5,.95,rt);function al(e,t,o){return i=>i<e?0:i>t?1:o(en(e,t,i))}function $r(e,t){e.min=t.min,e.max=t.max}function ct(e,t){$r(e.x,t.x),$r(e.y,t.y)}function Nr(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Hr(e,t,o,i,r){return e-=t,e=$n(e,1/o,i),r!==void 0&&(e=$n(e,1/r,i)),e}function gf(e,t=0,o=1,i=.5,r,s=e,a=e){if(mt.test(t)&&(t=parseFloat(t),t=Oe(a.min,a.max,t/100)-a.min),typeof t!="number")return;let d=Oe(s.min,s.max,i);e===s&&(d-=t),e.min=Hr(e.min,t,o,d,r),e.max=Hr(e.max,t,o,d,r)}function Yr(e,t,[o,i,r],s,a){gf(e,t[o],t[i],t[r],t.scale,s,a)}const uf=["x","scaleX","originX"],hf=["y","scaleY","originY"];function Ur(e,t,o,i){Yr(e.x,t,uf,o?o.x:void 0,i?i.x:void 0),Yr(e.y,t,hf,o?o.y:void 0,i?i.y:void 0)}function Xr(e){return e.translate===0&&e.scale===1}function ll(e){return Xr(e.x)&&Xr(e.y)}function Kr(e,t){return e.min===t.min&&e.max===t.max}function bf(e,t){return Kr(e.x,t.x)&&Kr(e.y,t.y)}function qr(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dl(e,t){return qr(e.x,t.x)&&qr(e.y,t.y)}function Zr(e){return st(e.x)/st(e.y)}function Jr(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class mf{constructor(){this.members=[]}add(t){bi(this.members,t),t.scheduleRender()}remove(t){if(mi(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(t){const o=this.members.findIndex(r=>t===r);if(o===0)return!1;let i;for(let r=o;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(t,o){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,o&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:o,resumingFrom:i}=t;o.onExitComplete&&o.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yf(e,t,o){let i="";const r=e.x.translate/t.x,s=e.y.translate/t.y,a=(o==null?void 0:o.z)||0;if((r||s||a)&&(i=`translate3d(${r}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),o){const{transformPerspective:u,rotate:p,rotateX:v,rotateY:j,skewX:_,skewY:k}=o;u&&(i=`perspective(${u}px) ${i}`),p&&(i+=`rotate(${p}deg) `),v&&(i+=`rotateX(${v}deg) `),j&&(i+=`rotateY(${j}deg) `),_&&(i+=`skewX(${_}deg) `),k&&(i+=`skewY(${k}deg) `)}const d=e.x.scale*t.x,x=e.y.scale*t.y;return(d!==1||x!==1)&&(i+=`scale(${d}, ${x})`),i||"none"}const Ot={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},pn=typeof window<"u"&&window.MotionDebug!==void 0,po=["","X","Y","Z"],vf={visibility:"hidden"},Qr=1e3;let Sf=0;function fo(e,t,o,i){const{latestValues:r}=t;r[e]&&(o[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function cl(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const o=ma(t);if(window.MotionHasOptimisedAnimation(o,"transform")){const{layout:r,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(o,"transform",Ee,!(r||s))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&cl(i)}function pl({attachResizeListener:e,defaultParent:t,measureScroll:o,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},d=t==null?void 0:t()){this.id=Sf++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,pn&&(Ot.totalNodes=Ot.resolvedTargetDeltas=Ot.recalculatedProjection=0),this.nodes.forEach(wf),this.nodes.forEach(If),this.nodes.forEach(zf),this.nodes.forEach(kf),pn&&window.MotionDebug.record(Ot)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new lf)}addEventListener(a,d){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new yi),this.eventHandlers.get(a).add(d)}notifyListeners(a,...d){const x=this.eventHandlers.get(a);x&&x.notify(...d)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sf(a),this.instance=a;const{layoutId:x,layout:u,visualElement:p}=this.options;if(p&&!p.current&&p.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(u||x)&&(this.isLayoutDirty=!0),e){let v;const j=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=df(j,250),Mn.hasAnimatedSinceResize&&(Mn.hasAnimatedSinceResize=!1,this.nodes.forEach(ts))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&p&&(x||u)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:j,hasRelativeTargetChanged:_,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||p.getDefaultTransition()||Df,{onLayoutAnimationStart:E,onLayoutAnimationComplete:w}=p.getProps(),F=!this.targetLayout||!dl(this.targetLayout,k)||_,R=!j&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||j&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,R);const M={...xi(B,"layout"),onPlay:E,onComplete:w};(p.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else j||ts(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ff),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cl(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:x}=this.options;if(d===void 0&&!x)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(es);return}this.isUpdating||this.nodes.forEach(Tf),this.isUpdating=!1,this.nodes.forEach(Rf),this.nodes.forEach(jf),this.nodes.forEach(Cf),this.clearAllSnapshots();const d=yt.now();et.delta=jt(0,1e3/60,d-et.timestamp),et.timestamp=d,et.isProcessing=!0,to.update.process(et),to.preRender.process(et),to.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oi.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Pf),this.sharedNodes.forEach(_f)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(d=!1),d){const x=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:x,offset:o(this.instance),wasRoot:this.scroll?this.scroll.isRoot:x}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!ll(this.projectionDelta),x=this.getTransformTemplate(),u=x?x(this.latestValues,""):void 0,p=u!==this.prevTransformTemplateValue;a&&(d||Wt(this.latestValues)||p)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const d=this.measurePageBox();let x=this.removeElementScroll(d);return a&&(x=this.removeTransform(x)),Mf(x),{animationId:this.root.animationId,measuredBox:d,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:d}=this.options;if(!d)return Ne();const x=d.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Ef))){const{scroll:p}=this.root;p&&(Jt(x.x,p.offset.x),Jt(x.y,p.offset.y))}return x}removeElementScroll(a){var d;const x=Ne();if(ct(x,a),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return x;for(let u=0;u<this.path.length;u++){const p=this.path[u],{scroll:v,options:j}=p;p!==this.root&&v&&j.layoutScroll&&(v.wasRoot&&ct(x,a),Jt(x.x,v.offset.x),Jt(x.y,v.offset.y))}return x}applyTransform(a,d=!1){const x=Ne();ct(x,a);for(let u=0;u<this.path.length;u++){const p=this.path[u];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Qt(x,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Wt(p.latestValues)&&Qt(x,p.latestValues)}return Wt(this.latestValues)&&Qt(x,this.latestValues),x}removeTransform(a){const d=Ne();ct(d,a);for(let x=0;x<this.path.length;x++){const u=this.path[x];if(!u.instance||!Wt(u.latestValues))continue;Go(u.latestValues)&&u.updateSnapshot();const p=Ne(),v=u.measurePageBox();ct(p,v),Ur(d,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,p)}return Wt(this.latestValues)&&Ur(d,this.latestValues),d}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var d;const x=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=x.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=x.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=x.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==x;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:j}=this.options;if(!(!this.layout||!(v||j))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),un(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ne(),this.targetWithTransforms=Ne()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Op(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ct(this.target,this.layout.layoutBox),nl(this.target,this.targetDelta)):ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),un(this.relativeTargetOrigin,this.target,_.target),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pn&&Ot.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Go(this.parent.latestValues)||tl(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const d=this.getLead(),x=!!this.resumingFrom||this!==d;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),x&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===et.timestamp&&(u=!1),u)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;ct(this.layoutCorrected,this.layout.layoutBox);const j=this.treeScale.x,_=this.treeScale.y;Xp(this.layoutCorrected,this.treeScale,this.path,x),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Ne());const{target:k}=d;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nr(this.prevProjectionDelta.x,this.projectionDelta.x),Nr(this.prevProjectionDelta.y,this.projectionDelta.y)),gn(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==j||this.treeScale.y!==_||!Jr(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jr(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),pn&&Ot.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),a){const x=this.getStack();x&&x.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zt(),this.projectionDelta=Zt(),this.projectionDeltaWithTransform=Zt()}setAnimationOrigin(a,d=!1){const x=this.snapshot,u=x?x.latestValues:{},p={...this.latestValues},v=Zt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const j=Ne(),_=x?x.source:void 0,k=this.layout?this.layout.source:void 0,B=_!==k,E=this.getStack(),w=!E||E.members.length<=1,F=!!(B&&!w&&this.options.crossfade===!0&&!this.path.some(Bf));this.animationProgress=0;let R;this.mixTargetDelta=M=>{const l=M/1e3;ns(v.x,a.x,l),ns(v.y,a.y,l),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(un(j,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Af(this.relativeTarget,this.relativeTargetOrigin,j,l),R&&bf(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Ne()),ct(R,this.relativeTarget)),B&&(this.animationValues=p,pf(p,u,this.latestValues,l,F,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=l},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ee.update(()=>{Mn.hasAnimatedSinceResize=!0,this.currentAnimation=rf(0,Qr,{...a,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qr),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:d,target:x,layout:u,latestValues:p}=a;if(!(!d||!x||!u)){if(this!==a&&this.layout&&u&&fl(this.options.animationType,this.layout.layoutBox,u.layoutBox)){x=this.target||Ne();const v=st(this.layout.layoutBox.x);x.x.min=a.target.x.min,x.x.max=x.x.min+v;const j=st(this.layout.layoutBox.y);x.y.min=a.target.y.min,x.y.max=x.y.min+j}ct(d,x),Qt(d,p),gn(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(a,d){this.sharedNodes.has(a)||this.sharedNodes.set(a,new mf),this.sharedNodes.get(a).add(d);const u=d.options.initialPromotionConfig;d.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(d):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:d}=this.options;return d?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:d}=this.options;return d?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:d,preserveFollowOpacity:x}={}){const u=this.getStack();u&&u.promote(this,x),a&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let d=!1;const{latestValues:x}=a;if((x.z||x.rotate||x.rotateX||x.rotateY||x.rotateZ||x.skewX||x.skewY)&&(d=!0),!d)return;const u={};x.z&&fo("z",a,u,this.animationValues);for(let p=0;p<po.length;p++)fo(`rotate${po[p]}`,a,u,this.animationValues),fo(`skew${po[p]}`,a,u,this.animationValues);a.render();for(const p in u)a.setStaticValue(p,u[p]),this.animationValues&&(this.animationValues[p]=u[p]);a.scheduleRender()}getProjectionStyles(a){var d,x;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vf;const u={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Bn(a==null?void 0:a.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none",u;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const B={};return this.options.layoutId&&(B.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,B.pointerEvents=Bn(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Wt(this.latestValues)&&(B.transform=p?p({},""):"none",this.hasProjected=!1),B}const j=v.animationValues||v.latestValues;this.applyTransformsToTarget(),u.transform=yf(this.projectionDeltaWithTransform,this.treeScale,j),p&&(u.transform=p(j,u.transform));const{x:_,y:k}=this.projectionDelta;u.transformOrigin=`${_.origin*100}% ${k.origin*100}% 0`,v.animationValues?u.opacity=v===this?(x=(d=j.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&x!==void 0?x:1:this.preserveOpacity?this.latestValues.opacity:j.opacityExit:u.opacity=v===this?j.opacity!==void 0?j.opacity:"":j.opacityExit!==void 0?j.opacityExit:0;for(const B in Wn){if(j[B]===void 0)continue;const{correct:E,applyTo:w}=Wn[B],F=u.transform==="none"?j[B]:E(j[B],v);if(w){const R=w.length;for(let M=0;M<R;M++)u[w[M]]=F}else u[B]=F}return this.options.layoutId&&(u.pointerEvents=v===this?Bn(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var d;return(d=a.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(es),this.root.sharedNodes.clear()}}}function jf(e){e.updateLayout()}function Cf(e){var t;const o=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&o&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:s}=e.options,a=o.source!==e.layout.source;s==="size"?pt(v=>{const j=a?o.measuredBox[v]:o.layoutBox[v],_=st(j);j.min=i[v].min,j.max=j.min+_}):fl(s,o.layoutBox,i)&&pt(v=>{const j=a?o.measuredBox[v]:o.layoutBox[v],_=st(i[v]);j.max=j.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+_)});const d=Zt();gn(d,i,o.layoutBox);const x=Zt();a?gn(x,e.applyTransform(r,!0),o.measuredBox):gn(x,i,o.layoutBox);const u=!ll(d);let p=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:j,layout:_}=v;if(j&&_){const k=Ne();un(k,o.layoutBox,j.layoutBox);const B=Ne();un(B,i,_.layoutBox),dl(k,B)||(p=!0),v.options.layoutRoot&&(e.relativeTarget=B,e.relativeTargetOrigin=k,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:o,delta:x,layoutDelta:d,hasLayoutChanged:u,hasRelativeTargetChanged:p})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function wf(e){pn&&Ot.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kf(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Pf(e){e.clearSnapshot()}function es(e){e.clearMeasurements()}function Tf(e){e.isLayoutDirty=!1}function Rf(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ts(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function If(e){e.resolveTargetDelta()}function zf(e){e.calcProjection()}function Ff(e){e.resetSkewAndRotation()}function _f(e){e.removeLeadSnapshot()}function ns(e,t,o){e.translate=Oe(t.translate,0,o),e.scale=Oe(t.scale,1,o),e.origin=t.origin,e.originPoint=t.originPoint}function os(e,t,o,i){e.min=Oe(t.min,o.min,i),e.max=Oe(t.max,o.max,i)}function Af(e,t,o,i){os(e.x,t.x,o.x,i),os(e.y,t.y,o.y,i)}function Bf(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Df={duration:.45,ease:[.4,0,.1,1]},is=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rs=is("applewebkit/")&&!is("chrome/")?Math.round:rt;function ss(e){e.min=rs(e.min),e.max=rs(e.max)}function Mf(e){ss(e.x),ss(e.y)}function fl(e,t,o){return e==="position"||e==="preserve-aspect"&&!Wp(Zr(t),Zr(o),.2)}function Ef(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Wf=pl({attachResizeListener:(e,t)=>jn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xo={current:void 0},xl=pl({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xo.current){const e=new Wf({});e.mount(window),e.setOptions({layoutScroll:!0}),xo.current=e}return xo.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Of={pan:{Feature:ef},drag:{Feature:Qp,ProjectionNode:xl,MeasureLayout:rl}};function as(e,t,o){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",o==="Start");const r="onHover"+o,s=i[r];s&&Ee.postRender(()=>s(t,In(t)))}class Lf extends _t{mount(){const{current:t}=this.node;t&&(this.unmount=Wc(t,o=>(as(this.node,o,"Start"),i=>as(this.node,i,"End"))))}unmount(){}}class Gf extends _t{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rn(jn(this.node.current,"focus",()=>this.onFocus()),jn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ls(e,t,o){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",o==="Start");const r="onTap"+(o==="End"?"":o),s=i[r];s&&Ee.postRender(()=>s(t,In(t)))}class Vf extends _t{mount(){const{current:t}=this.node;t&&(this.unmount=Vc(t,o=>(ls(this.node,o,"Start"),(i,{success:r})=>ls(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $o=new WeakMap,go=new WeakMap,$f=e=>{const t=$o.get(e.target);t&&t(e)},Nf=e=>{e.forEach($f)};function Hf({root:e,...t}){const o=e||document;go.has(o)||go.set(o,{});const i=go.get(o),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(Nf,{root:e,...t})),i[r]}function Yf(e,t,o){const i=Hf(t);return $o.set(e,o),i.observe(e),()=>{$o.delete(e),i.unobserve(e)}}const Uf={some:0,all:1};class Xf extends _t{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:o,margin:i,amount:r="some",once:s}=t,a={root:o?o.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Uf[r]},d=x=>{const{isIntersecting:u}=x;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),j=u?p:v;j&&j(x)};return Yf(this.node.current,a,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:o}=this.node;["amount","margin","root"].some(Kf(t,o))&&this.startObserver()}unmount(){}}function Kf({viewport:e={}},{viewport:t={}}={}){return o=>e[o]!==t[o]}const qf={inView:{Feature:Xf},tap:{Feature:Vf},focus:{Feature:Gf},hover:{Feature:Lf}},Zf={layout:{ProjectionNode:xl,MeasureLayout:rl}},No={current:null},gl={current:!1};function Jf(){if(gl.current=!0,!!Jo)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>No.current=e.matches;e.addListener(t),t()}else No.current=!1}const Qf=[...Oa,nt,Ft],ex=e=>Qf.find(Wa(e)),ds=new WeakMap;function tx(e,t,o){for(const i in t){const r=t[i],s=o[i];if(ot(r))e.addValue(i,r);else if(ot(s))e.addValue(i,vn(r,{owner:e}));else if(s!==r)if(e.hasValue(i)){const a=e.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=e.getStaticValue(i);e.addValue(i,vn(a!==void 0?a:r,{owner:e}))}}for(const i in o)t[i]===void 0&&e.removeValue(i);return t}const cs=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nx{scrapeMotionValuesFromProps(t,o,i){return{}}constructor({parent:t,props:o,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ki,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=yt.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Ee.render(this.render,!1,!0))};const{latestValues:x,renderState:u,onUpdate:p}=a;this.onUpdate=p,this.latestValues=x,this.baseTarget={...x},this.initialValues=o.initial?{...x}:{},this.renderState=u,this.parent=t,this.props=o,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=d,this.blockInitialAnimation=!!s,this.isControllingVariants=qn(o),this.isVariantNode=Us(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...j}=this.scrapeMotionValuesFromProps(o,{},this);for(const _ in j){const k=j[_];x[_]!==void 0&&ot(k)&&k.set(x[_],!1)}}mount(t){this.current=t,ds.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,i)=>this.bindToMotionValue(i,o)),gl.current||Jf(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:No.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ds.delete(this.current),this.projection&&this.projection.unmount(),zt(this.notifyUpdate),zt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const o=this.features[t];o&&(o.unmount(),o.isMounted=!1)}this.current=null}bindToMotionValue(t,o){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Yt.has(t),r=o.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Ee.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=o.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,o)),this.valueSubscriptions.set(t,()=>{r(),s(),a&&a(),o.owner&&o.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in tn){const o=tn[t];if(!o)continue;const{isEnabled:i,Feature:r}=o;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ne()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,o){this.latestValues[t]=o}update(t,o){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let i=0;i<cs.length;i++){const r=cs[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=t[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=tx(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(t),()=>o.variantChildren.delete(t)}addValue(t,o){const i=this.values.get(t);o!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,o),this.values.set(t,o),this.latestValues[t]=o.get())}removeValue(t){this.values.delete(t);const o=this.valueSubscriptions.get(t);o&&(o(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,o){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&o!==void 0&&(i=vn(o===null?void 0:o,{owner:this}),this.addValue(t,i)),i}readValue(t,o){var i;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Ma(r)||Ta(r))?r=parseFloat(r):!ex(r)&&Ft.test(o)&&(r=Aa(t,o)),this.setBaseTarget(t,ot(r)?r.get():r)),ot(r)?r.get():r}setBaseTarget(t,o){this.baseTarget[t]=o}getBaseTarget(t){var o;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const a=ri(this.props,i,(o=this.presenceContext)===null||o===void 0?void 0:o.custom);a&&(r=a[t])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ot(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,o){return this.events[t]||(this.events[t]=new yi),this.events[t].add(o)}notify(t,...o){this.events[t]&&this.events[t].notify(...o)}}class ul extends nx{constructor(){super(...arguments),this.KeyframeResolver=La}sortInstanceNodePosition(t,o){return t.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(t,o){return t.style?t.style[o]:void 0}removeValueFromRenderState(t,{vars:o,style:i}){delete o[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ot(t)&&(this.childSubscription=t.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}}function ox(e){return window.getComputedStyle(e)}class ix extends ul{constructor(){super(...arguments),this.type="html",this.renderInstance=na}readValueFromInstance(t,o){if(Yt.has(o)){const i=wi(o);return i&&i.default||0}else{const i=ox(t),r=(Qs(o)?i.getPropertyValue(o):i[o])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:o}){return ol(t,o)}build(t,o,i){li(t,o,i.transformTemplate)}scrapeMotionValuesFromProps(t,o,i){return fi(t,o,i)}}class rx extends ul{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ne}getBaseTargetFromProps(t,o){return t[o]}readValueFromInstance(t,o){if(Yt.has(o)){const i=wi(o);return i&&i.default||0}return o=oa.has(o)?o:ni(o),t.getAttribute(o)}scrapeMotionValuesFromProps(t,o,i){return sa(t,o,i)}build(t,o,i){di(t,o,this.isSVGTag,i.transformTemplate)}renderInstance(t,o,i,r){ia(t,o,i,r)}mount(t){this.isSVGTag=pi(t.tagName),super.mount(t)}}const sx=(e,t)=>ii(e)?new rx(t):new ix(t,{allowProjection:e!==h.Fragment}),ax=Fc({...Ip,...qf,...Of,...Zf},sx),Ct=Yd(ax),lx=Pl({palette:{primary:{main:"#1b92d1",light:"rgba(27,146,209,0.8)",dark:"rgba(27,146,209,1)",contrastText:"#ffffff"},secondary:{main:"#666666",light:"#999999",dark:"#333333",contrastText:"#ffffff"},background:{default:"#ffffff",paper:"#f5f5f5"},text:{primary:"#333333",secondary:"#666666"}},typography:{fontFamily:'"Myriad Hebrew", "Monsal Gothic", Arial, sans-serif',h1:{fontFamily:'"Myriad Hebrew", "Monsal Gothic", Arial, sans-serif',fontWeight:600},h2:{fontFamily:'"Myriad Hebrew", "Monsal Gothic", Arial, sans-serif',fontWeight:600},h3:{fontFamily:'"Myriad Hebrew", "Monsal Gothic", Arial, sans-serif',fontWeight:600},h4:{fontFamily:'"Myriad Hebrew", "Monsal Gothic", Arial, sans-serif',fontWeight:600},h5:{fontFamily:'"Myriad Hebrew", "Monsal Gothic", Arial, sans-serif',fontWeight:600},h6:{fontFamily:'"Myriad Hebrew", "Monsal Gothic", Arial, sans-serif',fontWeight:600},button:{fontFamily:'"Myriad Hebrew", "Monsal Gothic", Arial, sans-serif',fontWeight:600,textTransform:"none"}},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,padding:"8px 24px",boxShadow:"none","&:hover":{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"}},contained:{backgroundColor:"#1b92d1","&:hover":{backgroundColor:"rgba(27,146,209,0.9)"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:8,boxShadow:"0px 2px 4px rgba(0,0,0,0.05)"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8}}}}}});var Ii={},uo={};const dx=Ol(Tl);var ps;function Ut(){return ps||(ps=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=dx}(uo)),uo}var cx=Nt;Object.defineProperty(Ii,"__esModule",{value:!0});var hl=Ii.default=void 0,px=cx(Ut()),fx=n;hl=Ii.default=(0,px.default)((0,fx.jsx)("path",{d:"M9.19 6.35c-2.04 2.29-3.44 5.58-3.57 5.89L2 10.69l4.05-4.05c.47-.47 1.15-.68 1.81-.55zM11.17 17s3.74-1.55 5.89-3.7c5.4-5.4 4.5-9.62 4.21-10.57-.95-.3-5.17-1.19-10.57 4.21C8.55 9.09 7 12.83 7 12.83zm6.48-2.19c-2.29 2.04-5.58 3.44-5.89 3.57L13.31 22l4.05-4.05c.47-.47.68-1.15.55-1.81zM9 18c0 .83-.34 1.58-.88 2.12C6.94 21.3 2 22 2 22s.7-4.94 1.88-6.12C4.42 15.34 5.17 15 6 15c1.66 0 3 1.34 3 3m4-9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2"}),"RocketLaunch");var zi={},xx=Nt;Object.defineProperty(zi,"__esModule",{value:!0});var Fi=zi.default=void 0,gx=xx(Ut()),ux=n;Fi=zi.default=(0,gx.default)((0,ux.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward");const at="/assets/logo-Cv8xmWL3.png",bl="/assets/TAG_PIR-BJXL6ClN.png",ml="/assets/IDPG_RN-DFdeZEPA.png",hx="/assets/IDPG-BgQ9OQNL.png",yl="/assets/SP-Yx-7xM7E.png",vl="/assets/X2RS-DN1ttw6K.png",bx="/assets/DP_RT-DTc_HRNR.jpg",mx=Y(y)(({theme:e})=>({minHeight:"100vh",width:"100%",background:"linear-gradient(135deg, #2c3e50 0%, #4a5568 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",padding:e.spacing(2),overflow:"visible",fontFamily:"sans-serif"})),yx=Y(y)({position:"relative",zIndex:2,textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"2rem",fontFamily:"sans-serif",width:"100%",maxWidth:"720px"}),vx=Y("img")(({$showPrompt:e})=>({width:"400px",marginBottom:"2rem",marginTop:"-1rem",animation:e?"fadeOut 0.3s ease-out 0.3s forwards":"fadeIn 1.2s ease-out",position:"relative",zIndex:2,filter:"brightness(0) invert(1)","@keyframes fadeIn":{"0%":{opacity:0,transform:"translateY(-20px)"},"100%":{opacity:1,transform:"translateY(0)"}},"@keyframes fadeOut":{"0%":{opacity:1,transform:"translateY(0)"},"100%":{opacity:0,transform:"translateY(-20px)"}}})),Sx=Y(y)(({theme:e,$showPrompt:t})=>({color:"white",marginBottom:e.spacing(3),marginTop:"-2rem",textAlign:"center",animation:t?"fadeOut 0.3s ease-out 0.3s forwards":"fadeIn 1.2s ease-out 0.2s both",position:"relative",zIndex:2,fontFamily:"sans-serif","@keyframes fadeIn":{"0%":{opacity:0,transform:"translateY(-20px)"},"100%":{opacity:1,transform:"translateY(0)"}},"@keyframes fadeOut":{"0%":{opacity:1,transform:"translateY(0)"},"100%":{opacity:0,transform:"translateY(-20px)"}}})),jx=Y(y)(({$showPrompt:e})=>({display:"flex",flexDirection:"column",gap:"1rem",width:"100%",maxWidth:"300px",marginTop:"-0.5rem",position:"relative",zIndex:2,fontFamily:"sans-serif",animation:e?"fadeOut 0.3s ease-out 0.3s forwards":"fadeIn 1.2s ease-out 0.4s both","@keyframes fadeIn":{"0%":{opacity:0,transform:"translateY(20px)"},"100%":{opacity:1,transform:"translateY(0)"}},"@keyframes fadeOut":{"0%":{opacity:1,transform:"translateY(0)"},"100%":{opacity:0,transform:"translateY(20px)"}}})),fs=Y(ke)(({theme:e})=>({width:"100%",padding:e.spacing(1.5),fontSize:"1.1rem",animation:"fadeIn 1.2s ease-out 0.4s both",fontFamily:"sans-serif",display:"flex",alignItems:"center",gap:"0.5rem","@keyframes fadeIn":{"0%":{opacity:0,transform:"translateY(20px)"},"100%":{opacity:1,transform:"translateY(0)"}}})),Cx=Y(Fi)({animation:"bounce 2s infinite","@keyframes bounce":{"0%, 20%, 50%, 80%, 100%":{transform:"translateY(0)"},"40%":{transform:"translateY(-10px)"},"60%":{transform:"translateY(-5px)"}}}),Xt=Y("img")(({$showPrompt:e})=>({position:"absolute",width:e?"300px":"200px",opacity:e?.3:1,filter:"drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3))",animation:"float 8s ease-in-out infinite",transition:"width 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1), top 0.3s cubic-bezier(0.4, 0, 0.2, 1), left 0.3s cubic-bezier(0.4, 0, 0.2, 1), right 0.3s cubic-bezier(0.4, 0, 0.2, 1), bottom 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&::before":{content:'""',position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",width:"160px",height:"30px",background:"radial-gradient(ellipse at center, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0) 70%)",borderRadius:"50%",animation:"shadowFloat 8s ease-in-out infinite",zIndex:-1},"@keyframes float":{"0%":{transform:"translateY(0px) rotate(0deg)"},"50%":{transform:"translateY(-15px) rotate(3deg)"},"100%":{transform:"translateY(0px) rotate(0deg)"}},"@keyframes shadowFloat":{"0%":{transform:"translateX(-50%) scale(1)",opacity:.4},"50%":{transform:"translateX(-50%) scale(0.8)",opacity:.2},"100%":{transform:"translateX(-50%) scale(1)",opacity:.4}}})),wx=Y(Ps)(({theme:e,$showPrompt:t})=>({padding:e.spacing(5),backgroundColor:"rgba(255, 255, 255, 0.98)",borderRadius:"20px",maxWidth:"700px",width:"90%",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.08)",animation:t?"slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) both":"none","@keyframes slideUp":{"0%":{opacity:0,transform:"translateY(20px)"},"100%":{opacity:1,transform:"translateY(0)"}}})),kx=Y(y)({display:"flex",flexDirection:"column",gap:"1.75rem",marginTop:"1.5rem"}),ho=Y(y)({display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1.5rem",width:"100%"}),Mt=Y(Po)(({theme:e})=>({"& .MuiOutlinedInput-root":{borderRadius:"12px",backgroundColor:"rgba(0, 0, 0, 0.02)",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},"&.Mui-focused":{backgroundColor:"white",boxShadow:"0 0 0 2px rgba(25, 118, 210, 0.2)"}},"& .MuiInputLabel-root":{transform:"translate(14px, -9px) scale(0.75)",backgroundColor:"white",padding:"0 4px",color:e.palette.text.secondary,fontSize:"1.1rem",fontWeight:500},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(0, 0, 0, 0.1)"}})),Px=Y(z)(({theme:e})=>({color:e.palette.text.primary,fontWeight:600,fontSize:"1.75rem",textAlign:"center",marginBottom:e.spacing(4),position:"relative","&::after":{content:'""',position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"3px",backgroundColor:e.palette.primary.main,borderRadius:"2px"}})),xs=Y("span")(({theme:e})=>({color:e.palette.primary.main,fontSize:"0.95rem",cursor:"pointer",padding:"4px 8px",fontFamily:"sans-serif",letterSpacing:"-0.02em",fontWeight:600,transition:"all 0.2s ease","&:hover":{opacity:.8,transform:"translateY(-1px)"}})),Tx=()=>{const e=Ze(),{setProjectName:t,setProjectCode:o}=h.useContext(tt),[i,r]=h.useState(!1),[s,a]=h.useState(!1),[d,x]=h.useState(!1),[u,p]=h.useState({projectName:"",location:"",projectCode:"",salesManager:"",operator:"",servicePartner:"",email:""}),v=()=>{r(!0)},j=B=>E=>{p(w=>({...w,[B]:E.target.value})),(B==="operator"||B==="servicePartner")&&x(!1)},_=B=>{if(B.preventDefault(),!u.operator&&!u.servicePartner){x(!0);return}t(u.projectName),o(u.projectCode),e("/panel-type",{state:{projectDetails:u}})},k=()=>{a(!s)};return n.jsxs(mx,{children:[n.jsx(Xt,{src:bl,alt:"TAG PIR",$showPrompt:i,style:{top:i?"5%":"15%",left:i?"calc(20% - 10px)":"calc(5% - 10px)",animationDelay:"0s"}}),n.jsx(Xt,{src:ml,alt:"IDPG RN",$showPrompt:i,style:{bottom:i?"0%":"15%",right:i?"calc(20% - 10px)":"calc(5% - 10px)",animationDelay:"2s"}}),n.jsx(Xt,{src:hx,alt:"IDPG",$showPrompt:i,style:{top:i?"10%":"25%",right:i?"calc(15% - 10px)":"calc(10% - 10px)",animationDelay:"1s"}}),n.jsx(Xt,{src:yl,alt:"SP",$showPrompt:i,style:{bottom:i?"10%":"25%",left:i?"calc(20% - 10px)":"calc(10% - 10px)",animationDelay:"3s"}}),n.jsx(Xt,{src:vl,alt:"X2RS",$showPrompt:i,style:{top:i?"35%":"40%",left:"calc(15% - 20px)",animationDelay:"1.5s",width:i?"480px":"320px"}}),n.jsx(Xt,{src:bx,alt:"DP RT",$showPrompt:i,style:{bottom:"40%",right:"calc(15% + 40px)",animationDelay:"2.5s",width:i?"480px":"320px"}}),n.jsx(yx,{children:i?n.jsxs(wx,{$showPrompt:i,children:[n.jsx(Px,{children:"Project Details"}),n.jsx("form",{onSubmit:_,children:n.jsxs(kx,{children:[n.jsxs(ho,{children:[n.jsx(Mt,{label:"Project Name",variant:"outlined",value:u.projectName,onChange:j("projectName"),required:!0}),n.jsx(Mt,{label:"Location",variant:"outlined",value:u.location,onChange:j("location"),required:!0})]}),n.jsxs(ho,{children:[s?n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n.jsx(Mt,{label:"INTEREL Sales Manager",variant:"outlined",value:u.salesManager,onChange:j("salesManager"),required:!0}),n.jsx(xs,{onClick:k,children:"I have the project code"})]}):n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n.jsx(Mt,{label:"Project Code",variant:"outlined",value:u.projectCode,onChange:j("projectCode"),required:!0}),n.jsx(xs,{onClick:k,children:"Don't know the project code?"})]}),n.jsx(Mt,{label:"Your Email",variant:"outlined",type:"email",value:u.email,onChange:j("email"),required:!0})]}),n.jsxs(ho,{children:[n.jsx(Mt,{label:"Operator/End Client",variant:"outlined",value:u.operator,onChange:j("operator")}),n.jsx(Mt,{label:"Service Partner",variant:"outlined",value:u.servicePartner,onChange:j("servicePartner")})]}),d&&n.jsx(z,{color:"error",sx:{fontSize:"0.875rem",mt:-1,mb:1},children:"Please fill in at least one of these fields"}),n.jsxs(fs,{type:"submit",variant:"contained",color:"primary",sx:{fontFamily:"sans-serif",letterSpacing:"-0.02em",fontWeight:500,fontSize:"1.2rem",padding:"0.8rem 0",mt:2,borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)","&:hover":{boxShadow:"0 6px 16px rgba(0, 0, 0, 0.12)",transform:"translateY(-1px)"},transition:"all 0.2s ease"},children:["Start Customizing",n.jsx(Cx,{sx:{fontSize:"1.2rem",ml:1}})]})]})})]}):n.jsxs(n.Fragment,{children:[n.jsx(vx,{src:at,alt:"Interel Logo",$showPrompt:i,onClick:()=>e("/"),style:{cursor:"pointer"}}),n.jsx(Sx,{$showPrompt:i,children:n.jsx(z,{variant:"h3",sx:{fontWeight:400,fontFamily:"sans-serif",letterSpacing:"-0.04em",fontSize:"2.5rem",lineHeight:1.05,marginBottom:0},children:"Design Your Panels"})}),n.jsx(jx,{$showPrompt:i,children:n.jsxs(fs,{variant:"contained",color:"primary",onClick:v,sx:{fontFamily:"sans-serif",letterSpacing:"-0.02em",fontWeight:600,fontSize:"1.4rem",padding:"0.6rem 0"},children:["Get Started",n.jsx(hl,{sx:{fontSize:"1.4rem",ml:1}})]})})]})})]})},Rx=()=>n.jsx("div",{children:"BOQ Page Works!"}),Ho="/assets/DP-CuvLqdNM.jpg",gs=[{type:"SP",icons:[{iconId:"B-1",label:"B-1",position:0,text:"Light",src:"/src/assets/icons/B-Roomlights/B-1.png",category:"Room Lights"},{iconId:"FAN",label:"FAN",position:1,text:"Fan",src:"/src/assets/icons/FAN.png",category:"TAG"},{iconId:"20209",label:"20209",position:2,text:"Socket",src:"/src/assets/sockets/20209.png",category:"Sockets"}],quantity:1,displayNumber:1,panelName:"Single Panel",panelDesign:{backgroundColor:"#CDBA88",iconColor:"#000000",textColor:"#000000",fontSize:"14px",fonts:"Arial"}},{type:"TAG",icons:[{iconId:"DISPLAY",label:"DISPLAY",position:0,text:"Thermostat",src:"/src/assets/icons/DISPLAY.png",category:"TAG"}],quantity:1,displayNumber:2,panelName:"Thermostat",panelDesign:{backgroundColor:"#D0B084",iconColor:"#000000",textColor:"#000000",fontSize:"14px",fonts:"Arial"}},{type:"DPH",icons:[{iconId:"B-2",label:"B-2",position:0,text:"Light",src:"/src/assets/icons/B-Roomlights/B-2.png",category:"Room Lights"},{iconId:"FAN",label:"FAN",position:1,text:"Fan",src:"/src/assets/icons/FAN.png",category:"TAG"}],quantity:1,displayNumber:3,panelName:"Double Panel - H",panelDesign:{backgroundColor:"#D2AA6D",iconColor:"#000000",textColor:"#000000",fontSize:"14px",fonts:"Arial"}},{type:"DPV",icons:[{iconId:"B-3",label:"B-3",position:0,text:"Light",src:"/src/assets/icons/B-Roomlights/B-3.png",category:"Room Lights"},{iconId:"FAN",label:"FAN",position:1,text:"Fan",src:"/src/assets/icons/FAN.png",category:"TAG"}],quantity:1,displayNumber:4,panelName:"Double Panel - V",panelDesign:{backgroundColor:"#F9A900",iconColor:"#000000",textColor:"#000000",fontSize:"14px",fonts:"Arial"}},{type:"X1H",icons:[{iconId:"B-4",label:"B-4",position:0,text:"Light",src:"/src/assets/icons/B-Roomlights/B-4.png",category:"Room Lights"},{iconId:"FAN",label:"FAN",position:1,text:"Fan",src:"/src/assets/icons/FAN.png",category:"TAG"},{iconId:"20209",label:"20209",position:100,text:"Socket",src:"/src/assets/sockets/20209.png",category:"Sockets"}],quantity:1,displayNumber:5,panelName:"Extended Panel - H1",panelDesign:{backgroundColor:"#E49E00",iconColor:"#000000",textColor:"#000000",fontSize:"14px",fonts:"Arial"}}],Sl=h.createContext(void 0),lt=()=>{const e=h.useContext(Sl);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},Ix=({children:e})=>{const[t,o]=h.useState(null),[i,r]=h.useState(()=>{try{const w=localStorage.getItem("currentPanels");return w?JSON.parse(w):gs}catch(w){return console.error("Error loading panels from localStorage:",w),gs}}),[s,a]=h.useState(!1),d=i.reduce((w,F)=>w+F.quantity,0),x=h.useCallback(w=>{if(!w)return[];try{const F=localStorage.getItem(`panels_${w}`);return F?JSON.parse(F):[]}catch(F){return console.error(`Error loading panels for project ${w}:`,F),[]}},[]),u=h.useCallback((w,F)=>{if(w)try{localStorage.setItem(`panels_${w}`,JSON.stringify(F))}catch(R){console.error(`Error saving panels for project ${w}:`,R)}},[]),p=h.useCallback(w=>{if(o(w),w){const F=x(w);r(F)}else r([])},[x]),v=h.useCallback(()=>{o(null),r([])},[]);h.useEffect(()=>{try{localStorage.setItem("currentPanels",JSON.stringify(i))}catch(w){console.error("Error saving panels to localStorage:",w)}},[i]),h.useEffect(()=>{t&&i.length>0&&u(t,i)},[i,t,u]);const j=h.useCallback(w=>{r(F=>[...F,w]),a(!0)},[]),_=h.useCallback((w,F)=>{r(R=>{const M=[...R];return F<=0?M.splice(w,1):M[w].quantity=F,M})},[]),k=h.useCallback(w=>{r(F=>{const R=[...F];return R.splice(w,1),R})},[]),B=h.useCallback(w=>{r(F=>w.map(M=>F[M]))},[]),E=h.useCallback((w,F)=>{r(R=>{const M=[...R];return M[w]=F,M})},[]);return h.useEffect(()=>{if(s){const w=setTimeout(()=>a(!1),300);return()=>clearTimeout(w)}},[s]),n.jsx(Sl.Provider,{value:{projPanels:i,projCount:d,isCounting:s,currentProjectCode:t,addToCart:j,updateQuantity:_,removeFromCart:k,reorderPanels:B,updatePanel:E,setProjectCode:p,clearProject:v},children:e})},dt=({style:e={},showLabel:t=!0})=>{const{projCount:o,isCounting:i}=lt(),r=Ze();return n.jsxs("button",{onClick:()=>r("/cart"),style:{position:"relative",...e},children:[t&&"View Project Panels",o>0&&n.jsx("span",{style:{position:"absolute",top:-8,right:-8,backgroundColor:"#ff5733",color:"white",borderRadius:"50%",minWidth:"20px",height:"20px",fontSize:"12px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",transform:i?"scale(1.2)":"scale(1)",transition:"transform 0.15s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",zIndex:10},children:o})]})};var _i={},zx=Nt;Object.defineProperty(_i,"__esModule",{value:!0});var Qn=_i.default=void 0,Fx=zx(Ut()),_x=n;Qn=_i.default=(0,Fx.default)((0,_x.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");const Ax=Y(y)(({theme:e})=>({width:"100%",maxWidth:800,margin:"0 auto",padding:e.spacing(3),marginBottom:e.spacing(6)}));Y(z)(({theme:e})=>({color:"rgba(255, 255, 255, 0.9)",fontWeight:400,marginBottom:e.spacing(2),letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'}));const Bx=Y(y)(({theme:e})=>({position:"relative",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-4px)","& .panel-image":{transform:"scale(1.02)"},"& .panel-title":{opacity:1,transform:"translateY(0)"},"& .panel-button":{opacity:1,transform:"translateY(0)"}}})),Dx=Y("img")(({theme:e})=>({width:"100%",height:"auto",maxHeight:280,objectFit:"contain",transition:"transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)",marginBottom:e.spacing(2)})),Mx=Y(z)(({theme:e})=>({color:"rgba(255, 255, 255, 0.9)",fontWeight:400,letterSpacing:"0.5px",marginTop:e.spacing(2),opacity:.8,transform:"translateY(10px)",transition:"all 0.3s ease",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'})),Ex=Y(Ct.div)({width:"100%"}),Wx={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,staggerChildren:.2}}},Ox={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.4,0,.2,1]}}},Lx=()=>{const e=Ze();Hn();const[t,o]=h.useState(!1),{projectName:i,projectCode:r}=h.useContext(tt);h.useEffect(()=>{const a=setTimeout(()=>{o(!0)},1e3);return()=>clearTimeout(a)},[]);const s=[{name:"Horizontal Double Panel",image:Ho,path:"/customizer/dph"},{name:"Vertical Double Panel",image:Ho,path:"/customizer/dpv"}];return n.jsxs(y,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #718096 0%, #a0aec0 100%)",py:8},children:[(i||r)&&n.jsx(y,{sx:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:10},children:n.jsxs(z,{sx:{fontSize:14,color:"#ffffff",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[i,r&&` - ${r}`]})}),n.jsxs(xt,{maxWidth:"lg",children:[n.jsx(y,{sx:{position:"absolute",top:20,right:30,zIndex:1},children:n.jsx(dt,{})}),n.jsxs(y,{sx:{position:"absolute",top:20,left:30,display:"flex",alignItems:"center",gap:2},children:[n.jsx("img",{src:at,alt:"Logo",style:{height:"40px",width:"auto",cursor:"pointer"},onClick:()=>e("/")}),n.jsx(z,{variant:"h6",component:"h1",sx:{color:"rgba(255, 255, 255, 0.95)",fontWeight:400,letterSpacing:"1px",textTransform:"capitalize",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Design your panels"})]}),n.jsx(Ax,{children:n.jsxs(y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:4,mt:4,gap:2},children:[n.jsx(ke,{onClick:()=>e("/panel-type"),sx:{minWidth:0,p:2,bgcolor:"transparent",color:"#1976d2",borderRadius:"50%",mr:2,"&:hover":{bgcolor:"rgba(25, 118, 210, 0.08)",color:"#1565c0"}},"aria-label":"Back",children:n.jsx(Qn,{fontSize:"large"})}),[{step:1,label:"Select Panel Type"},{step:2,label:"Select your icons"},{step:3,label:"Select Panel Design"},{step:4,label:"Review panel details"}].map((a,d)=>n.jsxs(ft.Fragment,{children:[n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[n.jsx(y,{sx:{width:32,height:32,borderRadius:"50%",background:d===0?"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)":"#e0e0e0",color:d===0?"#fff":"#999",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,boxShadow:d===0?"0 2px 8px #1976d233":"none",border:d===0?"2px solid #1976d2":"2px solid #e0e0e0",mb:1,transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"},children:a.step}),n.jsx(z,{sx:{color:d===0?"#1976d2":"#666",fontWeight:d===0?600:400,fontSize:14,textAlign:"center",maxWidth:110,letterSpacing:.2},children:a.label})]}),d<3&&n.jsx(y,{sx:{flex:1,height:2,background:"#e0e0e0",mx:1,minWidth:24,borderRadius:1}})]},a.step))]})}),t&&n.jsx(Ct.div,{variants:Wx,initial:"hidden",animate:"visible",style:{width:"100%"},children:n.jsx(bt,{container:!0,spacing:6,justifyContent:"center",children:s.map(a=>n.jsx(bt,{item:!0,xs:12,sm:12,md:6,lg:5,component:"div",children:n.jsx(Ex,{variants:Ox,children:n.jsxs(Bx,{onClick:()=>e(a.path),sx:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",p:4,minHeight:400},children:[n.jsx(Dx,{src:a.image,alt:a.name,className:"panel-image",style:{maxHeight:1680,width:"100%",objectFit:"contain"}}),n.jsx(Mx,{variant:"h5",className:"panel-title",sx:{textAlign:"center",mb:2},children:a.name}),n.jsx(ke,{variant:"text",size:"large",className:"panel-button",sx:{color:"rgba(255, 255, 255, 0.7)",textTransform:"none",fontWeight:400,letterSpacing:"0.5px",opacity:0,transform:"translateY(10px)",transition:"all 0.3s ease",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',"&:hover":{color:"rgba(255, 255, 255, 1)",backgroundColor:"transparent"}},children:"Select"})]})})},a.name))})})]})]})},Gx="/assets/X1LS-YeW_UZdy.png",Vx="/assets/X1V_UP-CuoealYX.png",$x="/assets/X2LS-CULZQ5Xy.png",Nx="/assets/X2V_UP-C2Hz3yQu.png",Hx=Y(y)(({theme:e})=>({width:"100%",maxWidth:800,margin:"0 auto",padding:e.spacing(3),marginBottom:e.spacing(6)}));Y(z)(({theme:e})=>({color:"rgba(255, 255, 255, 0.9)",fontWeight:400,marginBottom:e.spacing(2),letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'}));const us=Y(y)(({theme:e})=>({position:"relative",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-4px)","& .panel-image":{transform:"scale(1.02)"},"& .panel-title":{opacity:1,transform:"translateY(0)"},"& .panel-button":{opacity:1,transform:"translateY(0)"}}})),hs=Y("img")(({theme:e})=>({width:"100%",height:"auto",maxHeight:280,objectFit:"contain",transition:"transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)",marginBottom:e.spacing(2)})),bs=Y(z)(({theme:e})=>({color:"rgba(255, 255, 255, 0.9)",fontWeight:400,letterSpacing:"0.5px",marginTop:e.spacing(2),opacity:.8,transform:"translateY(10px)",transition:"all 0.3s ease",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'})),ms=Y(Ct.div)({width:"100%"}),Yx={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,staggerChildren:.2}}},ys={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.4,0,.2,1]}}},Ux=()=>{const e=Ze();Hn();const[t,o]=h.useState(!1),{projectName:i,projectCode:r}=h.useContext(tt);h.useEffect(()=>{const d=setTimeout(()=>{o(!0)},1e3);return()=>clearTimeout(d)},[]);const s=[{name:"Extended Panel, Horizontal, 1 Socket",image:Gx,path:"/customizer/x1h"},{name:"Extended 2 Horizontal",image:$x,path:"/customizer/x2h"}],a=[{name:"Extended 1 Vertical",image:Vx,path:"/customizer/x1v"},{name:"Extended 2 Vertical",image:Nx,path:"/customizer/x2v"}];return n.jsxs(y,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #718096 0%, #a0aec0 100%)",position:"relative",overflow:"hidden",py:8},children:[(i||r)&&n.jsx(y,{sx:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:10},children:n.jsxs(z,{sx:{fontSize:14,color:"#ffffff",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[i,r&&` - ${r}`]})}),n.jsx(y,{component:Ct.div,initial:{opacity:0},animate:{opacity:.25},transition:{duration:1.2},sx:{position:"absolute",inset:0,background:"radial-gradient(circle at 70% 30%, #fff 0%, transparent 70%)",zIndex:0,pointerEvents:"none"}}),n.jsxs(xt,{maxWidth:"lg",children:[n.jsx(y,{sx:{position:"absolute",top:20,right:30,zIndex:1},children:n.jsx(dt,{})}),n.jsxs(y,{sx:{position:"absolute",top:20,left:30,display:"flex",alignItems:"center",gap:2,zIndex:2},children:[n.jsx("img",{src:at,alt:"Logo",style:{height:"40px",width:"auto",cursor:"pointer",filter:"brightness(0) invert(0.3)"},onClick:()=>e("/")}),n.jsx(z,{variant:"h6",component:"h1",sx:{color:"rgba(255, 255, 255, 0.95)",fontWeight:400,letterSpacing:"1px",textTransform:"capitalize",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Design your panels"})]}),n.jsx(Hx,{children:n.jsxs(y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:4,mt:4,gap:2},children:[n.jsx(ke,{onClick:()=>e("/panel-type"),sx:{minWidth:0,p:2,bgcolor:"transparent",color:"#1976d2",borderRadius:"50%",mr:2,"&:hover":{bgcolor:"rgba(25, 118, 210, 0.08)",color:"#1565c0"}},"aria-label":"Back",children:n.jsx(Qn,{fontSize:"large"})}),[{step:1,label:"Select Panel Type"},{step:2,label:"Select your icons"},{step:3,label:"Select Panel Design"},{step:4,label:"Review panel details"}].map((d,x)=>n.jsxs(ft.Fragment,{children:[n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[n.jsx(y,{sx:{width:32,height:32,borderRadius:"50%",background:x===0?"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)":"#e0e0e0",color:x===0?"#fff":"#999",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,boxShadow:x===0?"0 2px 8px #1976d233":"none",border:x===0?"2px solid #1976d2":"2px solid #e0e0e0",mb:1,transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"},children:d.step}),n.jsx(z,{sx:{color:x===0?"#1976d2":"#666",fontWeight:x===0?600:400,fontSize:14,textAlign:"center",maxWidth:110,letterSpacing:.2},children:d.label})]}),x<3&&n.jsx(y,{sx:{flex:1,height:2,background:"#e0e0e0",mx:1,minWidth:24,borderRadius:1}})]},d.step))]})}),t&&n.jsxs(Ct.div,{variants:Yx,initial:"hidden",animate:"visible",style:{width:"100%"},children:[n.jsxs(y,{sx:{mt:6,mb:2},children:[n.jsx(z,{variant:"h5",sx:{fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',color:"#2d3748",fontWeight:700,fontSize:24,letterSpacing:1,textAlign:"left",mb:.5},children:"Horizontal Panels"}),n.jsx(y,{sx:{width:32,height:2,bgcolor:"#1976d2",borderRadius:1,mt:.5}})]}),n.jsx(bt,{container:!0,spacing:4,justifyContent:"center",sx:{mb:4},children:s.map(d=>n.jsx(bt,{item:!0,xs:12,sm:6,md:4,component:"div",children:n.jsx(ms,{variants:ys,children:n.jsxs(us,{onClick:()=>e(d.path),sx:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[n.jsx(hs,{src:d.image,alt:d.name,className:"panel-image"}),n.jsx(bs,{variant:"h5",className:"panel-title",sx:{textAlign:"center",mb:2},children:d.name}),n.jsx(ke,{variant:"text",size:"large",className:"panel-button",sx:{color:"rgba(255, 255, 255, 0.7)",textTransform:"none",fontWeight:400,letterSpacing:"0.5px",opacity:0,transform:"translateY(10px)",transition:"all 0.3s ease",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',"&:hover":{color:"rgba(255, 255, 255, 1)",backgroundColor:"transparent"}},children:"Select"})]})})},d.name))}),n.jsxs(y,{sx:{mt:6,mb:2},children:[n.jsx(z,{variant:"h5",sx:{fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',color:"#2d3748",fontWeight:700,fontSize:24,letterSpacing:1,textAlign:"left",mb:.5},children:"Vertical Panels"}),n.jsx(y,{sx:{width:32,height:2,bgcolor:"#1976d2",borderRadius:1,mt:.5}})]}),n.jsx(bt,{container:!0,spacing:4,justifyContent:"center",children:a.map(d=>n.jsx(bt,{item:!0,xs:12,sm:6,md:4,component:"div",children:n.jsx(ms,{variants:ys,children:n.jsxs(us,{onClick:()=>e(d.path),sx:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[n.jsx(hs,{src:d.image,alt:d.name,className:"panel-image"}),n.jsx(bs,{variant:"h5",className:"panel-title",sx:{textAlign:"center",mb:2},children:d.name}),n.jsx(ke,{variant:"text",size:"large",className:"panel-button",sx:{color:"rgba(255, 255, 255, 0.7)",textTransform:"none",fontWeight:400,letterSpacing:"0.5px",opacity:0,transform:"translateY(10px)",transition:"all 0.3s ease",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',"&:hover":{color:"rgba(255, 255, 255, 1)",backgroundColor:"transparent"}},children:"Select"})]})})},d.name))})]})]})]})},Xx=Y(y)(({theme:e})=>({width:"100%",maxWidth:800,margin:"0 auto",padding:e.spacing(3),marginBottom:e.spacing(6)}));Y(z)(({theme:e})=>({color:"rgba(255, 255, 255, 0.9)",fontWeight:400,marginBottom:e.spacing(2),letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'}));const Kx=Y(y)(({theme:e})=>({position:"relative",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-4px)","& .panel-image":{transform:"scale(1.02)"},"& .panel-title":{opacity:1,transform:"translateY(0)"},"& .panel-button":{opacity:1,transform:"translateY(0)"}}})),qx=Y("img")(({theme:e})=>({width:"100%",height:"auto",maxHeight:280,objectFit:"contain",transition:"transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)",marginBottom:e.spacing(2)})),Zx=Y(z)(({theme:e})=>({color:"rgba(255, 255, 255, 0.9)",fontWeight:400,letterSpacing:"0.5px",marginTop:e.spacing(2),opacity:.8,transform:"translateY(10px)",transition:"all 0.3s ease",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',whiteSpace:"nowrap",overflow:"hidden"})),Jx=Y(Ct.div)({width:"100%"}),Qx={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,staggerChildren:.2,delayChildren:.1}}},eg={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.4,0,.2,1]}}},tg=()=>{const e=Ze();Hn();const[t]=h.useState(!0),{projectName:o,projectCode:i}=h.useContext(tt),r=[{step:1,label:"Select Panel Type"},{step:2,label:"Select your icons"},{step:3,label:"Select Panel Design"},{step:4,label:"Review panel details"}],s=0,a=()=>n.jsx(y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:4,mt:4},children:r.map((x,u)=>n.jsxs(ft.Fragment,{children:[n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[n.jsx(y,{sx:{width:32,height:32,borderRadius:"50%",background:u===s?"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)":"#e0e0e0",color:u===s?"#fff":"#999",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,boxShadow:u===s?"0 2px 8px #1976d233":"none",border:u===s?"2px solid #1976d2":"2px solid #e0e0e0",mb:1,transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"},children:x.step}),n.jsx(z,{sx:{color:u===s?"#1976d2":"#666",fontWeight:u===s?600:400,fontSize:14,textAlign:"center",maxWidth:110,letterSpacing:.2},children:x.label})]}),u<r.length-1&&n.jsx(y,{sx:{flex:1,height:2,background:"#e0e0e0",mx:1,minWidth:24,borderRadius:1}})]},x.step))}),d=[{name:"Single Panel",image:yl,path:"/customizer/sp"},{name:"Thermostat",image:bl,path:"/customizer/tag"},{name:"Corridor Panel",image:ml,path:"/panel/idpg"},{name:"Double Panel",image:Ho,path:"/panel/double"},{name:"Extended Panel",image:vl,path:"/panel/extended"}];return n.jsxs(y,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #718096 0%, #a0aec0 100%)",py:8},children:[(o||i)&&n.jsx(y,{sx:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:10},children:n.jsxs(z,{sx:{fontSize:14,color:"#ffffff",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[o,i&&` - ${i}`]})}),n.jsxs(xt,{maxWidth:"lg",children:[n.jsx(y,{sx:{position:"absolute",top:20,right:30,zIndex:1},children:n.jsx(dt,{})}),n.jsxs(y,{sx:{position:"absolute",top:20,left:30,display:"flex",alignItems:"center",gap:2},children:[n.jsx("img",{src:at,alt:"Logo",style:{height:"40px",width:"auto",cursor:"pointer",filter:"brightness(0) invert(0.3)"},onClick:()=>e("/")}),n.jsx(z,{variant:"h6",component:"h1",sx:{color:"rgba(255, 255, 255, 0.95)",fontWeight:400,letterSpacing:"1px",textTransform:"capitalize",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Design your panels"})]}),n.jsx(Xx,{children:n.jsx(a,{})}),t&&n.jsx(Ct.div,{variants:Qx,initial:"hidden",animate:"visible",style:{width:"100%"},children:n.jsx(bt,{container:!0,spacing:4,justifyContent:"center",children:d.map(x=>n.jsx(bt,{item:!0,xs:12,sm:6,md:4,component:"div",children:n.jsx(Jx,{variants:eg,children:n.jsxs(Kx,{onClick:()=>e(x.path),sx:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",p:3,marginLeft:x.name==="Double Panel"?"-158px":x.name==="Extended Panel"?"142px":void 0},children:[n.jsx(qx,{src:x.image,alt:x.name,className:"panel-image",style:{maxHeight:x.name==="Single Panel"||x.name==="Thermostat"?262:x.name==="Corridor Panel"?346:x.name==="Double Panel"?250:x.name==="Extended Panel"?768:288,width:x.name==="Single Panel"||x.name==="Thermostat"?"107%":x.name==="Corridor Panel"?"144%":x.name==="Double Panel"?"87%":x.name==="Extended Panel"?"264%":"120%",marginBottom:16,marginTop:x.name==="Double Panel"||x.name==="Extended Panel"?0:void 0}}),n.jsx(Zx,{variant:"h5",className:"panel-title",sx:{textAlign:"center",mb:2,whiteSpace:"nowrap",overflow:"hidden"},children:x.name}),n.jsx(ke,{variant:"text",size:"large",className:"panel-button",sx:{color:"rgba(255, 255, 255, 0.7)",textTransform:"none",fontWeight:400,letterSpacing:"0.5px",opacity:0,transform:"translateY(10px)",transition:"all 0.3s ease",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',"&:hover":{color:"rgba(255, 255, 255, 1)",backgroundColor:"transparent"}},children:"Select Panel"})]})})},x.name))})})]})]})},ng="modulepreload",og=function(e){return"/"+e},vs={},wt=function(t,o,i){let r=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),d=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(o.map(x=>{if(x=og(x),x in vs)return;vs[x]=!0;const u=x.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${p}`))return;const v=document.createElement("link");if(v.rel=u?"stylesheet":ng,u||(v.as="script"),v.crossOrigin="",v.href=x,d&&v.setAttribute("nonce",d),document.head.appendChild(v),u)return new Promise((j,_)=>{v.addEventListener("load",j),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${x}`)))})}))}function s(a){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=a,window.dispatchEvent(d),!d.defaultPrevented)throw a}return r.then(a=>{for(const d of a||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})},qe=[{code:"1000",name:"Green beige",hex:"#CDBA88"},{code:"1001",name:"Beige",hex:"#D0B084"},{code:"1002",name:"Sand yellow",hex:"#D2AA6D"},{code:"1003",name:"Signal yellow",hex:"#F9A900"},{code:"1004",name:"Golden yellow",hex:"#E49E00"},{code:"1005",name:"Honey yellow",hex:"#CB8F00"},{code:"1006",name:"Maize yellow",hex:"#E19000"},{code:"1007",name:"Daffodil yellow",hex:"#E88C00"},{code:"1011",name:"Brown beige",hex:"#AF8050"},{code:"1012",name:"Lemon yellow",hex:"#DDAF28"},{code:"1013",name:"Oyster white",hex:"#E3D9C7"},{code:"1014",name:"Ivory",hex:"#DDC49B"},{code:"1015",name:"Light ivory",hex:"#E6D2B5"},{code:"1016",name:"Sulfur yellow",hex:"#F1DD39"},{code:"1017",name:"Saffron yellow",hex:"#F6A951"},{code:"1018",name:"Zinc yellow",hex:"#FACA31"},{code:"1019",name:"Grey beige",hex:"#A48F7A"},{code:"1020",name:"Olive yellow",hex:"#A08F65"},{code:"1021",name:"Colza yellow",hex:"#F6B600"},{code:"1023",name:"Traffic yellow",hex:"#F7B500"},{code:"1024",name:"Ochre yellow",hex:"#BA8F4C"},{code:"1026",name:"Luminous yellow",hex:"#FFFF00"},{code:"1027",name:"Curry",hex:"#A77F0F"},{code:"1028",name:"Melon yellow",hex:"#FF9C00"},{code:"1032",name:"Broom yellow",hex:"#E2A300"},{code:"1033",name:"Dahlia yellow",hex:"#F99A1D"},{code:"1034",name:"Pastel yellow",hex:"#EB9C52"},{code:"1035",name:"Pearl beige",hex:"#8F8370"},{code:"1036",name:"Pearl gold",hex:"#806440"},{code:"1037",name:"Sun yellow",hex:"#F09200"},{code:"2000",name:"Yellow orange",hex:"#DA6E00"},{code:"2001",name:"Red orange",hex:"#BA481C"},{code:"2002",name:"Vermilion",hex:"#BF3922"},{code:"2003",name:"Pastel orange",hex:"#F67829"},{code:"2004",name:"Pure orange",hex:"#E25304"},{code:"2005",name:"Luminous orange",hex:"#FF4D08"},{code:"2007",name:"Luminous bright orange",hex:"#FFB200"},{code:"2008",name:"Bright red orange",hex:"#EC6B22"},{code:"2009",name:"Traffic orange",hex:"#DE5308"},{code:"2010",name:"Signal orange",hex:"#D05D29"},{code:"2011",name:"Deep orange",hex:"#E26E0F"},{code:"2012",name:"Salmon orange",hex:"#D5654E"},{code:"2013",name:"Pearl orange",hex:"#923E25"},{code:"2017",name:"RAL orange",hex:"#FC5500"},{code:"3000",name:"Flame red",hex:"#A72920"},{code:"3001",name:"Signal red",hex:"#9B2423"},{code:"3002",name:"Carmine red",hex:"#9B2321"},{code:"3003",name:"Ruby red",hex:"#861A22"},{code:"3004",name:"Purple red",hex:"#6B1C23"},{code:"3005",name:"Wine red",hex:"#59191F"},{code:"3007",name:"Black red",hex:"#3E2022"},{code:"3009",name:"Oxide red",hex:"#6D342D"},{code:"3011",name:"Brown red",hex:"#782423"},{code:"3012",name:"Beige red",hex:"#C5856D"},{code:"3013",name:"Tomato red",hex:"#972E25"},{code:"3014",name:"Antique pink",hex:"#CB7375"},{code:"3015",name:"Light pink",hex:"#D8A0A6"},{code:"3016",name:"Coral red",hex:"#A63D30"},{code:"3017",name:"Rose",hex:"#CA555D"},{code:"3018",name:"Strawberry red",hex:"#C63F4A"},{code:"3020",name:"Traffic red",hex:"#BB1F11"},{code:"3022",name:"Salmon pink",hex:"#CF6955"},{code:"3024",name:"Luminous red",hex:"#FF2D21"},{code:"3026",name:"Luminous bright red",hex:"#FF2A1C"},{code:"3027",name:"Raspberry red",hex:"#AB273C"},{code:"3028",name:"Pure red",hex:"#CC2C24"},{code:"3031",name:"Orient red",hex:"#A63437"},{code:"3032",name:"Pearl ruby red",hex:"#701D24"},{code:"3033",name:"Pearl pink",hex:"#A53A2E"},{code:"4001",name:"Red lilac",hex:"#816183"},{code:"4002",name:"Red violet",hex:"#8D3C4B"},{code:"4003",name:"Heather violet",hex:"#C4618C"},{code:"4004",name:"Claret violet",hex:"#651E38"},{code:"4005",name:"Blue lilac",hex:"#76689A"},{code:"4006",name:"Traffic purple",hex:"#903373"},{code:"4007",name:"Purple violet",hex:"#47243C"},{code:"4008",name:"Signal violet",hex:"#844C82"},{code:"4009",name:"Pastel violet",hex:"#9D8692"},{code:"4010",name:"Telemagenta",hex:"#BB4077"},{code:"4011",name:"Pearl violet",hex:"#6E6387"},{code:"4012",name:"Pearl blackberry",hex:"#6A6B7F"},{code:"5000",name:"Violet blue",hex:"#304F6E"},{code:"5001",name:"Green blue",hex:"#0E4C64"},{code:"5002",name:"Ultramarine blue",hex:"#00387A"},{code:"5003",name:"Sapphire blue",hex:"#1F3855"},{code:"5004",name:"Black blue",hex:"#191E28"},{code:"5005",name:"Signal blue",hex:"#005387"},{code:"5007",name:"Brilliant blue",hex:"#376B8C"},{code:"5008",name:"Grey blue",hex:"#2B3A44"},{code:"5009",name:"Azure blue",hex:"#215F78"},{code:"5010",name:"Gentian blue",hex:"#004F7C"},{code:"5011",name:"Steel blue",hex:"#1A2B3C"},{code:"5012",name:"Light blue",hex:"#0089B6"},{code:"5013",name:"Cobalt blue",hex:"#193153"},{code:"5014",name:"Pigeon blue",hex:"#637D96"},{code:"5015",name:"Sky blue",hex:"#007CAF"},{code:"5017",name:"Traffic blue",hex:"#005B8C"},{code:"5018",name:"Turquoise blue",hex:"#048B8C"},{code:"5019",name:"Capri blue",hex:"#005E83"},{code:"5020",name:"Ocean blue",hex:"#00414B"},{code:"5021",name:"Water blue",hex:"#007577"},{code:"5022",name:"Night blue",hex:"#222D5A"},{code:"5023",name:"Distant blue",hex:"#41698C"},{code:"5024",name:"Pastel blue",hex:"#6093AC"},{code:"5025",name:"Pearl gentian blue",hex:"#20697C"},{code:"5026",name:"Pearl night blue",hex:"#0F3052"},{code:"6000",name:"Patina green",hex:"#3C7460"},{code:"6001",name:"Emerald green",hex:"#366735"},{code:"6002",name:"Leaf green",hex:"#325928"},{code:"6003",name:"Olive green",hex:"#50533C"},{code:"6004",name:"Blue green",hex:"#024442"},{code:"6005",name:"Moss green",hex:"#114232"},{code:"6006",name:"Grey olive",hex:"#3C392E"},{code:"6007",name:"Bottle green",hex:"#2C3222"},{code:"6008",name:"Brown green",hex:"#36342A"},{code:"6009",name:"Fir green",hex:"#27352A"},{code:"6010",name:"Grass green",hex:"#4D6F39"},{code:"6011",name:"Reseda green",hex:"#6B7C59"},{code:"6012",name:"Black green",hex:"#2F3D3A"},{code:"6013",name:"Reed green",hex:"#7C765A"},{code:"6014",name:"Yellow olive",hex:"#474135"},{code:"6015",name:"Black olive",hex:"#3D3D36"},{code:"6016",name:"Turquoise green",hex:"#00694C"},{code:"6017",name:"May green",hex:"#587F40"},{code:"6018",name:"Yellow green",hex:"#60993B"},{code:"6019",name:"Pastel green",hex:"#B9CEAC"},{code:"6020",name:"Chrome green",hex:"#37422F"},{code:"6021",name:"Pale green",hex:"#8A9977"},{code:"6022",name:"Olive drab",hex:"#3A3327"},{code:"6024",name:"Traffic green",hex:"#008351"},{code:"6025",name:"Fern green",hex:"#5E6E3B"},{code:"6026",name:"Opal green",hex:"#005F4E"},{code:"6027",name:"Light green",hex:"#7EBAB5"},{code:"6028",name:"Pine green",hex:"#315442"},{code:"6029",name:"Mint green",hex:"#006F3D"},{code:"6032",name:"Signal green",hex:"#237F52"},{code:"6033",name:"Mint turquoise",hex:"#45877F"},{code:"6034",name:"Pastel turquoise",hex:"#7AADAC"},{code:"6035",name:"Pearl green",hex:"#194D25"},{code:"6036",name:"Pearl opal green",hex:"#04574B"},{code:"6037",name:"Pure green",hex:"#008B29"},{code:"6038",name:"Luminous green",hex:"#00B51B"},{code:"7000",name:"Squirrel grey",hex:"#7A888E"},{code:"7001",name:"Silver grey",hex:"#8C979C"},{code:"7002",name:"Olive grey",hex:"#817863"},{code:"7003",name:"Moss grey",hex:"#797669"},{code:"7004",name:"Signal grey",hex:"#9A9B9B"},{code:"7005",name:"Mouse grey",hex:"#6B6E6B"},{code:"7006",name:"Beige grey",hex:"#766A5E"},{code:"7008",name:"Khaki grey",hex:"#745F3D"},{code:"7009",name:"Green grey",hex:"#5D6058"},{code:"7010",name:"Tarpaulin grey",hex:"#585C56"},{code:"7011",name:"Iron grey",hex:"#52595D"},{code:"7012",name:"Basalt grey",hex:"#575D5E"},{code:"7013",name:"Brown grey",hex:"#575044"},{code:"7015",name:"Slate grey",hex:"#4F5358"},{code:"7016",name:"Anthracite grey",hex:"#383E42"},{code:"7021",name:"Black grey",hex:"#2F3234"},{code:"7022",name:"Umbra grey",hex:"#4C4A44"},{code:"7023",name:"Concrete grey",hex:"#808076"},{code:"7024",name:"Graphite grey",hex:"#45494E"},{code:"7026",name:"Granite grey",hex:"#374345"},{code:"7030",name:"Stone grey",hex:"#928E85"},{code:"7031",name:"Blue grey",hex:"#5B686D"},{code:"7032",name:"Pebble grey",hex:"#B5B0A1"},{code:"7033",name:"Cement grey",hex:"#7F8274"},{code:"7034",name:"Yellow grey",hex:"#92886F"},{code:"7035",name:"Light grey",hex:"#C5C7C4"},{code:"7036",name:"Platinum grey",hex:"#979392"},{code:"7037",name:"Dusty grey",hex:"#7A7B7A"},{code:"7038",name:"Agate grey",hex:"#B0B0A9"},{code:"7039",name:"Quartz grey",hex:"#6B665E"},{code:"7040",name:"Window grey",hex:"#989EA1"},{code:"7042",name:"Traffic grey A",hex:"#8E9291"},{code:"7043",name:"Traffic grey B",hex:"#4F5250"},{code:"7044",name:"Silk grey",hex:"#B7B3A8"},{code:"7045",name:"Telegrey 1",hex:"#8D9295"},{code:"7046",name:"Telegrey 2",hex:"#7E868A"},{code:"7047",name:"Telegrey 4",hex:"#C8C8C7"},{code:"7048",name:"Pearl mouse grey",hex:"#817B73"},{code:"8000",name:"Green brown",hex:"#89693F"},{code:"8001",name:"Ochre brown",hex:"#9D622B"},{code:"8002",name:"Signal brown",hex:"#794D3E"},{code:"8003",name:"Clay brown",hex:"#7E4B27"},{code:"8004",name:"Copper brown",hex:"#8D4931"},{code:"8007",name:"Fawn brown",hex:"#70462B"},{code:"8008",name:"Olive brown",hex:"#724A25"},{code:"8011",name:"Nut brown",hex:"#5A3827"},{code:"8012",name:"Red brown",hex:"#66332B"},{code:"8014",name:"Sepia brown",hex:"#4A3526"},{code:"8015",name:"Chestnut brown",hex:"#5E2F26"},{code:"8016",name:"Mahogany brown",hex:"#4C2B20"},{code:"8017",name:"Chocolate brown",hex:"#442F29"},{code:"8019",name:"Grey brown",hex:"#3D3635"},{code:"8022",name:"Black brown",hex:"#1A1719"},{code:"8023",name:"Orange brown",hex:"#A45729"},{code:"8024",name:"Beige brown",hex:"#795038"},{code:"8025",name:"Pale brown",hex:"#755847"},{code:"8028",name:"Terra brown",hex:"#513A2A"},{code:"8029",name:"Pearl copper",hex:"#7F4031"},{code:"9001",name:"Cream",hex:"#E9E0D2"},{code:"9002",name:"Grey white",hex:"#D6D5CB"},{code:"9003",name:"Signal white",hex:"#ECECE7"},{code:"9004",name:"Signal black",hex:"#2B2B2C"},{code:"9005",name:"Jet black",hex:"#0E0E10"},{code:"9006",name:"White aluminium",hex:"#A1A1A0"},{code:"9007",name:"Grey aluminium",hex:"#868581"},{code:"9010",name:"Pure white",hex:"#F1EDE1"},{code:"9011",name:"Graphite black",hex:"#27292B"},{code:"9012",name:"Cleanroom white",hex:"#F8F2E1"},{code:"9016",name:"Traffic white",hex:"#F1F1EA"},{code:"9017",name:"Traffic black",hex:"#29292A"},{code:"9018",name:"Papyrus white",hex:"#C8CBC4"},{code:"9022",name:"Pearl light grey",hex:"#858583"},{code:"9023",name:"Pearl dark grey",hex:"#787B7A"}],ig={"#000000":"Black","#FFFFFF":"White","#808080":"Gray","#FF0000":"Red","#0000FF":"Blue","#008000":"Green"},At=e=>ig[e]||e,Ss={SP:{dimensions:{width:"320px",height:"320px"},iconPositions:[{top:"23px",left:"33px"},{top:"23px",left:"136px"},{top:"23px",left:"233px"},{top:"123px",left:"33px"},{top:"123px",left:"136px"},{top:"123px",left:"233px"},{top:"218px",left:"33px"},{top:"218px",left:"136px"},{top:"218px",left:"233px"}],iconLayout:{size:"40px",spacing:"5px",position:"top"},textLayout:{fontSize:"12px",position:"absolute",bottom:"13px",padding:"-1px"},specialLayouts:{PIR:{iconSize:"40px",marginTop:"20px"},Bathroom:{iconSize:"50px"}}},TAG:{dimensions:{width:"320px",height:"320px"},iconPositions:[{top:"15px",left:"15px"},{top:"0px",left:"115px"},{top:"15px",left:"215px"},{top:"115px",left:"15px"},{top:"115px",left:"115px"},{top:"115px",left:"215px"},{top:"215px",left:"15px"},{top:"215px",left:"115px"},{top:"215px",left:"215px"},{top:"220px",left:"15px"},{top:"220px",left:"115px"},{top:"220px",left:"215px"}],iconLayout:{size:"35px",spacing:"8px",position:"center"},textLayout:{fontSize:"11px",position:"static",padding:"3px"}},DPH:{dimensions:{width:"640px",height:"320px"},iconPositions:[{top:"23px",left:"33px"},{top:"23px",left:"136px"},{top:"23px",left:"233px"},{top:"123px",left:"33px"},{top:"123px",left:"136px"},{top:"123px",left:"233px"},{top:"218px",left:"33px"},{top:"218px",left:"136px"},{top:"218px",left:"233px"},{top:"23px",left:"353px"},{top:"23px",left:"456px"},{top:"23px",left:"553px"},{top:"123px",left:"353px"},{top:"123px",left:"456px"},{top:"123px",left:"553px"},{top:"218px",left:"353px"},{top:"218px",left:"456px"},{top:"218px",left:"553px"}],iconLayout:{size:"40px",spacing:"5px",position:"top"},textLayout:{fontSize:"12px",position:"absolute",bottom:"13px",padding:"-1px"}},DPV:{dimensions:{width:"320px",height:"640px"},iconPositions:[{top:"23px",left:"33px"},{top:"23px",left:"136px"},{top:"23px",left:"233px"},{top:"123px",left:"33px"},{top:"123px",left:"136px"},{top:"123px",left:"233px"},{top:"218px",left:"33px"},{top:"218px",left:"136px"},{top:"218px",left:"233px"},{top:"343px",left:"33px"},{top:"343px",left:"136px"},{top:"343px",left:"233px"},{top:"443px",left:"33px"},{top:"443px",left:"136px"},{top:"443px",left:"233px"},{top:"538px",left:"33px"},{top:"538px",left:"136px"},{top:"538px",left:"233px"}],iconLayout:{size:"40px",spacing:"5px",position:"top"},textLayout:{fontSize:"12px",position:"absolute",bottom:"13px",padding:"-1px"}},X2H:{dimensions:{width:"900px",height:"300px"},iconPositions:[{top:"23px",left:"33px"},{top:"23px",left:"136px"},{top:"23px",left:"233px"},{top:"123px",left:"33px"},{top:"123px",left:"136px"},{top:"123px",left:"233px"},{top:"218px",left:"33px"},{top:"218px",left:"136px"},{top:"218px",left:"233px"},{top:"43px",left:"356px"},{top:"43px",left:"635px"}],gridLayout:{rows:3,columns:3,gap:"6px",padding:"12px"},iconLayout:{size:"35px",spacing:"6px",position:"top"},bigIconLayout:{size:"100px",position:"right",width:"40%",height:"100%"},textLayout:{fontSize:"11px",position:"absolute",bottom:"10px",padding:"3px"}},X2V:{dimensions:{width:"400px",height:"900px"},iconPositions:[{top:"23px",left:"33px"},{top:"23px",left:"136px"},{top:"23px",left:"233px"},{top:"123px",left:"33px"},{top:"123px",left:"136px"},{top:"123px",left:"233px"},{top:"218px",left:"33px"},{top:"218px",left:"136px"},{top:"218px",left:"233px"},{top:"443px",left:"136px"},{top:"800px",left:"136px"}],gridLayout:{rows:3,columns:3,gap:"6px",padding:"12px"},iconLayout:{size:"35px",spacing:"6px",position:"top"},bigIconLayout:{size:"100px",position:"bottom",width:"100%",height:"50%"},textLayout:{fontSize:"11px",position:"absolute",bottom:"10px",padding:"3px"}},X1H:{dimensions:{width:"640px",height:"320px"},iconPositions:[{top:"23px",left:"33px"},{top:"23px",left:"136px"},{top:"23px",left:"233px"},{top:"123px",left:"33px"},{top:"123px",left:"136px"},{top:"123px",left:"233px"},{top:"218px",left:"33px"},{top:"218px",left:"136px"},{top:"218px",left:"233px"},{top:"33px",left:"341px",width:"120px",height:"120px"}],iconLayout:{size:"40px",spacing:"5px",position:"top"},textLayout:{fontSize:"12px",position:"absolute",bottom:"13px",padding:"-1px"}},X1V:{dimensions:{width:"320px",height:"640px"},iconPositions:[{top:"23px",left:"33px"},{top:"23px",left:"136px"},{top:"23px",left:"233px"},{top:"123px",left:"33px"},{top:"123px",left:"136px"},{top:"123px",left:"233px"},{top:"218px",left:"33px"},{top:"218px",left:"136px"},{top:"218px",left:"233px"},{top:"328px",left:"36px"}],iconLayout:{size:"40px",spacing:"5px",position:"top"},textLayout:{fontSize:"12px",position:"absolute",bottom:"13px",padding:"-1px"}},IDPG:{dimensions:{width:"400px",height:"400px"},gridLayout:{rows:4,columns:4,gap:"5px",padding:"10px"},iconLayout:{size:"30px",spacing:"5px",position:"center"},textLayout:{fontSize:"10px",position:"static",padding:"2px"}}},Bt=e=>Ss[e]||Ss.SP;Y(y)(({theme:e})=>({width:"100%",maxWidth:800,margin:"0 auto",padding:e.spacing(3),marginBottom:e.spacing(6)}));Y(z)(({theme:e})=>({color:"#1a1f2c",fontWeight:400,marginBottom:e.spacing(2),letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'}));Y(y)(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(2),position:"relative","&::before":{content:'""',position:"absolute",top:"50%",left:0,right:0,height:"2px",backgroundColor:"rgba(26, 31, 44, 0.1)",zIndex:0}}));Y(y)(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:1}));Y(y)(({theme:e,completed:t,current:o})=>({width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(1),backgroundColor:t?"#1a1f2c":o?"#ffffff":"rgba(26, 31, 44, 0.1)",color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",border:o?"2px solid #1a1f2c":"none",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontWeight:400}));Y(z)(({theme:e,completed:t,current:o})=>({color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",fontSize:"14px",fontWeight:o?500:400,textAlign:"center",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"}));const rg=Y(ke)(({theme:e})=>({textTransform:"none",fontWeight:400,letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',padding:"8px 24px",borderRadius:"4px",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)"}})),sg="AIzaSyDQngnSe6or2muwiDaov5HV02fk-4OiZaM",ag=["Roboto","Open Sans","Lato","Montserrat","Poppins","Oswald","Raleway","Merriweather","Nunito","Quicksand","Source Sans Pro","Inter"];function lg(e){const t=e.replace(/ /g,"+"),o=`google-font-${t}`;if(!document.getElementById(o)){const i=document.createElement("link");i.id=o,i.rel="stylesheet",i.href=`https://fonts.googleapis.com/css?family=${t}`,document.head.appendChild(i)}}const bo=(e,t)=>{if(!e)return`rgba(255, 255, 255, ${t})`;e=e.replace("#","");const o=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return`rgba(${o}, ${i}, ${r}, ${t})`},dg=({backbox:e,setBackbox:t,backboxError:o,extraComments:i,setExtraComments:r,panelDesign:s,placedIcons:a,ICON_COLOR_FILTERS:d,ralColors:x})=>{const u=x.find(p=>p.hex===s.backgroundColor);return Object.keys(d).find(p=>p===s.iconColor),n.jsxs(y,{sx:{width:400,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.12), 0 4px 16px rgba(0,0,0,0.08)",border:"1px solid rgba(255,255,255,0.8)",overflow:"hidden",position:"relative"},children:[n.jsx(y,{sx:{background:"linear-gradient(135deg, #1a1f2c 0%, #2c3e50 100%)",color:"#ffffff",p:2.5,textAlign:"center",position:"relative","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)"}},children:n.jsx(z,{variant:"h6",sx:{fontWeight:600,letterSpacing:"0.5px",fontSize:"18px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Panel Configuration Summary"})}),n.jsx(y,{sx:{p:3},children:n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#4CAF50",flexShrink:0}}),"Selected Icons (",a.filter(p=>p.label&&p.label.trim()!=="").length,")"]}),a.filter(p=>p.label&&p.label.trim()!=="").length>0?n.jsx(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500,lineHeight:1.4},children:a.filter(p=>p.label&&p.label.trim()!=="").map((p,v,j)=>n.jsxs("span",{children:[p.label,v<j.length-1?", ":""]},p.id))}):n.jsx(z,{variant:"body2",sx:{color:"#6c757d",fontStyle:"italic",fontSize:"14px"},children:"No icons selected yet"})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#FF6B35",flexShrink:0}}),"Color Configuration"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.backgroundColor||"#ffffff",border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Panel: ",u?`RAL ${u.code}`:"Default"]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.iconColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Icons: ",At(s.iconColor)]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.textColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Text: ",s.textColor]})]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#9C27B0",flexShrink:0}}),"Typography Settings"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Font: ",s.fonts||"Default"]}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Size: ",s.fontSize||"12px"]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Backbox Details *"}),n.jsx("input",{type:"text",value:e,onChange:p=>{t(p.target.value)},placeholder:"Enter backbox details...",style:{width:"100%",padding:"8px",marginBottom:"8px",border:o?"1px solid red":"1px solid #ccc",borderRadius:"4px"}}),o&&n.jsx("div",{style:{color:"red",fontSize:"12px"},children:o})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Additional Comments (Optional)"}),n.jsx("textarea",{value:i,onChange:p=>r(p.target.value),placeholder:"Enter any additional comments...",style:{width:"100%",minHeight:"48px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]})]})})]})},cg=()=>{var Be,De,$e;const e=lt(),t=Ze(),o=gt(),[i,r]=h.useState({}),[s,a]=h.useState([]),[d,x]=h.useState(null),[u,p]=h.useState([]),[v,j]=h.useState({}),[_,k]=h.useState(""),[B,E]=h.useState(null),[w,F]=h.useState(null);Array.from(new Set(u.map(c=>c.iconId)));const[R,M]=h.useState(2),[l,O]=h.useState({backgroundColor:"",fonts:"",backlight:"",iconColor:"#000000",plasticColor:"",textColor:"#000000",fontSize:"12px",iconSize:"40px"}),[ne,Z]=h.useState(""),[re,X]=h.useState(""),[te,Se]=h.useState(""),[Pe,ie]=h.useState(ag),[he,pe]=h.useState(""),[de,N]=h.useState(!1),[V,$]=h.useState(!1),L=h.useRef(null),J={"#000000":"brightness(0) saturate(100%)","#FFFFFF":"brightness(0) saturate(100%) invert(1)","#808080":"brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(0%) hue-rotate(148deg) brightness(99%) contrast(91%)","#FF0000":"brightness(0) saturate(100%) invert(13%) sepia(93%) saturate(7464%) hue-rotate(0deg) brightness(113%) contrast(109%)","#0000FF":"brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(6495%) hue-rotate(247deg) brightness(98%) contrast(141%)","#008000":"brightness(0) saturate(100%) invert(23%) sepia(98%) saturate(3025%) hue-rotate(101deg) brightness(94%) contrast(104%)"},[U,H]=h.useState({}),{projectName:fe,projectCode:le}=h.useContext(tt),[Le,Q]=h.useState("Arial"),[We,W]=h.useState(null),xe=((Be=o.state)==null?void 0:Be.editMode)||!1,ge=(De=o.state)==null?void 0:De.panelIndex,oe=($e=o.state)==null?void 0:$e.panelData;if(console.log("RENDER",{backbox:ne,extraComments:re}),h.useEffect(()=>{wt(()=>Promise.resolve().then(()=>kt),void 0).then(c=>{r(c.default),a(c.iconCategories.filter(b=>b!=="Sockets"&&b!=="TAG"))})},[]),h.useEffect(()=>{if(xe&&oe){if(oe.panelDesign&&(O(oe.panelDesign),Z(oe.panelDesign.backbox||""),X(oe.panelDesign.extraComments||"")),oe.icons){const c=oe.icons.filter(g=>g.iconId).map(g=>({id:Date.now()+Math.random(),iconId:g.iconId,src:g.src||"",label:g.label||"",position:g.position,category:g.category||""}));p(c);const b={};oe.icons.forEach(g=>{g.text&&(b[g.position]=g.text)}),j(b)}M(3)}},[xe,oe]),!e)throw new Error("CartContext must be used within a CartProvider");const{addToCart:Ie,updatePanel:Te}=e;h.useEffect(()=>{s.length>0&&k(s[0])},[s]);const Ve=(c,b)=>{const g=c.target.value;j(m=>({...m,[b]:g}))},je=c=>{p(b=>b.filter(g=>g.id!==c))},Ue=()=>{if(!ne.trim()){Se("Please provide backbox details before adding the panel to your project.");return}const c={type:"SP",icons:Array.from({length:9}).map((b,g)=>{const m=u.find(C=>C.position===g);return{iconId:(m==null?void 0:m.iconId)||null,src:(m==null?void 0:m.src)||"",label:(m==null?void 0:m.label)||"",position:g,text:v[g]||"",category:(m==null?void 0:m.category)||void 0}}).filter(b=>b.iconId||b.text),quantity:1,panelDesign:{...l,backbox:ne,extraComments:re}};xe&&ge!==void 0?(Te(ge,c),t("/cart")):Ie(c)},Ae=Object.entries(i).filter(([c,b])=>b.category===_&&b.category!=="TAG").map(([c,b])=>({id:c,src:b.src,label:b.label,category:b.category})),Fe=(c,b)=>{"position"in b?c.dataTransfer.setData("text/plain",JSON.stringify({type:"placed",id:b.id,position:b.position})):c.dataTransfer.setData("text/plain",JSON.stringify({type:"new",id:b.id})),c.dataTransfer.effectAllowed="move"},_e=(c,b)=>{try{const g=JSON.parse(b);if(g.type==="new"){const m=Ae.find(f=>f.id===g.id);if(!m||m.category==="PIR"&&(c!==7||u.some(S=>S.category==="PIR"))||(m.id==="G1"||m.id==="G2")&&c!==0&&c!==1&&c!==3&&c!==4&&c!==6&&c!==7||m.id==="G3"&&c!==1&&c!==2&&c!==4&&c!==5&&c!==7&&c!==8||u.some(f=>f.position===c))return;const P={id:Date.now(),iconId:m.id,src:m.src,label:m.label,position:c,category:m.category};p(f=>[...f,P])}else if(g.type==="placed"){const m=u.find(P=>P.id===g.id),C=u.find(P=>P.position===c);if(!m||m.category==="PIR"&&c!==7||(C==null?void 0:C.category)==="PIR"&&g.position!==7||(m.iconId==="G1"||m.iconId==="G2")&&(c===2||c===5||c===8)||((C==null?void 0:C.iconId)==="G1"||(C==null?void 0:C.iconId)==="G2")&&(g.position===2||g.position===5||g.position===8)||m.iconId==="G3"&&(c===0||c===3||c===6)||(C==null?void 0:C.iconId)==="G3"&&(g.position===0||g.position===3||g.position===6))return;p(P=>P.map(f=>f.id===m.id?{...f,position:c}:f.position===c?{...f,position:g.position}:f)),j(P=>{const f={...P},S=P[g.position],A=P[c];return S!==void 0?f[c]=S:delete f[c],A!==void 0?f[g.position]=A:delete f[g.position],f})}}catch(g){console.error("Error handling drop:",g)}},He=c=>{F(c)},D=()=>{F(null)},I=c=>{const b=u.find(T=>T.position===c),g=v[c],m=(b==null?void 0:b.category)==="PIR",C=w===c,P=B===c,f=!!U[c],S=l.iconSize||"40px",A=(ae==null?void 0:ae[c])||{top:"0px",left:"0px"};return n.jsxs("div",{style:{position:"absolute",...A,width:A.width||S,height:A.height||S,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",zIndex:2},onDragOver:T=>{T.preventDefault()},onDrop:R===4?void 0:T=>{T.preventDefault();const q=T.dataTransfer.getData("text/plain");_e(c,q)},children:[b&&n.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>H(T=>({...T,[c]:!0})),onMouseLeave:()=>H(T=>({...T,[c]:!1})),children:[n.jsx("img",{src:b.src,alt:b.label,draggable:R!==4,onDragStart:R!==4?T=>Fe(T,b):void 0,style:{width:m?"40px":(b==null?void 0:b.category)==="Bathroom"?`${parseInt(l.iconSize||"40px")+10}px`:l.iconSize||"40px",height:m?"40px":(b==null?void 0:b.category)==="Bathroom"?`${parseInt(l.iconSize||"40px")+10}px`:l.iconSize||"40px",objectFit:"contain",marginBottom:"5px",position:"relative",zIndex:1,marginTop:m?"20px":"0",cursor:R!==4?"move":"default",filter:m?void 0:J[l.iconColor],transition:"filter 0.2s"}}),R!==4&&n.jsx("button",{onClick:T=>{T.stopPropagation(),je(b.id)},style:{position:"absolute",top:"-8px",right:"-8px",background:"rgba(220, 53, 69, 0.9)",color:"white",border:"2px solid rgba(255, 255, 255, 0.8)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",padding:0,lineHeight:1,zIndex:3,opacity:f?1:0,transform:f?"scale(1)":"scale(0.8)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseEnter:T=>{T.currentTarget.style.background="rgba(220, 53, 69, 1)",T.currentTarget.style.transform="scale(1.1)",T.currentTarget.style.boxShadow="0 4px 12px rgba(220, 53, 69, 0.4)"},onMouseLeave:T=>{T.currentTarget.style.background="rgba(220, 53, 69, 0.9)",T.currentTarget.style.transform="scale(1)",T.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"},children:""})]}),!m&&n.jsx("div",{style:{width:"100%",textAlign:"center",marginTop:b?"-11px":"15px"},children:R===4?g&&n.jsx("div",{style:{width:"100%",textAlign:"center",fontSize:l.fontSize||"12px",color:l.textColor||"#000000",fontFamily:l.fonts||void 0,wordBreak:"break-word"},children:g}):n.jsx(n.Fragment,{children:C?n.jsx("input",{type:"text",value:g||"",onChange:T=>Ve(T,c),onBlur:D,autoFocus:!0,style:{width:"120px",padding:"4px",fontSize:l.fontSize||"12px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",outline:"none",background:"rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,color:l.textColor||"#000000",marginTop:"0px",marginLeft:"-40px"}}):n.jsx("div",{onClick:()=>He(c),style:{fontSize:l.fontSize||"12px",color:g?l.textColor||"#000000":"#999999",wordBreak:"break-word",width:"120px",textAlign:"center",padding:"4px",cursor:"pointer",borderRadius:"4px",backgroundColor:P?"rgba(255, 255, 255, 0.1)":"transparent",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,marginTop:"0px",marginLeft:"-40px"},children:g||"Add text"})})})]},c)},K=[{step:1,label:"Select Panel Type"},{step:2,label:"Select your icons"},{step:3,label:"Select Panel Design"},{step:4,label:"Review panel details"}],G=R-1,se=()=>n.jsx(y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:4,mt:4},children:K.map((c,b)=>n.jsxs(ft.Fragment,{children:[n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[n.jsx(y,{sx:{width:32,height:32,borderRadius:"50%",background:b===G?"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)":"#e0e0e0",color:b===G?"#fff":"#888",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,boxShadow:b===G?"0 2px 8px #1976d233":"none",border:b===G?"2px solid #1976d2":"2px solid #e0e0e0",mb:1,transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"},children:c.step}),n.jsx(z,{sx:{color:b===G?"#1976d2":"#888",fontWeight:b===G?600:400,fontSize:14,textAlign:"center",maxWidth:110,letterSpacing:.2},children:c.label})]}),b<K.length-1&&n.jsx(y,{sx:{flex:1,height:2,background:"#e0e0e0",mx:1,minWidth:24,borderRadius:1}})]},c.step))});h.useEffect(()=>{$(!0),fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${sg}`).then(c=>c.json()).then(c=>{c.items&&(ie(c.items.map(b=>b.family)),console.log("Total Google Fonts loaded:",c.items.length))}).catch(()=>{}).finally(()=>$(!1))},[]),h.useEffect(()=>{function c(b){L.current&&!L.current.contains(b.target)&&N(!1)}return de&&document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[de]),h.useEffect(()=>{l.fonts&&lg(l.fonts)},[l.fonts]);const we=Bt("SP"),{dimensions:ce,iconPositions:ae,iconLayout:Me,textLayout:Ke,specialLayouts:Re}=we;return n.jsxs(y,{sx:{minHeight:"100vh",background:"#f6f8fa",py:8},children:[(fe||le)&&n.jsx(y,{sx:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:1e3},children:n.jsxs(z,{sx:{fontSize:14,color:"#1a1f2c",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[fe,le&&` - ${le}`]})}),n.jsxs(xt,{maxWidth:"lg",children:[n.jsx(y,{sx:{position:"absolute",top:20,right:30,zIndex:1},children:n.jsx(dt,{})}),n.jsxs(y,{sx:{position:"absolute",top:20,left:30,display:"flex",alignItems:"center",gap:2},children:[n.jsx("img",{src:at,alt:"Logo",style:{height:"40px",width:"auto",cursor:"pointer"},onClick:()=>t("/")}),n.jsx(z,{variant:"h6",component:"h1",sx:{color:"#1a1f2c",fontWeight:400,letterSpacing:"1px",textTransform:"capitalize",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Design your panels"})]}),n.jsx(se,{}),n.jsxs(y,{sx:{display:"flex",justifyContent:"center",gap:2,mb:4},children:[n.jsx(ke,{variant:"outlined",onClick:()=>{R===2?t("/panel-type"):M(c=>Math.max(2,c-1))},children:"Back"}),R!==4&&n.jsx(ke,{variant:"contained",disabled:R===4,onClick:()=>M(c=>Math.min(4,c+1)),children:"Next"})]}),R===2&&n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",justifyContent:"center"},children:s.map(c=>n.jsx("button",{onClick:()=>k(c),style:{padding:"12px 24px",background:_===c?"#1a1f2c":"#ffffff",color:_===c?"#ffffff":"#1a1f2c",border:"1px solid #1a1f2c",borderRadius:"4px",cursor:"pointer",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontSize:"14px",letterSpacing:"0.5px",transition:"all 0.3s ease",minWidth:"120px"},children:c},c))}),n.jsx("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",justifyContent:"center",maxWidth:"800px",margin:"0 auto"},children:Ae.map(c=>n.jsxs("div",{draggable:!0,onDragStart:b=>Fe(b,c),style:{padding:"12px",background:(d==null?void 0:d.id)===c.id?"#1a1f2c":"#ffffff",borderRadius:"6px",cursor:"grab",display:"flex",flexDirection:"column",alignItems:"center",width:"60px",border:"1px solid #e0e0e0",transition:"all 0.3s ease"},children:[n.jsx("img",{src:c.src,alt:c.label,style:{width:"32px",height:"32px",objectFit:"contain"}}),n.jsx("span",{style:{fontSize:"14px",color:(d==null?void 0:d.id)===c.id?"#ffffff":"#1a1f2c",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"},children:c.label})]},c.id))})]}),R===3&&n.jsxs("div",{style:{display:"flex",gap:"80px",alignItems:"flex-start",justifyContent:"center",maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},children:[n.jsxs("div",{style:{flex:"0 0 480px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"28px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',position:"relative",overflow:"hidden"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, #0056b3 0%, #007bff 50%, #0056b3 100%)",borderRadius:"12px 12px 0 0"}}),n.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",fontWeight:"600",color:"#1a1f2c",textAlign:"center",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:"Panel Design"}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Background Color (RAL)"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"10px",maxHeight:"200px",overflowY:"auto",background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"8px",padding:"16px",border:"1px solid #dee2e6",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.04)"},children:qe.map(c=>n.jsxs("button",{type:"button",onClick:()=>O({...l,backgroundColor:c.hex}),style:{display:"flex",flexDirection:"column",alignItems:"center",border:l.backgroundColor===c.hex?"2px solid #0056b3":"1px solid #dee2e6",borderRadius:"8px",background:l.backgroundColor===c.hex?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",cursor:"pointer",padding:"8px 6px",outline:"none",boxShadow:l.backgroundColor===c.hex?"0 0 0 3px rgba(0, 86, 179, 0.15), 0 2px 8px rgba(0,0,0,0.1)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",transform:l.backgroundColor===c.hex?"translateY(-1px)":"translateY(0)"},children:[n.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"6px",background:c.hex,border:"2px solid #ffffff",marginBottom:"6px",display:"block",boxShadow:"0 2px 4px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.3)"}}),n.jsx("span",{style:{fontSize:"11px",fontWeight:"600",color:"#495057"},children:`RAL ${c.code}`})]},c.code))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Typography Font"]}),n.jsxs("div",{style:{position:"relative"},ref:L,children:[n.jsx("input",{type:"text",placeholder:"Search Google Fonts...",value:he||l.fonts||"",onChange:c=>{const b=c.target.value;pe(b),b===""&&O(g=>({...g,fonts:""})),N(!0)},onFocus:()=>N(!0),style:{padding:"12px 16px",borderRadius:"8px",border:"1px solid #dee2e6",fontSize:"14px",width:"100%",fontFamily:l.fonts||void 0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",boxShadow:"0 2px 6px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",outline:"none"}}),de&&n.jsx("div",{style:{position:"absolute",top:"110%",left:0,right:0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",border:"1px solid #dee2e6",borderRadius:"8px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 16px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.08)"},children:V?n.jsx("div",{style:{padding:16,textAlign:"center",color:"#6c757d"},children:"Loading fonts..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:"inherit",color:"#6c757d",borderBottom:"1px solid #f8f9fa",transition:"background 0.2s ease"},onMouseEnter:c=>c.currentTarget.style.background="#f8f9fa",onMouseLeave:c=>c.currentTarget.style.background="transparent",onClick:()=>{O({...l,fonts:""}),pe(""),N(!1)},children:"Default"}),Pe.filter(c=>c.toLowerCase().includes(he.toLowerCase())).slice(0,20).map(c=>n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:c,background:c===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",transition:"background 0.2s ease",borderBottom:"1px solid #f8f9fa"},onMouseEnter:b=>b.currentTarget.style.background="#f8f9fa",onMouseLeave:b=>b.currentTarget.style.background=c===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",onClick:()=>{O({...l,fonts:c}),pe(c),N(!1)},children:c},c)),Pe.filter(c=>c.toLowerCase().includes(he.toLowerCase())).length===0&&!V&&n.jsx("div",{style:{padding:16,color:"#adb5bd"},children:"No fonts found"})]})})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Font Size"]}),n.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:["10px","12px","14px","16px"].map(c=>n.jsx("button",{onClick:()=>O(b=>({...b,fontSize:c})),style:{padding:"10px 16px",borderRadius:"8px",border:l.fontSize===c?"2px solid #0056b3":"1px solid #dee2e6",background:l.fontSize===c?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.fontSize===c?"#ffffff":"#495057",cursor:"pointer",fontSize:c,fontWeight:l.fontSize===c?"700":"600",transition:"all 0.2s ease",minWidth:"45px",textAlign:"center",boxShadow:l.fontSize===c?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.fontSize===c?"translateY(-1px)":"translateY(0)"},children:c.replace("px","")},c))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Colors"]}),n.jsxs("div",{style:{display:"flex",gap:"28px",alignItems:"flex-start"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Icon Color"}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(J).map(([c])=>n.jsx("button",{onClick:()=>O(b=>({...b,iconColor:c})),style:{width:"36px",height:"36px",borderRadius:"50%",background:c,border:l.iconColor===c?"3px solid #0056b3":"2px solid #dee2e6",cursor:"pointer",padding:0,outline:"none",boxShadow:l.iconColor===c?"0 0 0 3px rgba(0, 86, 179, 0.2), 0 4px 12px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.3)",transition:"all 0.2s ease",transform:l.iconColor===c?"scale(1.1)":"scale(1)"}},c))})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Text Color"}),n.jsx("input",{type:"color",value:l.textColor,onChange:c=>O(b=>({...b,textColor:c.target.value})),style:{width:"64px",height:"40px",border:"2px solid #dee2e6",borderRadius:"8px",cursor:"pointer",padding:"2px",background:"#ffffff",boxShadow:"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease"}})]})]})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Icon Size"]}),n.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:["30px","40px","50px"].map(c=>n.jsx("button",{onClick:()=>O(b=>({...b,iconSize:c})),style:{padding:"10px 16px",borderRadius:"8px",border:l.iconSize===c?"2px solid #0056b3":"1px solid #dee2e6",background:l.iconSize===c?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.iconSize===c?"#ffffff":"#495057",cursor:"pointer",fontSize:"14px",fontWeight:l.iconSize===c?"700":"600",transition:"all 0.2s ease",minWidth:"60px",textAlign:"center",boxShadow:l.iconSize===c?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.iconSize===c?"translateY(-1px)":"translateY(0)"},children:c.replace("px","")},c))})]})]})]}),n.jsx("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:n.jsxs("div",{style:{position:"relative",width:"320px",height:"320px",background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${bo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:9}).map((c,b)=>I(b))})]})})]}),R===4&&n.jsx(n.Fragment,{children:n.jsxs("div",{style:{marginTop:"60px",marginBottom:"40px",display:"flex",justifyContent:"center",alignItems:"flex-start",gap:"40px",flexWrap:"wrap"},children:[n.jsx("div",{style:{flex:"0 0 auto"},children:n.jsx(dg,{backbox:ne,setBackbox:c=>{Z(c),te&&Se("")},backboxError:te,extraComments:re,setExtraComments:X,panelDesign:l,placedIcons:u,ICON_COLOR_FILTERS:J,ralColors:qe})}),n.jsxs("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:[n.jsxs("div",{style:{position:"relative",width:"320px",height:"320px",background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${bo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:9}).map((c,b)=>I(b))})]}),n.jsx(y,{sx:{mt:6,display:"flex",justifyContent:"center"},children:n.jsx(rg,{variant:"contained",onClick:Ue,sx:{backgroundColor:"#1a1f2c",color:"#ffffff","&:hover":{backgroundColor:"#2c3e50"}},children:xe?"Update Panel":"Add Panel to Project"})})]})]})}),R===2&&n.jsx("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"center"},children:n.jsxs("div",{style:{position:"relative",width:ce.width,height:ce.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${bo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:9}).map((c,b)=>I(b))})]})})]})]})},pg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAABQCAYAAACQ2MIeAAAAAXNSR0IArs4c6QAACsNJREFUeF7tm0uMHEcZx6vf0zM7j/XsyzNrex+WD+YhYZxIQC7OAQmJSw5RkkNMEIoEAg5ISFEkOHBAQnBMAkIgAzZIgROCCwhFNiCEHEVYEXglG8fehz2zszO7MzuPnulXFfnXTq2aldfryD3d66RbWm1vP+r7vl99/dVXX9VKJDliISDFIjURShLwMTlBAj4BHxOBmMQmHp+Aj4lATGITj0/Ax0QgJrGJxyfgYyIQk9jE4xPwMRGISWzi8Qn4mAjEJDbx+AR8TARiEpt4fAI+JgIxiY3N4xljkK0QQqgkSTQm+2MTGzn4xcXFKd91v+pT9lzP6k1MFIttq9//k6qq319eXl6PjUTEgiMFXy6XX7Jt+xfFYpHYtk183yeMMWKaJrEsi7iDwYsbm5u/jphBLOIiA1+emfmSahi/VFWVA5ckiUPH3/1+n8PHb8dxnq/X67+NhUaEQiMBf+rUqYlOp1MfGxsDWA48m82+rSjKXy3L+rTruk+jM9LpNOn1eiSTyUzevHmzESGHyEVFAv7EiRM/opR+G96taRq8/MXr16//RpIkBosXFxefdhznLcDPZDKk0+m8vr6+/s3IaUQocOTgGWNyqVS6LcvyCUVRyPz8/NKVK1c+LqALW8+ePfvnRqPx+WH46RuGUVhaWnIiZBGpqCjAa1NTUxuFQqEgyzIpFAqXrl69en6vlceOHXsik8m8dmR8fPr2nTt/q1arX5EkyYuURoTCRg7+9OnTerPZrCmKUkCYKY4X33jnX+984342fpRy+0jAV6vVjXw+n3ddl+Tz+R8sLS29GqFzHUpRkYDf2NjYKBaLeeTulNJXVldXf3goaUSoVCTgG41GXZblnGEYxHecl+9Wqz+P0MZDKWrk4Blj2uTkZCObzeYwaeq12y/UGo03DyWNCJUKDfzJkyeNTqejQndFUZgsyyyVSlFmsSklRVaRJmJmaujaT11CXvU8z8YzQVvxvK7r7OLFi/z6+fPnJcuyZMdxZN/3H0pX0zT9dDq9W3Rrt9sKpVR62PeD+gg7Ll265J47dy7UDOuhjHmQIwB4r9m6wCTpGU3TUqZpMtd1fUIIs23bLxQK5vb2NsnlcsTzPF4qwOxU13XXtm0Yg+qkDBme5znU8zyfUl+SJElRVe394pmmaZouyzIqmfzAveDvoH6e57mO49iMMd6urusG2vigzoyeY/AWQjzLsnqqqnynsr7+xgdtZ7/nHxn8wtzc15yB/WPEb6SLmH0ie8FkCXwwoKIUMBgMuA54ZgiNdwRy+8N4iE+GUsp1hD23br/3yLx2nedRjZ4rly8oqvZlAAVwUfhCTQbgUSYYhh9+H0bouk5arRbvEBh2GA+hFZwDeiJMrt5dOzzgFxcXP0so+wc8HbABVRw4h+KAi3voHIDHtVQqtRt64gS/3/cmwMORoL/retXKeqUUlq6h9ODCsWNPeD57ebw4vkiopKm6mtE1LTWwbUYokfSUIeu6JkmypDi2Q/v9Pstl80qv1/GV4RcxjKdEHsZv/I1YjkPcCxqNxmRV0fA83YnF/F2c47c4F/cIZZQRyp9jlHGukizLKsHyF/NVRdU4DFkCaN913YFHqUup73R71rvvN/i9GzduVA4V+L3KDKf+sAOGBjtXXNtP/+Dze98Nw+b/y6KGDd5PT94/w7Hofu88si6hePwja/ERbCBU8EgtZcvKeqmUq2ka3draYoZh+LlcDullKIfjOLs6I+ff2yjmAMj/g9eD8wJcx9zA8zxJVVWGH7QTbBfPDAYDOZVKIQWzb926ZYeifKCR0MCjCrl6+86Vyenpz6B9DKzdbhdx2nZd16Z0J76Kg8fu3Wt71NhHK7wj8nnk6TweDOO7yO3F2CDkBMcH8T6P5/Jw7PB9HzFdkjEq7Mwn+MCiKKqiKGrl3r23+479ubBL1OGBn5wca8pKBytIyGCQtYiUMmxvCbO9g7IaLMITWRqr1Wq9MOWGBr5UKqV1VWsahqEj50UKhknV0CHD1DnUtg4CDxu2Ws3DC352dtZUibRJKTXF7BQ5O/L7x/EITKAoPP7u3bv9MO0IzeMBXpPkTVmWTaTigC5mqmEqHFVbAryiKI5H/fzy8vJOzSOkI1TwxPM3DcMwRQ0G9Y3DWhI4iJ8Ab9s2VTT18Ho8Usl+p4sYb2JgRZwH+Mf1EOAd227nxguTYe94CM3jkU7Waxub2Wx2DF5Oh/UYnOMLEHUakeloisqvi51kKEThQDVT7DLDOwd9MftV6cWgOaxAcCcQ9STI1FWNZ10451+oulNNxTl+DNMU2dm1m7f+eyZsBwoNPMoEY2bm30dLRz+G2K7K8m5mI0rCwW17qqxwA0URCvfwHvJ/bOdDBzxMRnQQeDG4i0qpKNIxn/LOQMdCDsDjHB2B67br8o7wfe+V5RGsEYcGHh4xPTn53NhY9k0oLDHGDRKLH8HKpAAq9lDiHowF+B1jfQ4eqdxB9fr9isp7PR5t4xBrBpCBkBhMAKDXbhVVVfkagqKppZWVleqh9fjhLFLWZPWf0zPTT6aHZd9gnIexYmEBniUgC69DG3hevCMyowcZfRB4yBRrApDDnWK4YVY4ADoAEyUhm4dDhCbq/2p1be2lsKHz2XHYjc7Ozh4ZWP13c7ncLNqG5wnAAqz43IXHizAgPE587nyN1jAeqOJByyjKMISJFTFAFYsxfCwahhd4N8Ic2sP9VrN5QzdTZyqVihU2o5GAR6OlUmliq17/XXFi8hxiPQwSYScYOnAOyPjcxUwX52KhBG2JELGf8QeBh3y0gRAjFmZEm9AJ1yGvUCiQarVKzEyG9Drtn0ma9q2wywRBG0L3+GDjMxMT5+qNze+WyuUzhqblg9kNznFYgwFfCB9udvIUWaGe78kSIQo6RgquyYJUYKHkfp3BGPN93/f4wjllvue5LJfNpgljJrwd2ZNYpsT7Pl9DYd7a6tp7esr4y3gm89q9RuPmKLw8MvBC0OXLl9Xnn332CzPTM39oNpu7C+Hc43WdWN3OUx4h17AFA+Xkh9mOga0XwS0b+JuHNlnmpV6xxUOUievV+pMTE+N/73a7uwU8hB8HHURYuVKpRLoff6QeH+zh48ePjzOfbiHm81g6TOMczyOu74VehNrrsSePnMz5WW+b+T4fN3bWUV2y2WyttLvt+b3bxj8UHg8jAD6lG1tkCFwMnBpSxqaSXaovdUdp7MLCQl4mUgsxv9Pp8H+AwFGr11da7e2FqP/zMDKPn5ubKzCfNkUWIeJsr28hbI/c4wG+37Na8Hb8IOTgd2Nrc3l7m4Mfydrqfs4UGXgY7rteC7NSDKwYTHGk0iZpt9sjB18ul4vplNkQGY3IphqbjZVur/fh9XiUjSVGuth9gRgv0spe38K6bDrssuteT8P8QpHkTQyoSI6gAzqhUq38Z2DbnxhlmLtf25F5PISnTfOPpaOlL8JgMaPs24Pf12q1Z0ZtODo8pRvX5ufnPzlMXblI17FfqNRqke9ejhQ8ws3qnZUL5XL5qWar6Smq8taUqn79RqPRGTV4tD8/NTW9Vt98PTOW+dRgMNjOpMd+srW9Fcte/UjBRwH3cZGRgI+ppxLwCfiYCMQkNvH4BHxMBGISm3h8Aj4mAjGJTTw+AR8TgZjEJh6fgI+JQExiE49PwMdEICaxiccn4GMiEJPYxONjAv8/ED5xnATFkc4AAAAASUVORK5CYII=",fg=Object.freeze(Object.defineProperty({__proto__:null,default:pg},Symbol.toStringTag,{value:"Module"})),xg="/assets/A-10-BI0ZEkUj.png",gg=Object.freeze(Object.defineProperty({__proto__:null,default:xg},Symbol.toStringTag,{value:"Module"})),ug="/assets/A-11-D_KtKQUG.png",hg=Object.freeze(Object.defineProperty({__proto__:null,default:ug},Symbol.toStringTag,{value:"Module"})),bg="/assets/A-16-DbYvcuHW.png",mg=Object.freeze(Object.defineProperty({__proto__:null,default:bg},Symbol.toStringTag,{value:"Module"})),yg="/assets/A-17-B-Fp-ONN.png",vg=Object.freeze(Object.defineProperty({__proto__:null,default:yg},Symbol.toStringTag,{value:"Module"})),Sg="/assets/A-18-Dkp1zggs.png",jg=Object.freeze(Object.defineProperty({__proto__:null,default:Sg},Symbol.toStringTag,{value:"Module"})),Cg="/assets/A-19-CDRrnDQ2.png",wg=Object.freeze(Object.defineProperty({__proto__:null,default:Cg},Symbol.toStringTag,{value:"Module"})),kg="/assets/A-2-DA6mddoN.png",Pg=Object.freeze(Object.defineProperty({__proto__:null,default:kg},Symbol.toStringTag,{value:"Module"})),Tg="/assets/A-20-0ByIuaw4.png",Rg=Object.freeze(Object.defineProperty({__proto__:null,default:Tg},Symbol.toStringTag,{value:"Module"})),Ig="/assets/A-21-f97HcQl-.png",zg=Object.freeze(Object.defineProperty({__proto__:null,default:Ig},Symbol.toStringTag,{value:"Module"})),Fg="/assets/A-27-BUp4qIal.png",_g=Object.freeze(Object.defineProperty({__proto__:null,default:Fg},Symbol.toStringTag,{value:"Module"})),Ag="/assets/A-3-qqEp5Ljq.png",Bg=Object.freeze(Object.defineProperty({__proto__:null,default:Ag},Symbol.toStringTag,{value:"Module"})),Dg="/assets/A-4-DJ0bEeG6.png",Mg=Object.freeze(Object.defineProperty({__proto__:null,default:Dg},Symbol.toStringTag,{value:"Module"})),Eg="/assets/A-5-DhiGgYYw.png",Wg=Object.freeze(Object.defineProperty({__proto__:null,default:Eg},Symbol.toStringTag,{value:"Module"})),Og="/assets/A-6-BogDIw3K.png",Lg=Object.freeze(Object.defineProperty({__proto__:null,default:Og},Symbol.toStringTag,{value:"Module"})),Gg="/assets/A-7-CK28X9Is.png",Vg=Object.freeze(Object.defineProperty({__proto__:null,default:Gg},Symbol.toStringTag,{value:"Module"})),$g="/assets/A-8-hULfZXON.png",Ng=Object.freeze(Object.defineProperty({__proto__:null,default:$g},Symbol.toStringTag,{value:"Module"})),Hg="/assets/A-9-BC9au77B.png",Yg=Object.freeze(Object.defineProperty({__proto__:null,default:Hg},Symbol.toStringTag,{value:"Module"})),Ug="/assets/B-1-BzAjU3AB.png",Xg=Object.freeze(Object.defineProperty({__proto__:null,default:Ug},Symbol.toStringTag,{value:"Module"})),Kg="/assets/B-10-_1Wiimm4.png",qg=Object.freeze(Object.defineProperty({__proto__:null,default:Kg},Symbol.toStringTag,{value:"Module"})),Zg="/assets/B-11-CVhwMS3Q.png",Jg=Object.freeze(Object.defineProperty({__proto__:null,default:Zg},Symbol.toStringTag,{value:"Module"})),Qg="/assets/B-12-CN43KNMV.png",eu=Object.freeze(Object.defineProperty({__proto__:null,default:Qg},Symbol.toStringTag,{value:"Module"})),tu="/assets/B-13-DVXYRiXG.png",nu=Object.freeze(Object.defineProperty({__proto__:null,default:tu},Symbol.toStringTag,{value:"Module"})),ou="/assets/B-14-Bd4-jq9G.png",iu=Object.freeze(Object.defineProperty({__proto__:null,default:ou},Symbol.toStringTag,{value:"Module"})),ru="/assets/B-15-3lRwTApR.png",su=Object.freeze(Object.defineProperty({__proto__:null,default:ru},Symbol.toStringTag,{value:"Module"})),au="/assets/B-16-M_Mj_E2W.png",lu=Object.freeze(Object.defineProperty({__proto__:null,default:au},Symbol.toStringTag,{value:"Module"})),du="/assets/B-17-qkl3NO8n.png",cu=Object.freeze(Object.defineProperty({__proto__:null,default:du},Symbol.toStringTag,{value:"Module"})),pu="/assets/B-18-BLphgWUG.png",fu=Object.freeze(Object.defineProperty({__proto__:null,default:pu},Symbol.toStringTag,{value:"Module"})),xu="/assets/B-19-BUr1RWew.png",gu=Object.freeze(Object.defineProperty({__proto__:null,default:xu},Symbol.toStringTag,{value:"Module"})),uu="/assets/B-2-DvRs4orS.png",hu=Object.freeze(Object.defineProperty({__proto__:null,default:uu},Symbol.toStringTag,{value:"Module"})),bu="/assets/B-20-BpSxbEVk.png",mu=Object.freeze(Object.defineProperty({__proto__:null,default:bu},Symbol.toStringTag,{value:"Module"})),yu="/assets/B-29-By9e73mv.png",vu=Object.freeze(Object.defineProperty({__proto__:null,default:yu},Symbol.toStringTag,{value:"Module"})),Su="/assets/B-3-CxRVzLxc.png",ju=Object.freeze(Object.defineProperty({__proto__:null,default:Su},Symbol.toStringTag,{value:"Module"})),Cu="/assets/B-30-C3NPnPQv.png",wu=Object.freeze(Object.defineProperty({__proto__:null,default:Cu},Symbol.toStringTag,{value:"Module"})),ku="/assets/B-31-CdaloX8b.png",Pu=Object.freeze(Object.defineProperty({__proto__:null,default:ku},Symbol.toStringTag,{value:"Module"})),Tu="/assets/B-32-C0n8eKpF.png",Ru=Object.freeze(Object.defineProperty({__proto__:null,default:Tu},Symbol.toStringTag,{value:"Module"})),Iu="/assets/B-33-VL5svg9S.png",zu=Object.freeze(Object.defineProperty({__proto__:null,default:Iu},Symbol.toStringTag,{value:"Module"})),Fu="/assets/B-34-DqiKuSLw.png",_u=Object.freeze(Object.defineProperty({__proto__:null,default:Fu},Symbol.toStringTag,{value:"Module"})),Au="/assets/B-4-D82137tN.png",Bu=Object.freeze(Object.defineProperty({__proto__:null,default:Au},Symbol.toStringTag,{value:"Module"})),Du="/assets/B-5-DALiKmwG.png",Mu=Object.freeze(Object.defineProperty({__proto__:null,default:Du},Symbol.toStringTag,{value:"Module"})),Eu="/assets/B-6-0kcZcYad.png",Wu=Object.freeze(Object.defineProperty({__proto__:null,default:Eu},Symbol.toStringTag,{value:"Module"})),Ou="/assets/B-7-CT5w9qQZ.png",Lu=Object.freeze(Object.defineProperty({__proto__:null,default:Ou},Symbol.toStringTag,{value:"Module"})),Gu="/assets/B-8-D5UyxlQC.png",Vu=Object.freeze(Object.defineProperty({__proto__:null,default:Gu},Symbol.toStringTag,{value:"Module"})),$u="/assets/B-9-CS_yT6kH.png",Nu=Object.freeze(Object.defineProperty({__proto__:null,default:$u},Symbol.toStringTag,{value:"Module"})),Hu="/assets/C-1-B6zYEUy5.png",Yu=Object.freeze(Object.defineProperty({__proto__:null,default:Hu},Symbol.toStringTag,{value:"Module"})),Uu="/assets/C-10-C8BV_pdd.png",Xu=Object.freeze(Object.defineProperty({__proto__:null,default:Uu},Symbol.toStringTag,{value:"Module"})),Ku="/assets/C-11-DeZQu5P6.png",qu=Object.freeze(Object.defineProperty({__proto__:null,default:Ku},Symbol.toStringTag,{value:"Module"})),Zu="/assets/C-12-YS4xgJlW.png",Ju=Object.freeze(Object.defineProperty({__proto__:null,default:Zu},Symbol.toStringTag,{value:"Module"})),Qu="/assets/C-13-ElegOXwW.png",eh=Object.freeze(Object.defineProperty({__proto__:null,default:Qu},Symbol.toStringTag,{value:"Module"})),th="/assets/C-14-BiD5mnVn.png",nh=Object.freeze(Object.defineProperty({__proto__:null,default:th},Symbol.toStringTag,{value:"Module"})),oh="/assets/C-17-BtK0cynz.png",ih=Object.freeze(Object.defineProperty({__proto__:null,default:oh},Symbol.toStringTag,{value:"Module"})),rh="/assets/C-18-C9LWl-6z.png",sh=Object.freeze(Object.defineProperty({__proto__:null,default:rh},Symbol.toStringTag,{value:"Module"})),ah="/assets/C-19-C95Njg2q.png",lh=Object.freeze(Object.defineProperty({__proto__:null,default:ah},Symbol.toStringTag,{value:"Module"})),dh="/assets/C-2-BN3MIStV.png",ch=Object.freeze(Object.defineProperty({__proto__:null,default:dh},Symbol.toStringTag,{value:"Module"})),ph="/assets/C-20-BymjU7Me.png",fh=Object.freeze(Object.defineProperty({__proto__:null,default:ph},Symbol.toStringTag,{value:"Module"})),xh="/assets/C-21-DlB1EDps.png",gh=Object.freeze(Object.defineProperty({__proto__:null,default:xh},Symbol.toStringTag,{value:"Module"})),uh="/assets/C-22-CCwvxRZM.png",hh=Object.freeze(Object.defineProperty({__proto__:null,default:uh},Symbol.toStringTag,{value:"Module"})),bh="/assets/C-23-Ci5zzt9o.png",mh=Object.freeze(Object.defineProperty({__proto__:null,default:bh},Symbol.toStringTag,{value:"Module"})),yh="/assets/C-3-C4odBKtJ.png",vh=Object.freeze(Object.defineProperty({__proto__:null,default:yh},Symbol.toStringTag,{value:"Module"})),Sh="/assets/C-4-B-eCNxPZ.png",jh=Object.freeze(Object.defineProperty({__proto__:null,default:Sh},Symbol.toStringTag,{value:"Module"})),Ch="/assets/C-5-DL4v662p.png",wh=Object.freeze(Object.defineProperty({__proto__:null,default:Ch},Symbol.toStringTag,{value:"Module"})),kh="/assets/C-6-BBYSxmj7.png",Ph=Object.freeze(Object.defineProperty({__proto__:null,default:kh},Symbol.toStringTag,{value:"Module"})),Th="/assets/C-8-ycWNM4EL.png",Rh=Object.freeze(Object.defineProperty({__proto__:null,default:Th},Symbol.toStringTag,{value:"Module"})),Ih="/assets/C-9-5MOXHLbX.png",zh=Object.freeze(Object.defineProperty({__proto__:null,default:Ih},Symbol.toStringTag,{value:"Module"})),Ai="/assets/G1-B6pyz3Eu.png",Fh=Object.freeze(Object.defineProperty({__proto__:null,default:Ai},Symbol.toStringTag,{value:"Module"})),it="/assets/G18-CBScQy3z.png",_h=Object.freeze(Object.defineProperty({__proto__:null,default:it},Symbol.toStringTag,{value:"Module"})),Bi="/assets/G2-Cd_5aa6g.png",Ah=Object.freeze(Object.defineProperty({__proto__:null,default:Bi},Symbol.toStringTag,{value:"Module"})),Di="/assets/G3-B_JJKxIZ.png",Bh=Object.freeze(Object.defineProperty({__proto__:null,default:Di},Symbol.toStringTag,{value:"Module"})),Dh="/assets/D1-CCrL95zt.png",Mh=Object.freeze(Object.defineProperty({__proto__:null,default:Dh},Symbol.toStringTag,{value:"Module"})),Eh="/assets/D2-jwkxySJg.png",Wh=Object.freeze(Object.defineProperty({__proto__:null,default:Eh},Symbol.toStringTag,{value:"Module"})),Oh="/assets/D3-D4d8mZRR.png",Lh=Object.freeze(Object.defineProperty({__proto__:null,default:Oh},Symbol.toStringTag,{value:"Module"})),Gh="/assets/D4-CO7dULF4.png",Vh=Object.freeze(Object.defineProperty({__proto__:null,default:Gh},Symbol.toStringTag,{value:"Module"})),$h="/assets/D5-vF4LcB1N.png",Nh=Object.freeze(Object.defineProperty({__proto__:null,default:$h},Symbol.toStringTag,{value:"Module"})),Hh="/assets/20209-BFk2X_Wy.png",Yh=Object.freeze(Object.defineProperty({__proto__:null,default:Hh},Symbol.toStringTag,{value:"Module"})),Uh="/assets/20219-BJIypXaA.png",Xh=Object.freeze(Object.defineProperty({__proto__:null,default:Uh},Symbol.toStringTag,{value:"Module"})),Kh="/assets/20221.L-JylRLUd-.png",qh=Object.freeze(Object.defineProperty({__proto__:null,default:Kh},Symbol.toStringTag,{value:"Module"})),Zh="/assets/20257-CiKzVTkq.png",Jh=Object.freeze(Object.defineProperty({__proto__:null,default:Zh},Symbol.toStringTag,{value:"Module"})),Qh="/assets/20295-KGzmDA5h.png",eb=Object.freeze(Object.defineProperty({__proto__:null,default:Qh},Symbol.toStringTag,{value:"Module"})),tb="/assets/20320-Dx1aLEet.png",nb=Object.freeze(Object.defineProperty({__proto__:null,default:tb},Symbol.toStringTag,{value:"Module"})),ob="/assets/C-CSCkxuxv.png",ib=Object.freeze(Object.defineProperty({__proto__:null,default:ob},Symbol.toStringTag,{value:"Module"})),rb="/assets/CF-Fi7xCdTZ.png",sb=Object.freeze(Object.defineProperty({__proto__:null,default:rb},Symbol.toStringTag,{value:"Module"})),Cn="/assets/CR-D3j5Ah28.png",ab=Object.freeze(Object.defineProperty({__proto__:null,default:Cn},Symbol.toStringTag,{value:"Module"})),lb="/assets/DISPLAY-t82E27g-.png",db=Object.freeze(Object.defineProperty({__proto__:null,default:lb},Symbol.toStringTag,{value:"Module"})),cb="/assets/F-D8lZ5YJe.png",pb=Object.freeze(Object.defineProperty({__proto__:null,default:cb},Symbol.toStringTag,{value:"Module"})),fb="/assets/FAN-CS6u_8Ch.png",xb=Object.freeze(Object.defineProperty({__proto__:null,default:fb},Symbol.toStringTag,{value:"Module"})),gb="/assets/LED-DYga7aNg.png",ub=Object.freeze(Object.defineProperty({__proto__:null,default:gb},Symbol.toStringTag,{value:"Module"})),hb=Object.assign({"./icons/A-Bathroom/A-1.png":fg,"./icons/A-Bathroom/A-10.png":gg,"./icons/A-Bathroom/A-11.png":hg,"./icons/A-Bathroom/A-16.png":mg,"./icons/A-Bathroom/A-17.png":vg,"./icons/A-Bathroom/A-18.png":jg,"./icons/A-Bathroom/A-19.png":wg,"./icons/A-Bathroom/A-2.png":Pg,"./icons/A-Bathroom/A-20.png":Rg,"./icons/A-Bathroom/A-21.png":zg,"./icons/A-Bathroom/A-27.png":_g,"./icons/A-Bathroom/A-3.png":Bg,"./icons/A-Bathroom/A-4.png":Mg,"./icons/A-Bathroom/A-5.png":Wg,"./icons/A-Bathroom/A-6.png":Lg,"./icons/A-Bathroom/A-7.png":Vg,"./icons/A-Bathroom/A-8.png":Ng,"./icons/A-Bathroom/A-9.png":Yg}),bb=Object.assign({"./icons/B-Roomlights/B-1.png":Xg,"./icons/B-Roomlights/B-10.png":qg,"./icons/B-Roomlights/B-11.png":Jg,"./icons/B-Roomlights/B-12.png":eu,"./icons/B-Roomlights/B-13.png":nu,"./icons/B-Roomlights/B-14.png":iu,"./icons/B-Roomlights/B-15.png":su,"./icons/B-Roomlights/B-16.png":lu,"./icons/B-Roomlights/B-17.png":cu,"./icons/B-Roomlights/B-18.png":fu,"./icons/B-Roomlights/B-19.png":gu,"./icons/B-Roomlights/B-2.png":hu,"./icons/B-Roomlights/B-20.png":mu,"./icons/B-Roomlights/B-29.png":vu,"./icons/B-Roomlights/B-3.png":ju,"./icons/B-Roomlights/B-30.png":wu,"./icons/B-Roomlights/B-31.png":Pu,"./icons/B-Roomlights/B-32.png":Ru,"./icons/B-Roomlights/B-33.png":zu,"./icons/B-Roomlights/B-34.png":_u,"./icons/B-Roomlights/B-4.png":Bu,"./icons/B-Roomlights/B-5.png":Mu,"./icons/B-Roomlights/B-6.png":Wu,"./icons/B-Roomlights/B-7.png":Lu,"./icons/B-Roomlights/B-8.png":Vu,"./icons/B-Roomlights/B-9.png":Nu}),mb=Object.assign({"./icons/C-Curtains&Blinds/C-1.png":Yu,"./icons/C-Curtains&Blinds/C-10.png":Xu,"./icons/C-Curtains&Blinds/C-11.png":qu,"./icons/C-Curtains&Blinds/C-12.png":Ju,"./icons/C-Curtains&Blinds/C-13.png":eh,"./icons/C-Curtains&Blinds/C-14.png":nh,"./icons/C-Curtains&Blinds/C-17.png":ih,"./icons/C-Curtains&Blinds/C-18.png":sh,"./icons/C-Curtains&Blinds/C-19.png":lh,"./icons/C-Curtains&Blinds/C-2.png":ch,"./icons/C-Curtains&Blinds/C-20.png":fh,"./icons/C-Curtains&Blinds/C-21.png":gh,"./icons/C-Curtains&Blinds/C-22.png":hh,"./icons/C-Curtains&Blinds/C-23.png":mh,"./icons/C-Curtains&Blinds/C-3.png":vh,"./icons/C-Curtains&Blinds/C-4.png":jh,"./icons/C-Curtains&Blinds/C-5.png":wh,"./icons/C-Curtains&Blinds/C-6.png":Ph,"./icons/C-Curtains&Blinds/C-8.png":Rh,"./icons/C-Curtains&Blinds/C-9.png":zh}),yb=Object.assign({"./icons/G-GuestServices/G1.png":Fh,"./icons/G-GuestServices/G18.png":_h,"./icons/G-GuestServices/G2.png":Ah,"./icons/G-GuestServices/G3.png":Bh}),vb=Object.assign({"./icons/D-GeneralIconsForLighting/D1.png":Mh,"./icons/D-GeneralIconsForLighting/D2.png":Wh,"./icons/D-GeneralIconsForLighting/D3.png":Lh,"./icons/D-GeneralIconsForLighting/D4.png":Vh,"./icons/D-GeneralIconsForLighting/D5.png":Nh}),Sb=Object.assign({"./sockets/20209.png":Yh,"./sockets/20219.png":Xh,"./sockets/20221.L.png":qh,"./sockets/20257.png":Jh,"./sockets/20295.png":eb,"./sockets/20320.png":nb}),jb=Object.assign({"./icons/C.png":ib,"./icons/CF.png":sb,"./icons/CR.png":ab,"./icons/DISPLAY.png":db,"./icons/F.png":pb,"./icons/FAN.png":xb,"./icons/LED.png":ub}),Et=(e,t)=>Object.entries(e).reduce((o,[i,r])=>{var x;const s=((x=i.split("/").pop())==null?void 0:x.replace(".png",""))||"",a=s;let d=s.replace(/-/g," ").toUpperCase();return d=d.replace(/([A-Z])\s+(\d+)/g,"$1$2"),o[a]={id:a,src:r.default,category:t,label:d},o},{}),Cb=e=>{const t={...e};return["DISPLAY","CR","FAN"].forEach(o=>{t[o]&&t[o].category==="TAG"&&delete t[o]}),t},wb=["Bathroom","Room Lights","Curtains & Blinds","Guest Services","General Icons for Lighting","TAG","Sockets","PIR"],$t={...Et(hb,"Bathroom"),...Et(bb,"Room Lights"),...Et(mb,"Curtains & Blinds"),...Et(yb,"Guest Services"),...Et(vb,"General Icons for Lighting"),...Et(Sb,"Sockets"),...Et(jb,"TAG"),PIR:{id:"PIR",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4Ij48Y2lyY2xlIGN4PSIyNCIgY3k9IjI0IiByPSIyMCIgZmlsbD0id2hpdGUiIHN0cm9rZT0iIzY2NiIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+",category:"PIR",label:"PIR"}},kb=Cb($t),kt=Object.freeze(Object.defineProperty({__proto__:null,allIcons:$t,default:kb,iconCategories:wb},Symbol.toStringTag,{value:"Module"}));Y(y)(({theme:e})=>({width:"100%",maxWidth:800,margin:"0 auto",padding:e.spacing(3),marginBottom:e.spacing(6)}));Y(z)(({theme:e})=>({color:"#1a1f2c",fontWeight:400,marginBottom:e.spacing(2),letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'}));Y(y)(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(2),position:"relative","&::before":{content:'""',position:"absolute",top:"50%",left:0,right:0,height:"2px",backgroundColor:"rgba(26, 31, 44, 0.1)",zIndex:0}}));Y(y)(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:1}));Y(y)(({theme:e,completed:t,current:o})=>({width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(1),backgroundColor:t?"#1a1f2c":o?"#ffffff":"rgba(26, 31, 44, 0.1)",color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",border:o?"2px solid #1a1f2c":"none",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontWeight:400}));Y(z)(({theme:e,completed:t,current:o})=>({color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",fontSize:"14px",fontWeight:o?500:400,textAlign:"center",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"}));const Pb=Y(ke)(({theme:e})=>({textTransform:"none",fontWeight:400,letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',padding:"8px 24px",borderRadius:"4px",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)"}})),Tb=({index:e,onDrop:t,children:o})=>{const i=d=>{d.preventDefault()},r=d=>{d.preventDefault();const x=d.dataTransfer.getData("text/plain");t(e,x)},a=(d=>[{top:"15px",left:"15px"},{top:"0px",left:"115px"},{top:"15px",left:"215px"},{top:"115px",left:"15px"},{top:"115px",left:"115px"},{top:"115px",left:"215px"},{top:"215px",left:"15px"},{top:"215px",left:"115px"},{top:"215px",left:"215px"},{top:"220px",left:"15px"},{top:"220px",left:"115px"},{top:"220px",left:"215px"}][d]||{top:"0px",left:"0px"})(e);return n.jsx("div",{onDragOver:i,onDrop:r,style:{position:"absolute",...a,width:"80px",height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"transparent",cursor:"copy",zIndex:2},children:o})},Rb="AIzaSyDQngnSe6or2muwiDaov5HV02fk-4OiZaM",Ib=["Roboto","Open Sans","Lato","Montserrat","Poppins","Oswald","Raleway","Merriweather","Nunito","Quicksand","Source Sans Pro","Inter"];function zb(e){const t=e.replace(/ /g,"+"),o=`google-font-${t}`;if(!document.getElementById(o)){const i=document.createElement("link");i.id=o,i.rel="stylesheet",i.href=`https://fonts.googleapis.com/css?family=${t}`,document.head.appendChild(i)}}const mo=(e,t)=>{if(!e)return`rgba(255, 255, 255, ${t})`;e=e.replace("#","");const o=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return`rgba(${o}, ${i}, ${r}, ${t})`},Fb=({backbox:e,setBackbox:t,backboxError:o,extraComments:i,setExtraComments:r,panelDesign:s,placedIcons:a,ICON_COLOR_FILTERS:d,ralColors:x})=>{const u=x.find(p=>p.hex===s.backgroundColor);return Object.keys(d).find(p=>p===s.iconColor),n.jsxs(y,{sx:{width:400,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.12), 0 4px 16px rgba(0,0,0,0.08)",border:"1px solid rgba(255,255,255,0.8)",overflow:"hidden",position:"relative"},children:[n.jsx(y,{sx:{background:"linear-gradient(135deg, #1a1f2c 0%, #2c3e50 100%)",color:"#ffffff",p:2.5,textAlign:"center",position:"relative","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)"}},children:n.jsx(z,{variant:"h6",sx:{fontWeight:600,letterSpacing:"0.5px",fontSize:"18px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Panel Configuration Summary"})}),n.jsx(y,{sx:{p:3},children:n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#4CAF50",flexShrink:0}}),"Selected Icons (",a.filter(p=>p.label&&p.label.trim()!=="").length,")"]}),a.filter(p=>p.label&&p.label.trim()!=="").length>0?n.jsx(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500,lineHeight:1.4},children:a.filter(p=>p.label&&p.label.trim()!=="").map((p,v,j)=>n.jsxs("span",{children:[p.label,v<j.length-1?", ":""]},p.id))}):n.jsx(z,{variant:"body2",sx:{color:"#6c757d",fontStyle:"italic",fontSize:"14px"},children:"No icons selected yet"})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#FF6B35",flexShrink:0}}),"Color Configuration"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.backgroundColor||"#ffffff",border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Panel: ",u?`RAL ${u.code}`:"Default"]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.iconColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Icons: ",At(s.iconColor)]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.textColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Text: ",s.textColor]})]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#9C27B0",flexShrink:0}}),"Typography Settings"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Font: ",s.fonts||"Default"]}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Size: ",s.fontSize||"12px"]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Backbox Details *"}),n.jsx("input",{type:"text",value:e,onChange:p=>{t(p.target.value)},placeholder:"Enter backbox details...",style:{width:"100%",padding:"8px",marginBottom:"8px",border:o?"1px solid red":"1px solid #ccc",borderRadius:"4px"}}),o&&n.jsx("div",{style:{color:"red",fontSize:"12px"},children:o})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Additional Comments (Optional)"}),n.jsx("textarea",{value:i,onChange:p=>r(p.target.value),placeholder:"Enter any additional comments...",style:{width:"100%",minHeight:"48px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]})]})})]})},_b=()=>{ft.useEffect(()=>{const D=document.createElement("style");return D.textContent=`
      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.2);
          opacity: 0.8;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
    `,document.head.appendChild(D),()=>{document.head.contains(D)&&document.head.removeChild(D)}},[]);const e=Ze(),t=lt(),[o,i]=h.useState({}),[r,s]=h.useState([]),[a,d]=h.useState(null),[x,u]=h.useState([]),[p,v]=h.useState({}),[j,_]=h.useState(""),[k,B]=h.useState(null),[E,w]=h.useState(null);Array.from(new Set(x.map(D=>D.iconId)));const[F,R]=h.useState(2),[M,l]=h.useState({backgroundColor:"",fonts:"",backlight:"",iconColor:"#000000",plasticColor:"",textColor:"#000000",fontSize:"12px"}),[O,ne]=h.useState(""),[Z,re]=h.useState(""),[X,te]=h.useState(""),[Se,Pe]=h.useState(Ib),[ie,he]=h.useState(""),[pe,de]=h.useState(!1),[N,V]=h.useState(!1),$=h.useRef(null),[L,J]=h.useState(0),U=Object.values(o).filter(D=>D.category==="TAG"),H={"#000000":"brightness(0) saturate(100%)","#FFFFFF":"brightness(0) saturate(100%) invert(1)","#808080":"brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(0%) hue-rotate(148deg) brightness(99%) contrast(91%)","#FF0000":"brightness(0) saturate(100%) invert(13%) sepia(93%) saturate(7464%) hue-rotate(0deg) brightness(113%) contrast(109%)","#0000FF":"brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(6495%) hue-rotate(247deg) brightness(98%) contrast(141%)","#008000":"brightness(0) saturate(100%) invert(23%) sepia(98%) saturate(3025%) hue-rotate(101deg) brightness(94%) contrast(104%)"},[fe,le]=h.useState({});console.log("RENDER",{backbox:O,extraComments:Z});const{projectName:Le,projectCode:Q}=h.useContext(tt);if(h.useEffect(()=>{wt(()=>Promise.resolve().then(()=>kt),void 0).then(D=>{i(D.default),s(D.iconCategories.filter(I=>I==="PIR"))})},[]),!t)throw new Error("CartContext must be used within a CartProvider");const{addToCart:We}=t;h.useEffect(()=>{r.length>0&&_(r[0])},[r]);const W=(D,I)=>{const K=D.target.value;v(G=>({...G,[I]:K}))},xe=D=>{u(I=>I.filter(K=>K.id!==D))},ge=()=>{if(F===4)return;const D=["CF","C","F"],I=x.find(ae=>ae.position===1),K=I==null?void 0:I.iconId,se=(D.indexOf(K||"CF")+1)%D.length,we=D[se],ce=o[we];ce&&u(ae=>[...ae.filter(Me=>Me.position!==1),{id:Date.now(),iconId:ce.id,src:ce.src,label:ce.label,position:1,category:ce.category}])},oe=()=>{if(!O.trim()){te("Please provide backbox details before adding the panel to your project.");return}const D={type:"TAG",icons:Array.from({length:12}).map((I,K)=>{const G=x.find(se=>se.position===K);return{iconId:(G==null?void 0:G.iconId)||null,src:(G==null?void 0:G.src)||"",label:(G==null?void 0:G.label)||"",position:K,text:p[K]||"",category:(G==null?void 0:G.category)||void 0}}).filter(I=>I.iconId||I.text),quantity:1,panelDesign:{...M,backbox:O,extraComments:Z}};We(D)},Ie=Object.entries(o).filter(([D,I])=>I.category===j&&I.category!=="TAG").map(([D,I])=>({id:D,src:I.src,label:I.label,category:I.category})),Te=(D,I)=>{"position"in I?D.dataTransfer.setData("text/plain",JSON.stringify({type:"placed",id:I.id,position:I.position})):D.dataTransfer.setData("text/plain",JSON.stringify({type:"new",id:I.id})),D.dataTransfer.effectAllowed="move"},Ve=(D,I)=>{try{const K=JSON.parse(I);if(K.type==="new"){const G=Ie.find(ce=>ce.id===K.id);if(!G||G.category==="PIR"&&(D!==10||x.some(ae=>ae.category==="PIR")))return;if((G.id==="G1"||G.id==="G2")&&[2,5,8,11].includes(D)){console.log("DROP: BLOCKED G1/G2 icon placement in right column (cells 2, 5, 8, 11)");return}if(G.id==="G3"&&[0,3,6,9].includes(D)){console.log("DROP: BLOCKED G3 icon placement in left column (cells 0, 3, 6, 9)");return}if(D===1){u(ae=>ae.filter(Me=>Me.position!==1));const ce={id:Date.now(),iconId:G.id,src:G.src,label:G.label,position:D,category:G.category};u(ae=>[...ae,ce]);return}if([3,4,5].includes(D)||x.some(ce=>ce.position===D))return;const we={id:Date.now(),iconId:G.id,src:G.src,label:G.label,position:D,category:G.category};u(ce=>[...ce,we])}else if(K.type==="placed"){const G=x.find(we=>we.id===K.id),se=x.find(we=>we.position===D);if(!G||G.category==="PIR"&&D!==10||(se==null?void 0:se.category)==="PIR"&&K.position!==10||D===1&&!["CF","C","F"].includes(G.iconId)||K.position===1&&!["CF","C","F"].includes((se==null?void 0:se.iconId)||"")||[3,4,5].includes(D)||[3,4,5].includes(K.position))return;if((G.iconId==="G1"||G.iconId==="G2")&&[2,5,8,11].includes(D)){console.log("DROP: BLOCKED G1/G2 icon placement in right column (cells 2, 5, 8, 11)");return}if(((se==null?void 0:se.iconId)==="G1"||(se==null?void 0:se.iconId)==="G2")&&[2,5,8,11].includes(K.position)){console.log("DROP: BLOCKED G1/G2 icon placement in right column (cells 2, 5, 8, 11)");return}if(G.iconId==="G3"&&[0,3,6,9].includes(D)){console.log("DROP: BLOCKED G3 icon placement in left column (cells 0, 3, 6, 9)");return}if((se==null?void 0:se.iconId)==="G3"&&[0,3,6,9].includes(K.position)){console.log("DROP: BLOCKED G3 icon placement in left column (cells 0, 3, 6, 9)");return}u(we=>we.map(ce=>ce.id===G.id?{...ce,position:D}:ce.position===D?{...ce,position:K.position}:ce)),v(we=>{const ce={...we},ae=we[K.position],Me=we[D];return ae!==void 0?ce[D]=ae:delete ce[D],Me!==void 0?ce[K.position]=Me:delete ce[K.position],ce})}}catch(K){console.error("Error handling drop:",K)}},je=D=>{w(D)},Ue=()=>{w(null)},Ae=D=>{var $e,c,b;const I=D,K=I>=6&&I<=8,G={src:(($e=$t.FAN)==null?void 0:$e.src)||""},se=x.find(g=>g.position===I),we=p[I],ce=(se==null?void 0:se.category)==="PIR",ae=E===I,Me=k===I,Ke=!!fe[I],Be=[7,8,9,10,11].filter(g=>g<6||g>8).includes(I),De=(se==null?void 0:se.iconId)==="DISPLAY";return n.jsx(Tb,{index:D,onDrop:F===4||K?()=>{}:Ve,children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",position:"relative",height:"100%",paddingTop:"10px"},onMouseEnter:F!==4&&!K?()=>le(g=>({...g,[I]:!0})):void 0,onMouseLeave:F!==4&&!K?()=>le(g=>({...g,[I]:!1})):void 0,children:[I===4&&n.jsx("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx("img",{src:((c=$t.DISPLAY)==null?void 0:c.src)||"",alt:"DISPLAY",style:{width:"240px",height:"80px",objectFit:"contain",position:"absolute",left:"-115px",top:"-70px",zIndex:2,filter:H[M.iconColor]||H["#000000"],transition:"filter 0.2s"}})}),K?n.jsx("div",{style:{position:"relative",display:"inline-block",top:"-75px"},children:n.jsx("img",{src:G.src,alt:"FAN",style:{width:I===6?"45px":I===7?"58px":"65px",height:I===6?"45px":I===7?"58px":"65px",objectFit:"contain",marginBottom:"5px",position:"relative",zIndex:1,filter:H[M.iconColor]||H["#000000"],transition:"filter 0.2s",top:I===6?"10px":I===7?"6px":void 0}})}):se&&n.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[I===1?n.jsxs("div",{onClick:F!==4?ge:void 0,style:{width:"40px",height:"40px",border:F!==4?"3px solid #1976d2":"none",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",cursor:F!==4?"pointer":"default",marginBottom:"5px",transition:"all 0.3s ease",backgroundColor:F!==4?"rgba(25, 118, 210, 0.15)":"transparent",boxShadow:F!==4?"0 2px 8px rgba(25, 118, 210, 0.2), 0 0 0 1px rgba(25, 118, 210, 0.1)":"none",position:"relative"},onMouseEnter:F!==4?g=>{g.currentTarget.style.borderColor="#1565c0",g.currentTarget.style.backgroundColor="rgba(25, 118, 210, 0.3)",g.currentTarget.style.transform="scale(1.05)",g.currentTarget.style.boxShadow="0 4px 12px rgba(25, 118, 210, 0.4), 0 0 0 2px rgba(25, 118, 210, 0.2)"}:void 0,onMouseLeave:F!==4?g=>{g.currentTarget.style.borderColor="#1976d2",g.currentTarget.style.backgroundColor="rgba(25, 118, 210, 0.15)",g.currentTarget.style.transform="scale(1)",g.currentTarget.style.boxShadow="0 2px 8px rgba(25, 118, 210, 0.2), 0 0 0 1px rgba(25, 118, 210, 0.1)"}:void 0,title:F!==4?"Click to switch temperature unit":void 0,children:[n.jsx("img",{src:se.src,alt:se.label,style:{width:"26px",height:"26px",objectFit:"contain",filter:H[M.iconColor]||H["#000000"],transition:"filter 0.2s"}}),F!==4&&n.jsx("div",{style:{position:"absolute",top:"-10px",right:"-10px",width:"18px",height:"18px",backgroundColor:"#1976d2",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",color:"white",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",zIndex:10,animation:"pulse 2s infinite"},children:""})]}):n.jsx("img",{src:se.src,alt:se.label,draggable:F!==4,onDragStart:F!==4?g=>Te(g,se):void 0,style:{width:ce?"40px":De?"180px":"40px",height:ce?"40px":De?"60px":"40px",objectFit:"contain",marginBottom:"5px",position:"relative",zIndex:1,marginTop:ce?"20px":"0",cursor:F!==4?"move":"default",filter:ce?void 0:H[M.iconColor],transition:"filter 0.2s"}}),F!==4&&!K&&I!==1&&n.jsx("button",{onClick:g=>{g.stopPropagation(),xe(se.id)},style:{position:"absolute",top:"-8px",right:"-8px",background:"rgba(220, 53, 69, 0.9)",color:"white",border:"2px solid rgba(255, 255, 255, 0.8)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",padding:0,lineHeight:1,zIndex:3,opacity:Ke?1:0,transform:Ke?"scale(1)":"scale(0.8)",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseEnter:g=>{g.currentTarget.style.background="rgba(220, 53, 69, 1)",g.currentTarget.style.transform="scale(1.1)",g.currentTarget.style.boxShadow="0 4px 12px rgba(220, 53, 69, 0.4)"},onMouseLeave:g=>{g.currentTarget.style.background="rgba(220, 53, 69, 0.9)",g.currentTarget.style.transform="scale(1)",g.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"},children:""})]}),I===1&&!se&&F!==4&&n.jsxs("div",{onClick:ge,style:{width:"40px",height:"40px",border:"3px solid #1976d2",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginBottom:"5px",transition:"all 0.3s ease",backgroundColor:"rgba(25, 118, 210, 0.1)",boxShadow:"0 2px 8px rgba(25, 118, 210, 0.2), 0 0 0 1px rgba(25, 118, 210, 0.1)",position:"relative"},onMouseEnter:g=>{g.currentTarget.style.borderColor="#1565c0",g.currentTarget.style.backgroundColor="rgba(25, 118, 210, 0.3)",g.currentTarget.style.transform="scale(1.05)",g.currentTarget.style.boxShadow="0 4px 12px rgba(25, 118, 210, 0.4), 0 0 0 2px rgba(25, 118, 210, 0.2)"},onMouseLeave:g=>{g.currentTarget.style.borderColor="#1976d2",g.currentTarget.style.backgroundColor="rgba(25, 118, 210, 0.1)",g.currentTarget.style.transform="scale(1)",g.currentTarget.style.boxShadow="0 2px 8px rgba(25, 118, 210, 0.2), 0 0 0 1px rgba(25, 118, 210, 0.1)"},title:"Click to switch temperature unit",children:[n.jsx("span",{style:{fontSize:"13px",color:"#1976d2",fontWeight:"bold",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:((b=x.find(g=>g.position===1))==null?void 0:b.label)||"CF"}),n.jsx("div",{style:{position:"absolute",top:"-10px",right:"-10px",width:"18px",height:"18px",backgroundColor:"#1976d2",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",color:"white",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",zIndex:10,animation:"pulse 2s infinite"},children:""})]}),n.jsx("div",{style:{position:"absolute",bottom:se?"5px":"25px",left:"50%",transform:"translateX(-50%)",width:"120px",zIndex:0},children:!ce&&n.jsx(n.Fragment,{children:F===4?we&&n.jsx("div",{style:{fontSize:M.fontSize||"12px",color:M.textColor||"#000000",wordBreak:"break-word",width:"120px",textAlign:"center",padding:"4px",borderRadius:"4px",fontFamily:M.fonts||void 0},children:we}):n.jsx(n.Fragment,{children:ae?n.jsx("input",{type:"text",value:we||"",onChange:g=>W(g,I),onBlur:Ue,autoFocus:!0,style:{width:"120px",padding:"4px",fontSize:M.fontSize||"12px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",outline:"none",background:"rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease",fontFamily:M.fonts||void 0,color:M.textColor||"#000000"}}):n.jsx("div",{onClick:()=>je(I),style:{fontSize:M.fontSize||"12px",color:we?M.textColor||"#000000":"#999999",wordBreak:"break-word",width:"120px",textAlign:"center",padding:"4px",cursor:Be?"pointer":"default",borderRadius:"4px",backgroundColor:Me&&Be?"rgba(255, 255, 255, 0.1)":"transparent",transition:"all 0.2s ease",fontFamily:M.fonts||void 0},children:we||(Be?"Add text":"")})})})})]})},D)},Fe=[{step:1,label:"Select Panel Type"},{step:2,label:"Select your icons"},{step:3,label:"Select Panel Design"},{step:4,label:"Review panel details"}],_e=F-1,He=()=>n.jsx(y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:4,mt:4},children:Fe.map((D,I)=>n.jsxs(ft.Fragment,{children:[n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[n.jsx(y,{sx:{width:32,height:32,borderRadius:"50%",background:I===_e?"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)":"#e0e0e0",color:I===_e?"#fff":"#888",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,boxShadow:I===_e?"0 2px 8px #1976d233":"none",border:I===_e?"2px solid #1976d2":"2px solid #e0e0e0",mb:1,transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"},children:D.step}),n.jsx(z,{sx:{color:I===_e?"#1976d2":"#888",fontWeight:I===_e?600:400,fontSize:14,textAlign:"center",maxWidth:110,letterSpacing:.2},children:D.label})]}),I<Fe.length-1&&n.jsx(y,{sx:{flex:1,height:2,background:"#e0e0e0",mx:1,minWidth:24,borderRadius:1}})]},D.step))});return h.useEffect(()=>{V(!0),fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${Rb}`).then(D=>D.json()).then(D=>{D.items&&(Pe(D.items.map(I=>I.family)),console.log("Total Google Fonts loaded:",D.items.length))}).catch(()=>{}).finally(()=>V(!1))},[]),h.useEffect(()=>{function D(I){$.current&&!$.current.contains(I.target)&&de(!1)}return pe&&document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[pe]),h.useEffect(()=>{M.fonts&&zb(M.fonts)},[M.fonts]),h.useEffect(()=>{if(!x.some(D=>D.position===1)&&U.length>0){const D=U.find(I=>I.id==="CF")||U[0];u(I=>[...I.filter(K=>K.position!==1),{id:Date.now(),iconId:D.id,src:D.src,label:D.label,position:1,category:D.category}])}},[o,x.length]),U.findIndex(D=>{var I;return D.id===((I=x.find(K=>K.position===1))==null?void 0:I.iconId)}),typeof window<"u"&&(window.placedIcons=x),n.jsxs(y,{sx:{minHeight:"100vh",background:"#f6f8fa",py:8},children:[(Le||Q)&&n.jsx(y,{sx:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:1e3},children:n.jsxs(z,{sx:{fontSize:14,color:"#1a1f2c",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[Le,Q&&` - ${Q}`]})}),n.jsxs(xt,{maxWidth:"lg",children:[n.jsx(y,{sx:{position:"absolute",top:20,right:30,zIndex:1},children:n.jsx(dt,{})}),n.jsxs(y,{sx:{position:"absolute",top:20,left:30,display:"flex",alignItems:"center",gap:2},children:[n.jsx("img",{src:at,alt:"Logo",style:{height:"40px",width:"auto",cursor:"pointer"},onClick:()=>e("/")}),n.jsx(z,{variant:"h6",component:"h1",sx:{color:"#1a1f2c",fontWeight:400,letterSpacing:"1px",textTransform:"capitalize",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Design your panels"})]}),n.jsx(He,{}),n.jsxs(y,{sx:{display:"flex",justifyContent:"center",gap:2,mb:4},children:[n.jsx(ke,{variant:"outlined",onClick:()=>{F===2?e("/panel-type"):R(D=>D-1)},disabled:F===1,children:"Back"}),n.jsx(ke,{variant:"contained",onClick:()=>R(D=>D+1),disabled:F===Fe.length,sx:{display:F===4?"none":"inline-flex"},children:"Next"})]}),F===2&&n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",justifyContent:"center"},children:r.map(D=>n.jsx("button",{onClick:()=>_(D),style:{padding:"12px 24px",background:j===D?"#1a1f2c":"#ffffff",color:j===D?"#ffffff":"#1a1f2c",border:"1px solid #1a1f2c",borderRadius:"4px",cursor:"pointer",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontSize:"14px",letterSpacing:"0.5px",transition:"all 0.3s ease",minWidth:"120px"},children:D},D))}),n.jsx("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",justifyContent:"center",maxWidth:"800px",margin:"0 auto"},children:Ie.map(D=>n.jsxs("div",{draggable:!0,onDragStart:I=>Te(I,D),style:{padding:"12px",background:(a==null?void 0:a.id)===D.id?"#1a1f2c":"#ffffff",borderRadius:"6px",cursor:"grab",display:"flex",flexDirection:"column",alignItems:"center",width:"60px",border:"1px solid #e0e0e0",transition:"all 0.3s ease"},children:[n.jsx("img",{src:D.src,alt:D.label,style:{width:"32px",height:"32px",objectFit:"contain",filter:D.category==="TAG"?H[M.iconColor]||H["#000000"]:void 0}}),n.jsx("span",{style:{fontSize:"14px",color:(a==null?void 0:a.id)===D.id?"#ffffff":"#1a1f2c",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"},children:D.label})]},D.id))})]}),F===3&&n.jsxs("div",{style:{display:"flex",gap:"80px",alignItems:"flex-start",justifyContent:"center",maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},children:[n.jsxs("div",{style:{flex:"0 0 480px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"28px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',position:"relative",overflow:"hidden"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, #0056b3 0%, #007bff 50%, #0056b3 100%)",borderRadius:"12px 12px 0 0"}}),n.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",fontWeight:"600",color:"#1a1f2c",textAlign:"center",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:"Panel Design"}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Background Color (RAL)"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"10px",maxHeight:"200px",overflowY:"auto",background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"8px",padding:"16px",border:"1px solid #dee2e6",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.04)"},children:qe.map(D=>n.jsxs("button",{type:"button",onClick:()=>l({...M,backgroundColor:D.hex}),style:{display:"flex",flexDirection:"column",alignItems:"center",border:M.backgroundColor===D.hex?"2px solid #0056b3":"1px solid #dee2e6",borderRadius:"8px",background:M.backgroundColor===D.hex?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",cursor:"pointer",padding:"8px 6px",outline:"none",boxShadow:M.backgroundColor===D.hex?"0 0 0 3px rgba(0, 86, 179, 0.15), 0 2px 8px rgba(0,0,0,0.1)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",transform:M.backgroundColor===D.hex?"translateY(-1px)":"translateY(0)"},children:[n.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"6px",background:D.hex,border:"2px solid #ffffff",marginBottom:"6px",display:"block",boxShadow:"0 2px 4px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.3)"}}),n.jsx("span",{style:{fontSize:"11px",fontWeight:"600",color:"#495057"},children:`RAL ${D.code}`})]},D.code))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Typography Font"]}),n.jsxs("div",{style:{position:"relative"},ref:$,children:[n.jsx("input",{type:"text",placeholder:"Search Google Fonts...",value:ie||M.fonts||"",onChange:D=>{const I=D.target.value;he(I),I===""&&l(K=>({...K,fonts:""})),de(!0)},onFocus:()=>de(!0),style:{padding:"12px 16px",borderRadius:"8px",border:"1px solid #dee2e6",fontSize:"14px",width:"100%",fontFamily:M.fonts||void 0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",boxShadow:"0 2px 6px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",outline:"none"}}),pe&&n.jsx("div",{style:{position:"absolute",top:"110%",left:0,right:0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",border:"1px solid #dee2e6",borderRadius:"8px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 16px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.08)"},children:N?n.jsx("div",{style:{padding:16,textAlign:"center",color:"#6c757d"},children:"Loading fonts..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:"inherit",color:"#6c757d",borderBottom:"1px solid #f8f9fa",transition:"background 0.2s ease"},onMouseEnter:D=>D.currentTarget.style.background="#f8f9fa",onMouseLeave:D=>D.currentTarget.style.background="transparent",onClick:()=>{l({...M,fonts:""}),he(""),de(!1)},children:"Default"}),Se.filter(D=>D.toLowerCase().includes(ie.toLowerCase())).slice(0,20).map(D=>n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:D,background:D===M.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",transition:"background 0.2s ease",borderBottom:"1px solid #f8f9fa"},onMouseEnter:I=>I.currentTarget.style.background="#f8f9fa",onMouseLeave:I=>I.currentTarget.style.background=D===M.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",onClick:()=>{l({...M,fonts:D}),he(D),de(!1)},children:D},D)),Se.filter(D=>D.toLowerCase().includes(ie.toLowerCase())).length===0&&!N&&n.jsx("div",{style:{padding:16,color:"#adb5bd"},children:"No fonts found"})]})})]})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Font Size"]}),n.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:["10px","12px","14px","16px"].map(D=>n.jsx("button",{onClick:()=>l(I=>({...I,fontSize:D})),style:{padding:"10px 16px",borderRadius:"8px",border:M.fontSize===D?"2px solid #0056b3":"1px solid #dee2e6",background:M.fontSize===D?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:M.fontSize===D?"#ffffff":"#495057",cursor:"pointer",fontSize:D,fontWeight:M.fontSize===D?"700":"600",transition:"all 0.2s ease",minWidth:"45px",textAlign:"center",boxShadow:M.fontSize===D?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:M.fontSize===D?"translateY(-1px)":"translateY(0)"},children:D.replace("px","")},D))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Colors"]}),n.jsxs("div",{style:{display:"flex",gap:"28px",alignItems:"flex-start"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Icon Color"}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(H).map(([D])=>n.jsx("button",{onClick:()=>l(I=>({...I,iconColor:D})),style:{width:"36px",height:"36px",borderRadius:"50%",background:D,border:M.iconColor===D?"3px solid #0056b3":"2px solid #dee2e6",cursor:"pointer",padding:0,outline:"none",boxShadow:M.iconColor===D?"0 0 0 3px rgba(0, 86, 179, 0.2), 0 4px 12px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.3)",transition:"all 0.2s ease",transform:M.iconColor===D?"scale(1.1)":"scale(1)"}},D))})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Text Color"}),n.jsx("input",{type:"color",value:M.textColor,onChange:D=>l(I=>({...I,textColor:D.target.value})),style:{width:"64px",height:"40px",border:"2px solid #dee2e6",borderRadius:"8px",cursor:"pointer",padding:"2px",background:"#ffffff",boxShadow:"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease"}})]})]})]})]}),n.jsx("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:n.jsxs("div",{style:{width:"350px",background:`linear-gradient(135deg, 
                    rgba(255, 255, 255, 0.3) 0%, 
                    rgba(255, 255, 255, 0.1) 50%, 
                    rgba(255, 255, 255, 0.05) 100%), 
                    ${mo(M.backgroundColor,.9)}`,padding:"15px",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:`
                    0 20px 40px rgba(0, 0, 0, 0.3),
                    0 8px 16px rgba(0, 0, 0, 0.2),
                    inset 0 1px 0 rgba(255, 255, 255, 0.4),
                    inset 0 -1px 0 rgba(0, 0, 0, 0.1),
                    0 0 0 1px rgba(255, 255, 255, 0.1)
                  `,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",position:"relative",transform:"perspective(1000px) rotateX(5deg)",transformStyle:"preserve-3d"},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:`linear-gradient(135deg, 
                      rgba(255, 255, 255, 0.1) 0%, 
                      transparent 50%, 
                      rgba(0, 0, 0, 0.05) 100%)`,pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",width:"320px",height:"320px",zIndex:2},children:Array.from({length:12}).map((D,I)=>Ae(I))})]})})]}),F===4&&n.jsx(n.Fragment,{children:n.jsxs("div",{style:{marginTop:"60px",marginBottom:"40px",display:"flex",justifyContent:"center",alignItems:"flex-start",gap:"40px",flexWrap:"wrap"},children:[n.jsx("div",{style:{flex:"0 0 auto"},children:n.jsx(Fb,{backbox:O,setBackbox:D=>{ne(D),X&&te("")},backboxError:X,extraComments:Z,setExtraComments:re,panelDesign:M,placedIcons:x,ICON_COLOR_FILTERS:H,ralColors:qe})}),n.jsxs("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:[n.jsxs("div",{style:{width:"320px",height:"320px",background:`linear-gradient(135deg, 
                      rgba(255, 255, 255, 0.3) 0%, 
                      rgba(255, 255, 255, 0.1) 50%, 
                      rgba(255, 255, 255, 0.05) 100%), 
                      ${mo(M.backgroundColor,.9)}`,border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:`
                      0 20px 40px rgba(0, 0, 0, 0.3),
                      0 8px 16px rgba(0, 0, 0, 0.2),
                      inset 0 1px 0 rgba(255, 255, 255, 0.4),
                      inset 0 -1px 0 rgba(0, 0, 0, 0.1),
                      0 0 0 1px rgba(255, 255, 255, 0.1)
                    `,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",position:"relative",transform:"perspective(1000px) rotateX(5deg)",transformStyle:"preserve-3d",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",margin:"0 auto"},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:`linear-gradient(135deg, 
                        rgba(255, 255, 255, 0.1) 0%, 
                        transparent 50%, 
                        rgba(0, 0, 0, 0.05) 100%)`,pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",width:"320px",height:"320px",zIndex:2,overflow:"hidden"},children:Array.from({length:12}).map((D,I)=>Ae(I))})]}),n.jsx(y,{sx:{mt:6,display:"flex",justifyContent:"center"},children:n.jsx(Pb,{variant:"contained",onClick:oe,sx:{backgroundColor:"#1a1f2c",color:"#ffffff","&:hover":{backgroundColor:"#2c3e50"}},children:"Add Panel to Project"})})]})]})}),F===2&&n.jsx("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"flex-start",gap:16,marginLeft:"50px"},children:n.jsxs("div",{style:{width:"350px",background:`linear-gradient(135deg, 
                  rgba(255, 255, 255, 0.3) 0%, 
                  rgba(255, 255, 255, 0.1) 50%, 
                  rgba(255, 255, 255, 0.05) 100%), 
                  ${mo(M.backgroundColor,.9)}`,padding:"15px",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:`
                  0 20px 40px rgba(0, 0, 0, 0.3),
                  0 8px 16px rgba(0, 0, 0, 0.2),
                  inset 0 1px 0 rgba(255, 255, 255, 0.4),
                  inset 0 -1px 0 rgba(0, 0, 0, 0.1),
                  0 0 0 1px rgba(255, 255, 255, 0.1)
                `,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",position:"relative",transform:"perspective(1000px) rotateX(5deg)",transformStyle:"preserve-3d"},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:`linear-gradient(135deg, 
                    rgba(255, 255, 255, 0.1) 0%, 
                    transparent 50%, 
                    rgba(0, 0, 0, 0.05) 100%)`,pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",width:"320px",height:"320px",zIndex:2},children:Array.from({length:12}).map((D,I)=>Ae(I))})]})})]})]})};var Mi={},Ab=Nt;Object.defineProperty(Mi,"__esModule",{value:!0});var Yo=Mi.default=void 0,Bb=Ab(Ut()),Db=n;Yo=Mi.default=(0,Bb.default)((0,Db.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");var Ei={},Mb=Nt;Object.defineProperty(Ei,"__esModule",{value:!0});var Nn=Ei.default=void 0,Eb=Mb(Ut()),Wb=n;Nn=Ei.default=(0,Eb.default)((0,Wb.jsx)("path",{d:"M15 21h2v-2h-2zm4-12h2V7h-2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2m16-2v2h2c0-1.1-.9-2-2-2m-8 20h2V1h-2zm8-6h2v-2h-2zM15 5h2V3h-2zm4 8h2v-2h-2zm0 8c1.1 0 2-.9 2-2h-2z"}),"Flip");Y(y)(({theme:e})=>({width:"100%",maxWidth:800,margin:"0 auto",padding:e.spacing(3),marginBottom:e.spacing(6)}));Y(z)(({theme:e})=>({color:"#1a1f2c",fontWeight:400,marginBottom:e.spacing(2),letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'}));Y(y)(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(2),position:"relative","&::before":{content:'""',position:"absolute",top:"50%",left:0,right:0,height:"2px",backgroundColor:"rgba(26, 31, 44, 0.1)",zIndex:0}}));Y(y)(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:1}));Y(y)(({theme:e,completed:t,current:o})=>({width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(1),backgroundColor:t?"#1a1f2c":o?"#ffffff":"rgba(26, 31, 44, 0.1)",color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",border:o?"2px solid #1a1f2c":"none",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontWeight:400}));Y(z)(({theme:e,completed:t,current:o})=>({color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",fontSize:"14px",fontWeight:o?500:400,textAlign:"center",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"}));const ln=Y(ke)(({theme:e})=>({textTransform:"none",fontWeight:400,letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',padding:"8px 24px",borderRadius:"4px",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)"}})),Ob="AIzaSyDQngnSe6or2muwiDaov5HV02fk-4OiZaM",Lb=["Roboto","Open Sans","Lato","Montserrat","Poppins","Oswald","Raleway","Merriweather","Nunito","Quicksand","Source Sans Pro","Inter"];function Gb(e){const t=e.replace(/ /g,"+"),o=`google-font-${t}`;if(!document.getElementById(o)){const i=document.createElement("link");i.id=o,i.rel="stylesheet",i.href=`https://fonts.googleapis.com/css?family=${t}`,document.head.appendChild(i)}}const yo=(e,t)=>{if(!e)return`rgba(255, 255, 255, ${t})`;e=e.replace("#","");const o=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return`rgba(${o}, ${i}, ${r}, ${t})`},Vb=({backbox:e,setBackbox:t,backboxError:o,extraComments:i,setExtraComments:r,panelDesign:s,placedIcons:a,ICON_COLOR_FILTERS:d,ralColors:x})=>{const u=x.find(p=>p.hex===s.backgroundColor);return Object.keys(d).find(p=>p===s.iconColor),n.jsxs(y,{sx:{width:400,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.12), 0 4px 16px rgba(0,0,0,0.08)",border:"1px solid rgba(255,255,255,0.8)",overflow:"hidden",position:"relative"},children:[n.jsx(y,{sx:{background:"linear-gradient(135deg, #1a1f2c 0%, #2c3e50 100%)",color:"#ffffff",p:2.5,textAlign:"center",position:"relative","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)"}},children:n.jsx(z,{variant:"h6",sx:{fontWeight:600,letterSpacing:"0.5px",fontSize:"18px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Panel Configuration Summary"})}),n.jsx(y,{sx:{p:3},children:n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#4CAF50",flexShrink:0}}),"Selected Icons (",a.filter(p=>p.label&&p.label.trim()!=="").length,")"]}),a.filter(p=>p.label&&p.label.trim()!=="").length>0?n.jsx(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500,lineHeight:1.4},children:a.filter(p=>p.label&&p.label.trim()!=="").map((p,v,j)=>n.jsxs("span",{children:[p.label,v<j.length-1?", ":""]},p.id))}):n.jsx(z,{variant:"body2",sx:{color:"#6c757d",fontStyle:"italic",fontSize:"14px"},children:"No icons selected yet"})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#FF6B35",flexShrink:0}}),"Color Configuration"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.backgroundColor||"#ffffff",border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Panel: ",u?`RAL ${u.code}`:"Default"]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.iconColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Icons: ",At(s.iconColor)]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.textColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Text: ",s.textColor]})]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#9C27B0",flexShrink:0}}),"Typography Settings"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Font: ",s.fonts||"Default"]}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Size: ",s.fontSize||"12px"]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Backbox Details *"}),n.jsx("input",{type:"text",value:e,onChange:p=>{t(p.target.value)},placeholder:"Enter backbox details...",style:{width:"100%",padding:"8px",marginBottom:"8px",border:o?"1px solid red":"1px solid #ccc",borderRadius:"4px"}}),o&&n.jsx("div",{style:{color:"red",fontSize:"12px"},children:o})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Additional Comments (Optional)"}),n.jsx("textarea",{value:i,onChange:p=>r(p.target.value),placeholder:"Enter any additional comments...",style:{width:"100%",minHeight:"48px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]})]})})]})},jl=[{top:"23px",left:"33px"},{top:"23px",left:"136px"},{top:"23px",left:"233px"},{top:"123px",left:"33px"},{top:"123px",left:"136px"},{top:"123px",left:"233px"},{top:"218px",left:"33px"},{top:"218px",left:"136px"},{top:"218px",left:"233px"}],$b=jl.map(e=>({...e,left:parseInt(e.left)+320+"px"})),Nb=[...jl,...$b],Hb=()=>{var $e,c,b;const e=lt(),t=Ze(),o=gt(),[i,r]=h.useState({}),[s,a]=h.useState([]),[d,x]=h.useState(null),[u,p]=h.useState([]),[v,j]=h.useState({}),[_,k]=h.useState(""),[B,E]=h.useState(null),[w,F]=h.useState(null);Array.from(new Set(u.map(g=>g.iconId)));const[R,M]=h.useState(2),[l,O]=h.useState({backgroundColor:"",fonts:"",backlight:"",iconColor:"#000000",plasticColor:"",textColor:"#000000",fontSize:"12px",iconSize:"40px"}),[ne,Z]=h.useState(""),[re,X]=h.useState(""),[te,Se]=h.useState(""),[Pe,ie]=h.useState(Lb),[he,pe]=h.useState(""),[de,N]=h.useState(!1),[V,$]=h.useState(!1),L=h.useRef(null),J={"#000000":"brightness(0) saturate(100%)","#FFFFFF":"brightness(0) saturate(100%) invert(1)","#808080":"brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(0%) hue-rotate(148deg) brightness(99%) contrast(91%)","#FF0000":"brightness(0) saturate(100%) invert(13%) sepia(93%) saturate(7464%) hue-rotate(0deg) brightness(113%) contrast(109%)","#0000FF":"brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(6495%) hue-rotate(247deg) brightness(98%) contrast(141%)","#008000":"brightness(0) saturate(100%) invert(23%) sepia(98%) saturate(3025%) hue-rotate(101deg) brightness(94%) contrast(104%)"},[U,H]=h.useState({}),{projectName:fe,projectCode:le}=h.useContext(tt),[Le,Q]=h.useState("Arial"),[We,W]=h.useState(null),xe=(($e=o.state)==null?void 0:$e.editMode)||!1,ge=(c=o.state)==null?void 0:c.panelIndex,oe=(b=o.state)==null?void 0:b.panelData;if(console.log("RENDER",{backbox:ne,extraComments:re}),h.useEffect(()=>{wt(()=>Promise.resolve().then(()=>kt),void 0).then(g=>{r(g.default),a(g.iconCategories.filter(m=>m!=="Sockets"&&m!=="TAG"))})},[]),h.useEffect(()=>{if(xe&&oe){if(oe.panelDesign&&(O(oe.panelDesign),Z(oe.panelDesign.backbox||""),X(oe.panelDesign.extraComments||"")),oe.icons){const g=oe.icons.filter(C=>C.iconId).map(C=>({id:Date.now()+Math.random(),iconId:C.iconId,src:C.src||"",label:C.label||"",position:C.position,category:C.category||""}));p(g);const m={};oe.icons.forEach(C=>{C.text&&(m[C.position]=C.text)}),j(m)}M(3)}},[xe,oe]),!e)throw new Error("CartContext must be used within a CartProvider");const{addToCart:Ie,updatePanel:Te}=e;h.useEffect(()=>{s.length>0&&k(s[0])},[s]);const Ve=(g,m)=>{const C=g.target.value;j(P=>({...P,[m]:C}))},je=g=>{p(m=>m.filter(C=>C.id!==g))},Ue=()=>{if(!ne.trim()){Se("Please provide backbox details before adding the panel to your project.");return}const g={type:"DPH",icons:Array.from({length:18}).map((m,C)=>{const P=u.find(f=>f.position===C);return{iconId:(P==null?void 0:P.iconId)||null,src:(P==null?void 0:P.src)||"",label:(P==null?void 0:P.label)||"",position:C,text:v[C]||"",category:(P==null?void 0:P.category)||void 0}}).filter(m=>m.iconId||m.text),quantity:1,panelDesign:{...l,backbox:ne,extraComments:re}};xe&&ge!==void 0?(Te(ge,g),t("/cart")):Ie(g)},Ae=Object.entries(i).filter(([g,m])=>m.category===_&&m.category!=="TAG").map(([g,m])=>({id:g,src:m.src,label:m.label,category:m.category})),Fe=(g,m)=>{"position"in m?g.dataTransfer.setData("text/plain",JSON.stringify({type:"placed",id:m.id,position:m.position})):g.dataTransfer.setData("text/plain",JSON.stringify({type:"new",id:m.id})),g.dataTransfer.effectAllowed="move"},_e=(g,m)=>{try{const C=JSON.parse(m);if(C.type==="new"){const P=Ae.find(A=>A.id===C.id);if(!P||P.category==="PIR"&&(g!==7&&g!==16||u.some(T=>T.category==="PIR"&&(T.position===7||T.position===16)))||(P.id==="G1"||P.id==="G2")&&g!==0&&g!==1&&g!==3&&g!==4&&g!==6&&g!==7||P.id==="G3"&&g!==1&&g!==2&&g!==4&&g!==5&&g!==7&&g!==8||u.some(A=>A.position===g))return;const S={id:Date.now(),iconId:P.id,src:P.src,label:P.label,position:g,category:P.category};p(A=>[...A,S])}else if(C.type==="placed"){const P=u.find(S=>S.id===C.id),f=u.find(S=>S.position===g);if(!P||P.category==="PIR"&&g!==7&&g!==16||(f==null?void 0:f.category)==="PIR"&&C.position!==7&&C.position!==16||(P.iconId==="G1"||P.iconId==="G2")&&(g===2||g===5||g===8)||((f==null?void 0:f.iconId)==="G1"||(f==null?void 0:f.iconId)==="G2")&&(C.position===2||C.position===5||C.position===8)||P.iconId==="G3"&&(g===0||g===3||g===6)||(f==null?void 0:f.iconId)==="G3"&&(C.position===0||C.position===3||C.position===6))return;p(S=>S.map(A=>A.id===P.id?{...A,position:g}:A.position===g?{...A,position:C.position}:A)),j(S=>{const A={...S},T=S[C.position],q=S[g];return T!==void 0?A[g]=T:delete A[g],q!==void 0?A[C.position]=q:delete A[C.position],A})}}catch(C){console.error("Error handling drop:",C)}},He=g=>{F(g)},D=()=>{F(null)},I=g=>{const m=u.find(ee=>ee.position===g),C=v[g],P=(m==null?void 0:m.category)==="PIR",f=w===g,S=B===g,A=!!U[g],T=(ae==null?void 0:ae.size)||"40px",q=(Re==null?void 0:Re[g])||{top:"0px",left:"0px"};return n.jsxs("div",{style:{position:"absolute",...q,width:T,height:T,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",zIndex:2},onDragOver:ee=>{ee.preventDefault()},onDrop:R===4?void 0:ee=>{ee.preventDefault();const be=ee.dataTransfer.getData("text/plain");_e(g,be)},children:[m&&n.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>H(ee=>({...ee,[g]:!0})),onMouseLeave:()=>H(ee=>({...ee,[g]:!1})),children:[n.jsx("img",{src:m.src,alt:m.label,draggable:R!==4,onDragStart:R!==4?ee=>Fe(ee,m):void 0,style:{width:P?"40px":(m==null?void 0:m.category)==="Bathroom"?`${parseInt((ae==null?void 0:ae.size)||"40px")+10}px`:(ae==null?void 0:ae.size)||"40px",height:P?"40px":(m==null?void 0:m.category)==="Bathroom"?`${parseInt((ae==null?void 0:ae.size)||"40px")+10}px`:(ae==null?void 0:ae.size)||"40px",objectFit:"contain",marginBottom:"5px",position:"relative",zIndex:1,marginTop:P?"20px":"0",cursor:R!==4?"move":"default",filter:P?void 0:J[l.iconColor],transition:"filter 0.2s"}}),R!==4&&n.jsx("button",{onClick:ee=>{ee.stopPropagation(),je(m.id)},style:{position:"absolute",top:"-8px",right:"-8px",background:"rgba(220, 53, 69, 0.9)",color:"white",border:"2px solid rgba(255, 255, 255, 0.8)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",padding:0,lineHeight:1,zIndex:3,opacity:A?1:0,transform:A?"scale(1)":"scale(0.8)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseEnter:ee=>{ee.currentTarget.style.background="rgba(220, 53, 69, 1)",ee.currentTarget.style.transform="scale(1.1)",ee.currentTarget.style.boxShadow="0 4px 12px rgba(220, 53, 69, 0.4)"},onMouseLeave:ee=>{ee.currentTarget.style.background="rgba(220, 53, 69, 0.9)",ee.currentTarget.style.transform="scale(1)",ee.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"},children:""})]}),!P&&n.jsx("div",{style:{width:"100%",textAlign:"center",marginTop:m?"-11px":"15px"},children:R===4?C&&n.jsx("div",{style:{width:"100%",textAlign:"center",fontSize:l.fontSize||"12px",color:l.textColor||"#000000",fontFamily:l.fonts||void 0,wordBreak:"break-word"},children:C}):n.jsx(n.Fragment,{children:f?n.jsx("input",{type:"text",value:C||"",onChange:ee=>Ve(ee,g),onBlur:D,autoFocus:!0,style:{width:"100%",padding:"4px",fontSize:l.fontSize||"12px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",outline:"none",background:"rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,color:l.textColor||"#000000",marginTop:"0px",marginLeft:"-40px"}}):n.jsx("div",{onClick:()=>He(g),style:{fontSize:l.fontSize||"12px",color:C?l.textColor||"#000000":"#999999",wordBreak:"break-word",width:"120px",textAlign:"center",padding:"4px",cursor:"pointer",borderRadius:"4px",backgroundColor:S?"rgba(255, 255, 255, 0.1)":"transparent",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,marginTop:"0px",marginLeft:"-40px"},children:C||"Add text"})})})]},g)},K=[{step:1,label:"Select Panel Type"},{step:2,label:"Select your icons"},{step:3,label:"Select Panel Design"},{step:4,label:"Review panel details"}],G=R-1,se=()=>n.jsx(y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:4,mt:4},children:K.map((g,m)=>n.jsxs(ft.Fragment,{children:[n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[n.jsx(y,{sx:{width:32,height:32,borderRadius:"50%",background:m===G?"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)":"#e0e0e0",color:m===G?"#fff":"#888",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,boxShadow:m===G?"0 2px 8px #1976d233":"none",border:m===G?"2px solid #1976d2":"2px solid #e0e0e0",mb:1,transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"},children:g.step}),n.jsx(z,{sx:{color:m===G?"#1976d2":"#888",fontWeight:m===G?600:400,fontSize:14,textAlign:"center",maxWidth:110,letterSpacing:.2},children:g.label})]}),m<K.length-1&&n.jsx(y,{sx:{flex:1,height:2,background:"#e0e0e0",mx:1,minWidth:24,borderRadius:1}})]},g.step))});h.useEffect(()=>{$(!0),fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${Ob}`).then(g=>g.json()).then(g=>{g.items&&(ie(g.items.map(m=>m.family)),console.log("Total Google Fonts loaded:",g.items.length))}).catch(()=>{}).finally(()=>$(!1))},[]),h.useEffect(()=>{function g(m){L.current&&!L.current.contains(m.target)&&N(!1)}return de&&document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[de]),h.useEffect(()=>{l.fonts&&Gb(l.fonts)},[l.fonts]);const we=Bt("SP"),{dimensions:ce,iconLayout:ae,textLayout:Me,specialLayouts:Ke}=we,Re=Nb,Be=()=>{p(g=>{const m=new Map(g.map(P=>[P.position,P])),C=[];for(let P=0;P<9;P++){const f=m.get(P+9);f&&C.push({...f,position:P});const S=m.get(P);S&&C.push({...S,position:P+9})}return g.forEach(P=>{(P.position<0||P.position>17)&&C.push(P)}),C}),j(g=>{const m={...g};for(let C=0;C<9;C++){const P=g[C],f=g[C+9];f!==void 0?m[C]=f:delete m[C],P!==void 0?m[C+9]=P:delete m[C+9]}return m})},De=()=>{const g=[2,1,0,5,4,3,8,7,6];p(m=>{const C=m.filter(ee=>ee.position>=0&&ee.position<=8),P=m.filter(ee=>ee.position>=9&&ee.position<=17),f=new Map(C.map(ee=>[ee.position,ee])),S=new Map(P.map(ee=>[ee.position,ee])),A=g.flatMap((ee,be)=>{const ve=f.get(be);return ve?[{...ve,position:ee}]:[]}),T=g.flatMap((ee,be)=>{const ve=S.get(be+9);return ve?[{...ve,position:ee+9}]:[]}),q=m.filter(ee=>ee.position<0||ee.position>17);return[...A,...T,...q]}),j(m=>{const C={...m};for(let P=0;P<9;P++){const f=g[P],S=m[P];S!==void 0?C[f]=S:delete C[f]}for(let P=0;P<9;P++){const f=g[P]+9,S=m[P+9];S!==void 0?C[f]=S:delete C[f]}return C})};return n.jsxs(y,{sx:{minHeight:"100vh",background:"#f6f8fa",py:8},children:[(fe||le)&&n.jsx(y,{sx:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:1e3},children:n.jsxs(z,{sx:{fontSize:14,color:"#1a1f2c",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[fe,le&&` - ${le}`]})}),n.jsxs(xt,{maxWidth:"lg",children:[n.jsx(y,{sx:{position:"absolute",top:20,right:30,zIndex:1},children:n.jsx(dt,{})}),n.jsxs(y,{sx:{position:"absolute",top:20,left:30,display:"flex",alignItems:"center",gap:2},children:[n.jsx("img",{src:at,alt:"Logo",style:{height:"40px",width:"auto",cursor:"pointer"},onClick:()=>t("/")}),n.jsx(z,{variant:"h6",component:"h1",sx:{color:"#1a1f2c",fontWeight:400,letterSpacing:"1px",textTransform:"capitalize",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Design your panels"})]}),n.jsx(se,{}),n.jsxs(y,{sx:{display:"flex",justifyContent:"center",gap:2,mb:4},children:[n.jsx(ke,{variant:"outlined",onClick:()=>{R===2?t("/panel/double"):M(g=>Math.max(2,g-1))},children:"Back"}),R!==4&&n.jsx(ke,{variant:"contained",disabled:R===4,onClick:()=>M(g=>Math.min(4,g+1)),children:"Next"})]}),R===2&&n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",justifyContent:"center"},children:s.map(g=>n.jsx("button",{onClick:()=>k(g),style:{padding:"12px 24px",background:_===g?"#1a1f2c":"#ffffff",color:_===g?"#ffffff":"#1a1f2c",border:"1px solid #1a1f2c",borderRadius:"4px",cursor:"pointer",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontSize:"14px",letterSpacing:"0.5px",transition:"all 0.3s ease",minWidth:"120px"},children:g},g))}),n.jsx("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",justifyContent:"center",maxWidth:"800px",margin:"0 auto"},children:Ae.map(g=>n.jsxs("div",{draggable:!0,onDragStart:m=>Fe(m,g),style:{padding:"12px",background:(d==null?void 0:d.id)===g.id?"#1a1f2c":"#ffffff",borderRadius:"6px",cursor:"grab",display:"flex",flexDirection:"column",alignItems:"center",width:"60px",border:"1px solid #e0e0e0",transition:"all 0.3s ease"},children:[n.jsx("img",{src:g.src,alt:g.label,style:{width:"32px",height:"32px",objectFit:"contain"}}),n.jsx("span",{style:{fontSize:"14px",color:(d==null?void 0:d.id)===g.id?"#ffffff":"#1a1f2c",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"},children:g.label})]},g.id))})]}),R===3&&n.jsxs("div",{style:{display:"flex",gap:"80px",alignItems:"flex-start",justifyContent:"center",maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},children:[n.jsxs("div",{style:{flex:"0 0 480px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"28px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',position:"relative",overflow:"hidden"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, #0056b3 0%, #007bff 50%, #0056b3 100%)",borderRadius:"12px 12px 0 0"}}),n.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",fontWeight:"600",color:"#1a1f2c",textAlign:"center",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:"Panel Design"}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Background Color (RAL)"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"10px",maxHeight:"200px",overflowY:"auto",background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"8px",padding:"16px",border:"1px solid #dee2e6",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.04)"},children:qe.map(g=>n.jsxs("button",{type:"button",onClick:()=>O({...l,backgroundColor:g.hex}),style:{display:"flex",flexDirection:"column",alignItems:"center",border:l.backgroundColor===g.hex?"2px solid #0056b3":"1px solid #dee2e6",borderRadius:"8px",background:l.backgroundColor===g.hex?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",cursor:"pointer",padding:"8px 6px",outline:"none",boxShadow:l.backgroundColor===g.hex?"0 0 0 3px rgba(0, 86, 179, 0.15), 0 2px 8px rgba(0,0,0,0.1)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",transform:l.backgroundColor===g.hex?"translateY(-1px)":"translateY(0)"},children:[n.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"6px",background:g.hex,border:"2px solid #ffffff",marginBottom:"6px",display:"block",boxShadow:"0 2px 4px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.3)"}}),n.jsx("span",{style:{fontSize:"11px",fontWeight:"600",color:"#495057"},children:`RAL ${g.code}`})]},g.code))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Typography Font"]}),n.jsxs("div",{style:{position:"relative"},ref:L,children:[n.jsx("input",{type:"text",placeholder:"Search Google Fonts...",value:he||l.fonts||"",onChange:g=>{const m=g.target.value;pe(m),m===""&&O(C=>({...C,fonts:""})),N(!0)},onFocus:()=>N(!0),style:{padding:"12px 16px",borderRadius:"8px",border:"1px solid #dee2e6",fontSize:"14px",width:"100%",fontFamily:l.fonts||void 0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",boxShadow:"0 2px 6px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",outline:"none"}}),de&&n.jsx("div",{style:{position:"absolute",top:"110%",left:0,right:0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",border:"1px solid #dee2e6",borderRadius:"8px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 16px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.08)"},children:V?n.jsx("div",{style:{padding:16,textAlign:"center",color:"#6c757d"},children:"Loading fonts..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:"inherit",color:"#6c757d",borderBottom:"1px solid #f8f9fa",transition:"background 0.2s ease"},onMouseEnter:g=>g.currentTarget.style.background="#f8f9fa",onMouseLeave:g=>g.currentTarget.style.background="transparent",onClick:()=>{O({...l,fonts:""}),pe(""),N(!1)},children:"Default"}),Pe.filter(g=>g.toLowerCase().includes(he.toLowerCase())).slice(0,20).map(g=>n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:g,background:g===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",transition:"background 0.2s ease",borderBottom:"1px solid #f8f9fa"},onMouseEnter:m=>m.currentTarget.style.background="#f8f9fa",onMouseLeave:m=>m.currentTarget.style.background=g===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",onClick:()=>{O({...l,fonts:g}),pe(g),N(!1)},children:g},g)),Pe.filter(g=>g.toLowerCase().includes(he.toLowerCase())).length===0&&!V&&n.jsx("div",{style:{padding:16,color:"#adb5bd"},children:"No fonts found"})]})})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Font Size"]}),n.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:["10px","12px","14px","16px"].map(g=>n.jsx("button",{onClick:()=>O(m=>({...m,fontSize:g})),style:{padding:"10px 16px",borderRadius:"8px",border:l.fontSize===g?"2px solid #0056b3":"1px solid #dee2e6",background:l.fontSize===g?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.fontSize===g?"#ffffff":"#495057",cursor:"pointer",fontSize:g,fontWeight:l.fontSize===g?"700":"600",transition:"all 0.2s ease",minWidth:"45px",textAlign:"center",boxShadow:l.fontSize===g?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.fontSize===g?"translateY(-1px)":"translateY(0)"},children:g.replace("px","")},g))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Colors"]}),n.jsxs("div",{style:{display:"flex",gap:"28px",alignItems:"flex-start"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Icon Color"}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(J).map(([g])=>n.jsx("button",{onClick:()=>O(m=>({...m,iconColor:g})),style:{width:"36px",height:"36px",borderRadius:"50%",background:g,border:l.iconColor===g?"3px solid #0056b3":"2px solid #dee2e6",cursor:"pointer",padding:0,outline:"none",boxShadow:l.iconColor===g?"0 0 0 3px rgba(0, 86, 179, 0.2), 0 4px 12px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.3)",transition:"all 0.2s ease",transform:l.iconColor===g?"scale(1.1)":"scale(1)"}},g))})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Text Color"}),n.jsx("input",{type:"color",value:l.textColor,onChange:g=>O(m=>({...m,textColor:g.target.value})),style:{width:"64px",height:"40px",border:"2px solid #dee2e6",borderRadius:"8px",cursor:"pointer",padding:"2px",background:"#ffffff",boxShadow:"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease"}})]})]})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Icon Size"]}),n.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:["30px","40px","50px"].map(g=>n.jsx("button",{onClick:()=>O(m=>({...m,iconSize:g})),style:{padding:"10px 16px",borderRadius:"8px",border:l.iconSize===g?"2px solid #0056b3":"1px solid #dee2e6",background:l.iconSize===g?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.iconSize===g?"#ffffff":"#495057",cursor:"pointer",fontSize:"14px",fontWeight:l.iconSize===g?"700":"600",transition:"all 0.2s ease",minWidth:"60px",textAlign:"center",boxShadow:l.iconSize===g?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.iconSize===g?"translateY(-1px)":"translateY(0)"},children:g.replace("px","")},g))})]})]})]}),n.jsxs("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:[n.jsxs(y,{sx:{display:"flex",gap:1,marginBottom:"16px",justifyContent:"center"},children:[n.jsx(ln,{onClick:Be,variant:"contained",title:"Swap left and right sides",sx:{minWidth:"40px",width:"40px",height:"40px",padding:0,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1.5px 6px rgba(26, 31, 44, 0.07)",backgroundColor:"#1976d2",fontWeight:300,"&:hover":{backgroundColor:"#1565c0",transform:"translateY(-1.5px) scale(1.04)"}},children:n.jsx(Yo,{fontSize:"medium",sx:{color:"white"}})}),n.jsx(ln,{onClick:De,variant:"contained",title:"Mirror icons horizontally",sx:{minWidth:"40px",width:"40px",height:"40px",padding:0,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1.5px 6px rgba(26, 31, 44, 0.07)",backgroundColor:"#1976d2",fontWeight:300,"&:hover":{backgroundColor:"#1565c0",transform:"translateY(-1.5px) scale(1.04)"}},children:n.jsx(Nn,{fontSize:"medium",sx:{color:"white"}})})]}),n.jsxs("div",{style:{position:"relative",width:"640px",height:"320px",background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${yo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:18}).map((g,m)=>I(m))})]})]})]}),R===4&&n.jsx(n.Fragment,{children:n.jsxs("div",{style:{marginTop:"60px",marginBottom:"40px",display:"flex",justifyContent:"center",alignItems:"flex-start",gap:"40px",flexWrap:"wrap"},children:[n.jsx("div",{style:{flex:"0 0 auto"},children:n.jsx(Vb,{backbox:ne,setBackbox:g=>{Z(g),te&&Se("")},backboxError:te,extraComments:re,setExtraComments:X,panelDesign:l,placedIcons:u,ICON_COLOR_FILTERS:J,ralColors:qe})}),n.jsxs("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:[n.jsxs("div",{style:{position:"relative",width:"640px",height:"320px",background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${yo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:18}).map((g,m)=>I(m))})]}),n.jsx(y,{sx:{mt:6,display:"flex",justifyContent:"center"},children:n.jsx(ln,{variant:"contained",onClick:Ue,sx:{backgroundColor:"#1a1f2c",color:"#ffffff","&:hover":{backgroundColor:"#2c3e50"}},children:xe?"Update Panel":"Add Panel to Project"})})]})]})}),R===2&&n.jsxs("div",{style:{marginBottom:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[n.jsxs(y,{sx:{display:"flex",gap:1,marginBottom:"16px",justifyContent:"center"},children:[n.jsx(ln,{onClick:Be,variant:"contained",title:"Swap left and right sides",sx:{minWidth:"40px",width:"40px",height:"40px",padding:0,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1.5px 6px rgba(26, 31, 44, 0.07)",backgroundColor:"#1976d2",fontWeight:300,"&:hover":{backgroundColor:"#1565c0",transform:"translateY(-1.5px) scale(1.04)"}},children:n.jsx(Yo,{fontSize:"medium",sx:{color:"white"}})}),n.jsx(ln,{onClick:De,variant:"contained",title:"Mirror icons horizontally",sx:{minWidth:"40px",width:"40px",height:"40px",padding:0,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1.5px 6px rgba(26, 31, 44, 0.07)",backgroundColor:"#1976d2",fontWeight:300,"&:hover":{backgroundColor:"#1565c0",transform:"translateY(-1.5px) scale(1.04)"}},children:n.jsx(Nn,{fontSize:"medium",sx:{color:"white"}})})]}),n.jsxs("div",{style:{position:"relative",width:typeof ce.width=="string"&&ce.width.endsWith("px")?parseInt(ce.width)*2+"px":"640px",height:ce.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${yo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:18}).map((g,m)=>I(m))})]})]})]})]})};Y(y)(({theme:e})=>({width:"100%",maxWidth:800,margin:"0 auto",padding:e.spacing(3),marginBottom:e.spacing(6)}));Y(z)(({theme:e})=>({color:"#1a1f2c",fontWeight:400,marginBottom:e.spacing(2),letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'}));Y(y)(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(2),position:"relative","&::before":{content:'""',position:"absolute",top:"50%",left:0,right:0,height:"2px",backgroundColor:"rgba(26, 31, 44, 0.1)",zIndex:0}}));Y(y)(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:1}));Y(y)(({theme:e,completed:t,current:o})=>({width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(1),backgroundColor:t?"#1a1f2c":o?"#ffffff":"rgba(26, 31, 44, 0.1)",color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",border:o?"2px solid #1a1f2c":"none",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontWeight:400}));Y(z)(({theme:e,completed:t,current:o})=>({color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",fontSize:"14px",fontWeight:o?500:400,textAlign:"center",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"}));const Yb=Y(ke)(({theme:e})=>({textTransform:"none",fontWeight:400,letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',padding:"8px 24px",borderRadius:"4px",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)"}})),Ub="AIzaSyDQngnSe6or2muwiDaov5HV02fk-4OiZaM",Xb=["Roboto","Open Sans","Lato","Montserrat","Poppins","Oswald","Raleway","Merriweather","Nunito","Quicksand","Source Sans Pro","Inter"];function Kb(e){const t=e.replace(/ /g,"+"),o=`google-font-${t}`;if(!document.getElementById(o)){const i=document.createElement("link");i.id=o,i.rel="stylesheet",i.href=`https://fonts.googleapis.com/css?family=${t}`,document.head.appendChild(i)}}const vo=(e,t)=>{if(!e)return`rgba(255, 255, 255, ${t})`;e=e.replace("#","");const o=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return`rgba(${o}, ${i}, ${r}, ${t})`},qb=({backbox:e,setBackbox:t,backboxError:o,extraComments:i,setExtraComments:r,panelDesign:s,placedIcons:a,ICON_COLOR_FILTERS:d,ralColors:x})=>{const u=x.find(p=>p.hex===s.backgroundColor);return Object.keys(d).find(p=>p===s.iconColor),n.jsxs(y,{sx:{width:400,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.12), 0 4px 16px rgba(0,0,0,0.08)",border:"1px solid rgba(255,255,255,0.8)",overflow:"hidden",position:"relative"},children:[n.jsx(y,{sx:{background:"linear-gradient(135deg, #1a1f2c 0%, #2c3e50 100%)",color:"#ffffff",p:2.5,textAlign:"center",position:"relative","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)"}},children:n.jsx(z,{variant:"h6",sx:{fontWeight:600,letterSpacing:"0.5px",fontSize:"18px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Panel Configuration Summary"})}),n.jsx(y,{sx:{p:3},children:n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#4CAF50",flexShrink:0}}),"Selected Icons (",a.filter(p=>p.label&&p.label.trim()!=="").length,")"]}),a.filter(p=>p.label&&p.label.trim()!=="").length>0?n.jsx(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500,lineHeight:1.4},children:a.filter(p=>p.label&&p.label.trim()!=="").map((p,v,j)=>n.jsxs("span",{children:[p.label,v<j.length-1?", ":""]},p.id))}):n.jsx(z,{variant:"body2",sx:{color:"#6c757d",fontStyle:"italic",fontSize:"14px"},children:"No icons selected yet"})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#FF6B35",flexShrink:0}}),"Color Configuration"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.backgroundColor||"#ffffff",border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Panel: ",u?`RAL ${u.code}`:"Default"]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.iconColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Icons: ",At(s.iconColor)]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.textColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Text: ",s.textColor]})]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#9C27B0",flexShrink:0}}),"Typography Settings"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Font: ",s.fonts||"Default"]}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Size: ",s.fontSize||"12px"]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Backbox Details *"}),n.jsx("input",{type:"text",value:e,onChange:p=>{t(p.target.value)},placeholder:"Enter backbox details...",style:{width:"100%",padding:"8px",marginBottom:"8px",border:o?"1px solid red":"1px solid #ccc",borderRadius:"4px"}}),o&&n.jsx("div",{style:{color:"red",fontSize:"12px"},children:o})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Additional Comments (Optional)"}),n.jsx("textarea",{value:i,onChange:p=>r(p.target.value),placeholder:"Enter any additional comments...",style:{width:"100%",minHeight:"48px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]})]})})]})},Zb=()=>{var Be,De,$e;const e=lt(),t=Ze(),o=gt(),[i,r]=h.useState({}),[s,a]=h.useState([]),[d,x]=h.useState(null),[u,p]=h.useState([]),[v,j]=h.useState({}),[_,k]=h.useState(""),[B,E]=h.useState(null),[w,F]=h.useState(null);Array.from(new Set(u.map(c=>c.iconId)));const[R,M]=h.useState(2),[l,O]=h.useState({backgroundColor:"",fonts:"",backlight:"",iconColor:"#000000",plasticColor:"",textColor:"#000000",fontSize:"12px",iconSize:"40px"}),[ne,Z]=h.useState(""),[re,X]=h.useState(""),[te,Se]=h.useState(""),[Pe,ie]=h.useState(Xb),[he,pe]=h.useState(""),[de,N]=h.useState(!1),[V,$]=h.useState(!1),L=h.useRef(null),J={"#000000":"brightness(0) saturate(100%)","#FFFFFF":"brightness(0) saturate(100%) invert(1)","#808080":"brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(0%) hue-rotate(148deg) brightness(99%) contrast(91%)","#FF0000":"brightness(0) saturate(100%) invert(13%) sepia(93%) saturate(7464%) hue-rotate(0deg) brightness(113%) contrast(109%)","#0000FF":"brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(6495%) hue-rotate(247deg) brightness(98%) contrast(141%)","#008000":"brightness(0) saturate(100%) invert(23%) sepia(98%) saturate(3025%) hue-rotate(101deg) brightness(94%) contrast(104%)"},[U,H]=h.useState({}),{projectName:fe,projectCode:le}=h.useContext(tt),[Le,Q]=h.useState("Arial"),[We,W]=h.useState(null),xe=((Be=o.state)==null?void 0:Be.editMode)||!1,ge=(De=o.state)==null?void 0:De.panelIndex,oe=($e=o.state)==null?void 0:$e.panelData;if(console.log("RENDER",{backbox:ne,extraComments:re}),h.useEffect(()=>{wt(()=>Promise.resolve().then(()=>kt),void 0).then(c=>{r(c.default),a(c.iconCategories.filter(b=>b!=="Sockets"&&b!=="TAG"))})},[]),h.useEffect(()=>{if(xe&&oe){if(oe.panelDesign&&(O(oe.panelDesign),Z(oe.panelDesign.backbox||""),X(oe.panelDesign.extraComments||"")),oe.icons){const c=oe.icons.filter(g=>g.iconId).map(g=>({id:Date.now()+Math.random(),iconId:g.iconId,src:g.src||"",label:g.label||"",position:g.position,category:g.category||""}));p(c);const b={};oe.icons.forEach(g=>{g.text&&(b[g.position]=g.text)}),j(b)}M(3)}},[xe,oe]),!e)throw new Error("CartContext must be used within a CartProvider");const{addToCart:Ie,updatePanel:Te}=e;h.useEffect(()=>{s.length>0&&k(s[0])},[s]);const Ve=(c,b)=>{const g=c.target.value;j(m=>({...m,[b]:g}))},je=c=>{p(b=>b.filter(g=>g.id!==c))},Ue=()=>{if(!ne.trim()){Se("Please provide backbox details before adding the panel to your project.");return}const c={type:"DPV",icons:Array.from({length:18}).map((b,g)=>{const m=u.find(C=>C.position===g);return{iconId:(m==null?void 0:m.iconId)||null,src:(m==null?void 0:m.src)||"",label:(m==null?void 0:m.label)||"",position:g,text:v[g]||"",category:(m==null?void 0:m.category)||void 0}}).filter(b=>b.iconId||b.text),quantity:1,panelDesign:{...l,backbox:ne,extraComments:re}};xe&&ge!==void 0?(Te(ge,c),t("/cart")):Ie(c)},Ae=Object.entries(i).filter(([c,b])=>b.category===_&&b.category!=="TAG").map(([c,b])=>({id:c,src:b.src,label:b.label,category:b.category})),Fe=(c,b)=>{"position"in b?c.dataTransfer.setData("text/plain",JSON.stringify({type:"placed",id:b.id,position:b.position})):c.dataTransfer.setData("text/plain",JSON.stringify({type:"new",id:b.id})),c.dataTransfer.effectAllowed="move"},_e=(c,b)=>{try{const g=JSON.parse(b);if(g.type==="new"){const m=Ae.find(f=>f.id===g.id);if(!m||m.category==="PIR"&&(c!==7&&c!==16||u.some(S=>S.category==="PIR"&&(S.position===7||S.position===16)))||(m.id==="G1"||m.id==="G2")&&c!==0&&c!==1&&c!==3&&c!==4&&c!==6&&c!==7||m.id==="G3"&&c!==1&&c!==2&&c!==4&&c!==5&&c!==7&&c!==8||u.some(f=>f.position===c))return;const P={id:Date.now(),iconId:m.id,src:m.src,label:m.label,position:c,category:m.category};p(f=>[...f,P])}else if(g.type==="placed"){const m=u.find(P=>P.id===g.id),C=u.find(P=>P.position===c);if(!m||m.category==="PIR"&&c!==7&&c!==16||(C==null?void 0:C.category)==="PIR"&&g.position!==7&&g.position!==16||(m.iconId==="G1"||m.iconId==="G2")&&(c===2||c===5||c===8)||((C==null?void 0:C.iconId)==="G1"||(C==null?void 0:C.iconId)==="G2")&&(g.position===2||g.position===5||g.position===8)||m.iconId==="G3"&&(c===0||c===3||c===6)||(C==null?void 0:C.iconId)==="G3"&&(g.position===0||g.position===3||g.position===6))return;p(P=>P.map(f=>f.id===m.id?{...f,position:c}:f.position===c?{...f,position:g.position}:f)),j(P=>{const f={...P},S=P[g.position],A=P[c];return S!==void 0?f[c]=S:delete f[c],A!==void 0?f[g.position]=A:delete f[g.position],f})}}catch(g){console.error("Error handling drop:",g)}},He=c=>{F(c)},D=()=>{F(null)},I=c=>{const b=u.find(T=>T.position===c),g=v[c],m=(b==null?void 0:b.category)==="PIR",C=w===c,P=B===c,f=!!U[c],S=(ae==null?void 0:ae.size)||"40px",A=(Re==null?void 0:Re[c])||{top:"0px",left:"0px"};return n.jsxs("div",{style:{position:"absolute",...A,width:S,height:S,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",zIndex:2},onDragOver:T=>{T.preventDefault()},onDrop:R===4?void 0:T=>{T.preventDefault();const q=T.dataTransfer.getData("text/plain");_e(c,q)},children:[b&&n.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>H(T=>({...T,[c]:!0})),onMouseLeave:()=>H(T=>({...T,[c]:!1})),children:[n.jsx("img",{src:b.src,alt:b.label,draggable:R!==4,onDragStart:R!==4?T=>Fe(T,b):void 0,style:{width:m?"40px":(b==null?void 0:b.category)==="Bathroom"?`${parseInt((ae==null?void 0:ae.size)||"40px")+10}px`:(ae==null?void 0:ae.size)||"40px",height:m?"40px":(b==null?void 0:b.category)==="Bathroom"?`${parseInt((ae==null?void 0:ae.size)||"40px")+10}px`:(ae==null?void 0:ae.size)||"40px",objectFit:"contain",marginBottom:"5px",position:"relative",zIndex:1,marginTop:m?"20px":"0",cursor:R!==4?"move":"default",filter:m?void 0:J[l.iconColor],transition:"filter 0.2s"}}),R!==4&&n.jsx("button",{onClick:T=>{T.stopPropagation(),je(b.id)},style:{position:"absolute",top:"-8px",right:"-8px",background:"rgba(220, 53, 69, 0.9)",color:"white",border:"2px solid rgba(255, 255, 255, 0.8)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",padding:0,lineHeight:1,zIndex:3,opacity:f?1:0,transform:f?"scale(1)":"scale(0.8)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseEnter:T=>{T.currentTarget.style.background="rgba(220, 53, 69, 1)",T.currentTarget.style.transform="scale(1.1)",T.currentTarget.style.boxShadow="0 4px 12px rgba(220, 53, 69, 0.4)"},onMouseLeave:T=>{T.currentTarget.style.background="rgba(220, 53, 69, 0.9)",T.currentTarget.style.transform="scale(1)",T.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"},children:""})]}),!m&&n.jsx("div",{style:{width:"100%",textAlign:"center",marginTop:b?"-11px":"15px"},children:R===4?g&&n.jsx("div",{style:{width:"100%",textAlign:"center",fontSize:l.fontSize||"12px",color:l.textColor||"#000000",fontFamily:l.fonts||void 0,wordBreak:"break-word"},children:g}):n.jsx(n.Fragment,{children:C?n.jsx("input",{type:"text",value:g||"",onChange:T=>Ve(T,c),onBlur:D,autoFocus:!0,style:{width:"100%",padding:"4px",fontSize:l.fontSize||"12px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",outline:"none",background:"rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,color:l.textColor||"#000000",marginTop:"0px",marginLeft:"-40px"}}):n.jsx("div",{onClick:()=>He(c),style:{fontSize:l.fontSize||"12px",color:g?l.textColor||"#000000":"#999999",wordBreak:"break-word",width:"120px",textAlign:"center",padding:"4px",cursor:"pointer",borderRadius:"4px",backgroundColor:P?"rgba(255, 255, 255, 0.1)":"transparent",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,marginLeft:"-40px"},children:g||"Add text"})})})]},c)},K=[{step:1,label:"Select Panel Type"},{step:2,label:"Select your icons"},{step:3,label:"Select Panel Design"},{step:4,label:"Review panel details"}],G=R-1,se=()=>n.jsx(y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:4,mt:4},children:K.map((c,b)=>n.jsxs(ft.Fragment,{children:[n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[n.jsx(y,{sx:{width:32,height:32,borderRadius:"50%",background:b===G?"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)":"#e0e0e0",color:b===G?"#fff":"#888",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,boxShadow:b===G?"0 2px 8px #1976d233":"none",border:b===G?"2px solid #1976d2":"2px solid #e0e0e0",mb:1,transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"},children:c.step}),n.jsx(z,{sx:{color:b===G?"#1976d2":"#888",fontWeight:b===G?600:400,fontSize:14,textAlign:"center",maxWidth:110,letterSpacing:.2},children:c.label})]}),b<K.length-1&&n.jsx(y,{sx:{flex:1,height:2,background:"#e0e0e0",mx:1,minWidth:24,borderRadius:1}})]},c.step))});h.useEffect(()=>{$(!0),fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${Ub}`).then(c=>c.json()).then(c=>{c.items&&(ie(c.items.map(b=>b.family)),console.log("Total Google Fonts loaded:",c.items.length))}).catch(()=>{}).finally(()=>$(!1))},[]),h.useEffect(()=>{function c(b){L.current&&!L.current.contains(b.target)&&N(!1)}return de&&document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[de]),h.useEffect(()=>{l.fonts&&Kb(l.fonts)},[l.fonts]);const we=Bt("DPV"),{dimensions:ce,iconLayout:ae,textLayout:Me,specialLayouts:Ke,iconPositions:Re}=we;return n.jsxs(y,{sx:{minHeight:"100vh",background:"#f6f8fa",py:8},children:[(fe||le)&&n.jsx(y,{sx:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:1e3},children:n.jsxs(z,{sx:{fontSize:14,color:"#1a1f2c",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[fe,le&&` - ${le}`]})}),n.jsxs(xt,{maxWidth:"lg",children:[n.jsx(y,{sx:{position:"absolute",top:20,right:30,zIndex:1},children:n.jsx(dt,{})}),n.jsxs(y,{sx:{position:"absolute",top:20,left:30,display:"flex",alignItems:"center",gap:2},children:[n.jsx("img",{src:at,alt:"Logo",style:{height:"40px",width:"auto",cursor:"pointer"},onClick:()=>t("/")}),n.jsx(z,{variant:"h6",component:"h1",sx:{color:"#1a1f2c",fontWeight:400,letterSpacing:"1px",textTransform:"capitalize",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Design your panels"})]}),n.jsx(se,{}),n.jsxs(y,{sx:{display:"flex",justifyContent:"center",gap:2,mb:4},children:[n.jsx(ke,{variant:"outlined",onClick:()=>{R===2?t("/panel/double"):M(c=>Math.max(2,c-1))},children:"Back"}),R!==4&&n.jsx(ke,{variant:"contained",disabled:R===4,onClick:()=>M(c=>Math.min(4,c+1)),children:"Next"})]}),R===2&&n.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"40px",justifyContent:"center",alignItems:"flex-start",marginBottom:"20px"},children:[n.jsx("div",{style:{minWidth:140,display:"flex",flexDirection:"column",gap:"10px",alignItems:"flex-end"},children:s.map(c=>n.jsx("button",{onClick:()=>k(c),style:{padding:"12px 24px",background:_===c?"#1a1f2c":"#ffffff",color:_===c?"#ffffff":"#1a1f2c",border:"1px solid #1a1f2c",borderRadius:"4px",cursor:"pointer",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontSize:"14px",letterSpacing:"0.5px",transition:"all 0.3s ease",minWidth:"120px",textAlign:"right"},children:c},c))}),n.jsx("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",justifyContent:"flex-start",maxWidth:"400px",margin:"0",minHeight:"320px",alignItems:"flex-start"},children:Ae.map(c=>n.jsxs("div",{draggable:!0,onDragStart:b=>Fe(b,c),style:{padding:"12px",background:(d==null?void 0:d.id)===c.id?"#1a1f2c":"#ffffff",borderRadius:"6px",cursor:"grab",display:"flex",flexDirection:"column",alignItems:"center",width:"60px",border:"1px solid #e0e0e0",transition:"all 0.3s ease"},children:[n.jsx("img",{src:c.src,alt:c.label,style:{width:"32px",height:"32px",objectFit:"contain"}}),n.jsx("span",{style:{fontSize:"14px",color:(d==null?void 0:d.id)===c.id?"#ffffff":"#1a1f2c",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"},children:c.label})]},c.id))}),n.jsx("div",{style:{flex:"0 0 340px",display:"flex",justifyContent:"center",alignItems:"flex-start",marginTop:0},children:n.jsxs("div",{style:{position:"relative",width:"320px",height:ce.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${vo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:Re?Re.length:0}).map((c,b)=>I(b))})]})})]}),R===3&&n.jsxs("div",{style:{display:"flex",gap:"80px",alignItems:"flex-start",justifyContent:"center",maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},children:[n.jsxs("div",{style:{flex:"0 0 480px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"28px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',position:"relative",overflow:"hidden"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, #0056b3 0%, #007bff 50%, #0056b3 100%)",borderRadius:"12px 12px 0 0"}}),n.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",fontWeight:"600",color:"#1a1f2c",textAlign:"center",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:"Panel Design"}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Background Color (RAL)"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"10px",maxHeight:"200px",overflowY:"auto",background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"8px",padding:"16px",border:"1px solid #dee2e6",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.04)"},children:qe.map(c=>n.jsxs("button",{type:"button",onClick:()=>O({...l,backgroundColor:c.hex}),style:{display:"flex",flexDirection:"column",alignItems:"center",border:l.backgroundColor===c.hex?"2px solid #0056b3":"1px solid #dee2e6",borderRadius:"8px",background:l.backgroundColor===c.hex?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",cursor:"pointer",padding:"8px 6px",outline:"none",boxShadow:l.backgroundColor===c.hex?"0 0 0 3px rgba(0, 86, 179, 0.15), 0 2px 8px rgba(0,0,0,0.1)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",transform:l.backgroundColor===c.hex?"translateY(-1px)":"translateY(0)"},children:[n.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"6px",background:c.hex,border:"2px solid #ffffff",marginBottom:"6px",display:"block",boxShadow:"0 2px 4px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.3)"}}),n.jsx("span",{style:{fontSize:"11px",fontWeight:"600",color:"#495057"},children:`RAL ${c.code}`})]},c.code))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Typography Font"]}),n.jsxs("div",{style:{position:"relative"},ref:L,children:[n.jsx("input",{type:"text",placeholder:"Search Google Fonts...",value:he||l.fonts||"",onChange:c=>{const b=c.target.value;pe(b),b===""&&O(g=>({...g,fonts:""})),N(!0)},onFocus:()=>N(!0),style:{padding:"12px 16px",borderRadius:"8px",border:"1px solid #dee2e6",fontSize:"14px",width:"100%",fontFamily:l.fonts||void 0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",boxShadow:"0 2px 6px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",outline:"none"}}),de&&n.jsx("div",{style:{position:"absolute",top:"110%",left:0,right:0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",border:"1px solid #dee2e6",borderRadius:"8px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 16px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.08)"},children:V?n.jsx("div",{style:{padding:16,textAlign:"center",color:"#6c757d"},children:"Loading fonts..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:"inherit",color:"#6c757d",borderBottom:"1px solid #f8f9fa",transition:"background 0.2s ease"},onMouseEnter:c=>c.currentTarget.style.background="#f8f9fa",onMouseLeave:c=>c.currentTarget.style.background="transparent",onClick:()=>{O({...l,fonts:""}),pe(""),N(!1)},children:"Default"}),Pe.filter(c=>c.toLowerCase().includes(he.toLowerCase())).slice(0,20).map(c=>n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:c,background:c===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",transition:"background 0.2s ease",borderBottom:"1px solid #f8f9fa"},onMouseEnter:b=>b.currentTarget.style.background="#f8f9fa",onMouseLeave:b=>b.currentTarget.style.background=c===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",onClick:()=>{O({...l,fonts:c}),pe(c),N(!1)},children:c},c)),Pe.filter(c=>c.toLowerCase().includes(he.toLowerCase())).length===0&&!V&&n.jsx("div",{style:{padding:16,color:"#adb5bd"},children:"No fonts found"})]})})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Font Size"]}),n.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:["10px","12px","14px","16px"].map(c=>n.jsx("button",{onClick:()=>O(b=>({...b,fontSize:c})),style:{padding:"10px 16px",borderRadius:"8px",border:l.fontSize===c?"2px solid #0056b3":"1px solid #dee2e6",background:l.fontSize===c?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.fontSize===c?"#ffffff":"#495057",cursor:"pointer",fontSize:c,fontWeight:l.fontSize===c?"700":"600",transition:"all 0.2s ease",minWidth:"45px",textAlign:"center",boxShadow:l.fontSize===c?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.fontSize===c?"translateY(-1px)":"translateY(0)"},children:c.replace("px","")},c))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Colors"]}),n.jsxs("div",{style:{display:"flex",gap:"28px",alignItems:"flex-start"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Icon Color"}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(J).map(([c])=>n.jsx("button",{onClick:()=>O(b=>({...b,iconColor:c})),style:{width:"36px",height:"36px",borderRadius:"50%",background:c,border:l.iconColor===c?"3px solid #0056b3":"2px solid #dee2e6",cursor:"pointer",padding:0,outline:"none",boxShadow:l.iconColor===c?"0 0 0 3px rgba(0, 86, 179, 0.2), 0 4px 12px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.3)",transition:"all 0.2s ease",transform:l.iconColor===c?"scale(1.1)":"scale(1)"}},c))})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Text Color"}),n.jsx("input",{type:"color",value:l.textColor,onChange:c=>O(b=>({...b,textColor:c.target.value})),style:{width:"64px",height:"40px",border:"2px solid #dee2e6",borderRadius:"8px",cursor:"pointer",padding:"2px",background:"#ffffff",boxShadow:"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease"}})]})]})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Icon Size"]}),n.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:["30px","40px","50px"].map(c=>n.jsx("button",{onClick:()=>O(b=>({...b,iconSize:c})),style:{padding:"10px 16px",borderRadius:"8px",border:l.iconSize===c?"2px solid #0056b3":"1px solid #dee2e6",background:l.iconSize===c?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.iconSize===c?"#ffffff":"#495057",cursor:"pointer",fontSize:"14px",fontWeight:l.iconSize===c?"700":"600",transition:"all 0.2s ease",minWidth:"60px",textAlign:"center",boxShadow:l.iconSize===c?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.iconSize===c?"translateY(-1px)":"translateY(0)"},children:c.replace("px","")},c))})]})]})]}),n.jsx("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:n.jsxs("div",{style:{position:"relative",width:"320px",height:ce.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${vo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:18}).map((c,b)=>I(b))})]})})]}),R===4&&n.jsx(n.Fragment,{children:n.jsxs("div",{style:{marginTop:"60px",marginBottom:"40px",display:"flex",justifyContent:"center",alignItems:"flex-start",gap:"40px",flexWrap:"wrap"},children:[n.jsx("div",{style:{flex:"0 0 auto"},children:n.jsx(qb,{backbox:ne,setBackbox:c=>{Z(c),te&&Se("")},backboxError:te,extraComments:re,setExtraComments:X,panelDesign:l,placedIcons:u,ICON_COLOR_FILTERS:J,ralColors:qe})}),n.jsxs("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:[n.jsxs("div",{style:{position:"relative",width:"320px",height:ce.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${vo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:18}).map((c,b)=>I(b))})]}),n.jsx(y,{sx:{mt:6,display:"flex",justifyContent:"center"},children:n.jsx(Yb,{variant:"contained",onClick:Ue,sx:{backgroundColor:"#1a1f2c",color:"#ffffff","&:hover":{backgroundColor:"#2c3e50"}},children:xe?"Update Panel":"Add Panel to Project"})})]})]})})]})]})};var Wi={},Jb=Nt;Object.defineProperty(Wi,"__esModule",{value:!0});var Uo=Wi.default=void 0,Qb=Jb(Ut()),e1=n;Uo=Wi.default=(0,Qb.default)((0,e1.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");Y(y)(({theme:e})=>({width:"100%",maxWidth:800,margin:"0 auto",padding:e.spacing(3),marginBottom:e.spacing(6)}));Y(z)(({theme:e})=>({color:"#1a1f2c",fontWeight:400,marginBottom:e.spacing(2),letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'}));Y(y)(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(2),position:"relative","&::before":{content:'""',position:"absolute",top:"50%",left:0,right:0,height:"2px",backgroundColor:"rgba(26, 31, 44, 0.1)",zIndex:0}}));Y(y)(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:1}));Y(y)(({theme:e,completed:t,current:o})=>({width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(1),backgroundColor:t?"#1a1f2c":o?"#ffffff":"rgba(26, 31, 44, 0.1)",color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",border:o?"2px solid #1a1f2c":"none",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontWeight:400}));Y(z)(({theme:e,completed:t,current:o})=>({color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",fontSize:"14px",fontWeight:o?500:400,textAlign:"center",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"}));const t1=Y(ke)(({theme:e})=>({textTransform:"none",fontWeight:400,letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',padding:"8px 24px",borderRadius:"4px",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)"}})),n1="AIzaSyDQngnSe6or2muwiDaov5HV02fk-4OiZaM",o1=["Roboto","Open Sans","Lato","Montserrat","Poppins","Oswald","Raleway","Merriweather","Nunito","Quicksand","Source Sans Pro","Inter"];function i1(e){const t=e.replace(/ /g,"+"),o=`google-font-${t}`;if(!document.getElementById(o)){const i=document.createElement("link");i.id=o,i.rel="stylesheet",i.href=`https://fonts.googleapis.com/css?family=${t}`,document.head.appendChild(i)}}const So=(e,t)=>{if(!e)return`rgba(255, 255, 255, ${t})`;e=e.replace("#","");const o=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return`rgba(${o}, ${i}, ${r}, ${t})`},r1=({backbox:e,setBackbox:t,backboxError:o,extraComments:i,setExtraComments:r,panelDesign:s,placedIcons:a,ICON_COLOR_FILTERS:d,ralColors:x})=>{const u=x.find(p=>p.hex===s.backgroundColor);return Object.keys(d).find(p=>p===s.iconColor),n.jsxs(y,{sx:{width:400,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.12), 0 4px 16px rgba(0,0,0,0.08)",border:"1px solid rgba(255,255,255,0.8)",overflow:"hidden",position:"relative"},children:[n.jsx(y,{sx:{background:"linear-gradient(135deg, #1a1f2c 0%, #2c3e50 100%)",color:"#ffffff",p:2.5,textAlign:"center",position:"relative","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)"}},children:n.jsx(z,{variant:"h6",sx:{fontWeight:600,letterSpacing:"0.5px",fontSize:"18px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Panel Configuration Summary"})}),n.jsx(y,{sx:{p:3},children:n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#4CAF50",flexShrink:0}}),"Selected Icons (",a.filter(p=>p.label&&p.label.trim()!=="").length,")"]}),a.filter(p=>p.label&&p.label.trim()!=="").length>0?n.jsx(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500,lineHeight:1.4},children:a.filter(p=>p.label&&p.label.trim()!=="").map((p,v,j)=>n.jsxs("span",{children:[p.label,v<j.length-1?", ":""]},p.id))}):n.jsx(z,{variant:"body2",sx:{color:"#6c757d",fontStyle:"italic",fontSize:"14px"},children:"No icons selected yet"})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#FF6B35",flexShrink:0}}),"Color Configuration"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.backgroundColor||"#ffffff",border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Panel: ",u?`RAL ${u.code}`:"Default"]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.iconColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Icons: ",At(s.iconColor)]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.textColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Text: ",s.textColor]})]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#9C27B0",flexShrink:0}}),"Typography Settings"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Font: ",s.fonts||"Default"]}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Size: ",s.fontSize||"12px"]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Backbox Details *"}),n.jsx("input",{type:"text",value:e,onChange:p=>{t(p.target.value)},placeholder:"Enter backbox details...",style:{width:"100%",padding:"8px",marginBottom:"8px",border:o?"1px solid red":"1px solid #ccc",borderRadius:"4px"}}),o&&n.jsx("div",{style:{color:"red",fontSize:"12px"},children:o})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Additional Comments (Optional)"}),n.jsx("textarea",{value:i,onChange:p=>r(p.target.value),placeholder:"Enter any additional comments...",style:{width:"100%",minHeight:"48px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]})]})})]})},s1=[{top:"23px",left:"33px"},{top:"23px",left:"136px"},{top:"23px",left:"233px"},{top:"123px",left:"33px"},{top:"123px",left:"136px"},{top:"123px",left:"233px"},{top:"218px",left:"33px"},{top:"218px",left:"136px"},{top:"218px",left:"233px"}];s1.map(e=>({...e,left:parseInt(e.left)+320+"px"}));const a1=()=>{var g,m,C,P;const e=lt(),t=Ze(),o=gt(),[i,r]=h.useState({}),[s,a]=h.useState([]),[d,x]=h.useState(null),[u,p]=h.useState([]),[v,j]=h.useState({}),[_,k]=h.useState(""),[B,E]=h.useState(null),[w,F]=h.useState(null);Array.from(new Set(u.map(f=>f.iconId)));const[R,M]=h.useState(2),[l,O]=h.useState({backgroundColor:"",fonts:"",backlight:"",iconColor:"#000000",plasticColor:"",textColor:"#000000",fontSize:"12px",iconSize:"40px"}),[ne,Z]=h.useState(""),[re,X]=h.useState(""),[te,Se]=h.useState(""),[Pe,ie]=h.useState(o1),[he,pe]=h.useState(""),[de,N]=h.useState(!1),[V,$]=h.useState(!1),L=h.useRef(null),J={"#000000":"brightness(0) saturate(100%)","#FFFFFF":"brightness(0) saturate(100%) invert(1)","#808080":"brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(0%) hue-rotate(148deg) brightness(99%) contrast(91%)","#FF0000":"brightness(0) saturate(100%) invert(13%) sepia(93%) saturate(7464%) hue-rotate(0deg) brightness(113%) contrast(109%)","#0000FF":"brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(6495%) hue-rotate(247deg) brightness(98%) contrast(141%)","#008000":"brightness(0) saturate(100%) invert(23%) sepia(98%) saturate(3025%) hue-rotate(101deg) brightness(94%) contrast(104%)"},[U,H]=h.useState({}),{projectName:fe,projectCode:le}=h.useContext(tt),[Le,Q]=h.useState("Arial"),[We,W]=h.useState(null),[xe,ge]=h.useState(!1),[oe,Ie]=h.useState(!1),Te=((g=o.state)==null?void 0:g.editMode)||!1,Ve=(m=o.state)==null?void 0:m.panelIndex,je=(C=o.state)==null?void 0:C.panelData;if(console.log("RENDER",{backbox:ne,extraComments:re}),h.useEffect(()=>{wt(()=>Promise.resolve().then(()=>kt),void 0).then(f=>{r(f.default),a(f.iconCategories.filter(S=>S!=="TAG"))})},[]),h.useEffect(()=>{if(Te&&je){if(je.panelDesign&&(O(je.panelDesign),Z(je.panelDesign.backbox||""),X(je.panelDesign.extraComments||""),ge(je.panelDesign.swapSides||!1),Ie(je.panelDesign.mirrorGrid||!1)),je.icons){const f=je.icons.filter(A=>A.iconId).map(A=>({id:Date.now()+Math.random(),iconId:A.iconId,src:A.src||"",label:A.label||"",position:A.position,category:A.category||""}));p(f);const S={};je.icons.forEach(A=>{A.text&&(S[A.position]=A.text)}),j(S)}M(3)}},[Te,je]),!e)throw new Error("CartContext must be used within a CartProvider");const{addToCart:Ue,updatePanel:Ae}=e;h.useEffect(()=>{s.length>0&&k(s[0])},[s]);const Fe=(f,S)=>{const A=f.target.value;j(T=>({...T,[S]:A}))},_e=f=>{p(S=>S.filter(A=>A.id!==f))},He=()=>{if(!ne.trim()){Se("Please provide backbox details before adding the panel to your project.");return}const f={type:"X1H",icons:Array.from({length:(b==null?void 0:b.length)||0}).map((S,A)=>{const T=u.find(q=>q.position===A);return{iconId:(T==null?void 0:T.iconId)||null,src:(T==null?void 0:T.src)||"",label:(T==null?void 0:T.label)||"",position:A,text:v[A]||"",category:(T==null?void 0:T.category)||void 0}}).filter(S=>S.iconId||S.text),quantity:1,panelDesign:{...l,backbox:ne,extraComments:re,swapSides:xe,mirrorGrid:oe}};Te&&Ve!==void 0?(Ae(Ve,f),t("/cart")):Ue(f)},D=Object.entries(i).filter(([f,S])=>S.category===_&&S.category!=="TAG").map(([f,S])=>({id:f,src:S.src,label:S.label,category:S.category})),I=(f,S)=>{"position"in S?f.dataTransfer.setData("text/plain",JSON.stringify({type:"placed",id:S.id,position:S.position})):f.dataTransfer.setData("text/plain",JSON.stringify({type:"new",id:S.id})),f.dataTransfer.effectAllowed="move"},K=(f,S)=>{try{const A=JSON.parse(S);if(A.type==="new"){const T=D.find(be=>be.id===A.id);if(!T||f===9&&T.category!=="Sockets"||T.category==="PIR"&&(f!==7&&f!==16||u.some(ve=>ve.category==="PIR"&&(ve.position===7||ve.position===16)))||(T.id==="G1"||T.id==="G2")&&f!==0&&f!==1&&f!==3&&f!==4&&f!==6&&f!==7||T.id==="G3"&&f!==1&&f!==2&&f!==4&&f!==5&&f!==7&&f!==8||T.category==="Sockets"&&(f!==9||u.some(ve=>ve.category==="Sockets"&&ve.position===9))||u.some(be=>be.position===f))return;const ee={id:Date.now(),iconId:T.id,src:T.src,label:T.label,position:f,category:T.category};p(be=>[...be,ee])}else if(A.type==="placed"){const T=u.find(ee=>ee.id===A.id),q=u.find(ee=>ee.position===f);if(!T||f===9&&T.category!=="Sockets"||A.position===9&&q&&q.category!=="Sockets"||T.category==="PIR"&&f!==7&&f!==16||(q==null?void 0:q.category)==="PIR"&&A.position!==7&&A.position!==16||(T.iconId==="G1"||T.iconId==="G2")&&(f===2||f===5||f===8)||((q==null?void 0:q.iconId)==="G1"||(q==null?void 0:q.iconId)==="G2")&&(A.position===2||A.position===5||A.position===8)||T.iconId==="G3"&&(f===0||f===3||f===6)||(q==null?void 0:q.iconId)==="G3"&&(A.position===0||A.position===3||A.position===6)||T.category==="Sockets"&&f!==9||(q==null?void 0:q.category)==="Sockets"&&A.position!==9)return;p(ee=>ee.map(be=>be.id===T.id?{...be,position:f}:be.position===f?{...be,position:A.position}:be)),j(ee=>{const be={...ee},ve=ee[A.position],ut=ee[f];return ve!==void 0?be[f]=ve:delete be[f],ut!==void 0?be[A.position]=ut:delete be[A.position],be})}}catch(A){console.error("Error handling drop:",A)}},G=f=>{F(f)},se=()=>{F(null)},we=320,ce=f=>{const S=u.find(ue=>ue.position===f),A=v[f],T=(S==null?void 0:S.category)==="PIR",q=w===f,ee=B===f,be=!!U[f];l.iconSize;let ve=(b==null?void 0:b[f])||{top:"0px",left:"0px"};if(xe&&(f===9?ve={...ve,left:"40px"}:f>=0&&f<=8&&(ve={...ve,left:parseInt(ve.left)+we+"px"})),oe&&f>=0&&f<=8){const Pt=[2,1,0,5,4,3,8,7,6][f];ve={...(b==null?void 0:b[Pt])||ve},xe&&(ve={...ve,left:parseInt(ve.left)+we+"px"})}const ut=T?"40px":(S==null?void 0:S.category)==="Bathroom"?`${parseInt(l.iconSize||"40px")+10}px`:f===9?"240px":l.iconSize||"40px";return n.jsxs("div",{style:{position:"absolute",...ve,width:ut,height:ut,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",zIndex:2},onDragOver:ue=>{ue.preventDefault()},onDrop:R===4?void 0:ue=>{ue.preventDefault();const Pt=ue.dataTransfer.getData("text/plain");K(f,Pt)},children:[S&&n.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>H(ue=>({...ue,[f]:!0})),onMouseLeave:()=>H(ue=>({...ue,[f]:!1})),children:[n.jsx("img",{src:S.src,alt:S.label,draggable:R!==4,onDragStart:R!==4?ue=>I(ue,S):void 0,style:{width:T?"40px":(S==null?void 0:S.category)==="Bathroom"?`${parseInt(l.iconSize||"40px")+10}px`:f===9?"240px":l.iconSize||"40px",height:T?"40px":(S==null?void 0:S.category)==="Bathroom"?`${parseInt(l.iconSize||"40px")+10}px`:f===9?"240px":l.iconSize||"40px",objectFit:"contain",marginBottom:"5px",position:"relative",zIndex:1,marginTop:T?"20px":"0",cursor:R!==4?"move":"default",filter:!T&&(S==null?void 0:S.category)!=="Sockets"?J[l.iconColor]:void 0,transition:"filter 0.2s"}}),R!==4&&n.jsx("button",{onClick:ue=>{ue.stopPropagation(),_e(S.id)},style:{position:"absolute",top:"-8px",right:"-8px",background:"rgba(220, 53, 69, 0.9)",color:"white",border:"2px solid rgba(255, 255, 255, 0.8)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",padding:0,lineHeight:1,zIndex:3,opacity:be?1:0,transform:be?"scale(1)":"scale(0.8)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseEnter:ue=>{ue.currentTarget.style.background="rgba(220, 53, 69, 1)",ue.currentTarget.style.transform="scale(1.1)",ue.currentTarget.style.boxShadow="0 4px 12px rgba(220, 53, 69, 0.4)"},onMouseLeave:ue=>{ue.currentTarget.style.background="rgba(220, 53, 69, 0.9)",ue.currentTarget.style.transform="scale(1)",ue.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"},children:""})]}),!T&&(S==null?void 0:S.category)!=="Sockets"&&n.jsx("div",{style:{width:"100%",textAlign:"center",marginTop:S?"-11px":"15px"},children:f===9&&!S?n.jsx("div",{style:{fontSize:"18px",color:"#bbb",fontWeight:600,padding:"16px 0"},children:"drop socket"}):R===4?A&&n.jsx("div",{style:{width:"100%",textAlign:"center",fontSize:l.fontSize||"12px",color:l.textColor||"#000000",fontFamily:l.fonts||void 0,wordBreak:"break-word"},children:A}):n.jsx(n.Fragment,{children:q?n.jsx("input",{type:"text",value:A||"",onChange:ue=>Fe(ue,f),onBlur:se,autoFocus:!0,style:{width:"100%",padding:"4px",fontSize:l.fontSize||"12px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",outline:"none",background:"rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,color:l.textColor||"#000000",marginTop:"0px",marginLeft:"-40px"}}):n.jsx("div",{onClick:()=>G(f),style:{fontSize:l.fontSize||"12px",color:A?l.textColor||"#000000":"#999999",wordBreak:"break-word",width:"120px",textAlign:"center",padding:"4px",cursor:"pointer",borderRadius:"4px",backgroundColor:ee?"rgba(255, 255, 255, 0.1)":"transparent",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,marginLeft:"-40px"},children:A||"Add text"})})})]},f)},ae=[{step:1,label:"Select Panel Type"},{step:2,label:"Select your icons"},{step:3,label:"Select Panel Design"},{step:4,label:"Review panel details"}],Me=R-1,Ke=()=>n.jsx(y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:4,mt:4},children:ae.map((f,S)=>n.jsxs(ft.Fragment,{children:[n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[n.jsx(y,{sx:{width:32,height:32,borderRadius:"50%",background:S===Me?"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)":"#e0e0e0",color:S===Me?"#fff":"#888",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,boxShadow:S===Me?"0 2px 8px #1976d233":"none",border:S===Me?"2px solid #1976d2":"2px solid #e0e0e0",mb:1,transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"},children:f.step}),n.jsx(z,{sx:{color:S===Me?"#1976d2":"#888",fontWeight:S===Me?600:400,fontSize:14,textAlign:"center",maxWidth:110,letterSpacing:.2},children:f.label})]}),S<ae.length-1&&n.jsx(y,{sx:{flex:1,height:2,background:"#e0e0e0",mx:1,minWidth:24,borderRadius:1}})]},f.step))});h.useEffect(()=>{$(!0),fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${n1}`).then(f=>f.json()).then(f=>{f.items&&(ie(f.items.map(S=>S.family)),console.log("Total Google Fonts loaded:",f.items.length))}).catch(()=>{}).finally(()=>$(!1))},[]),h.useEffect(()=>{function f(S){L.current&&!L.current.contains(S.target)&&N(!1)}return de&&document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[de]),h.useEffect(()=>{l.fonts&&i1(l.fonts)},[l.fonts]);const Re=Bt("X1H");console.log("X1H iconPositions length:",(P=Re.iconPositions)==null?void 0:P.length,Re.iconPositions);const{dimensions:Be,iconLayout:De,textLayout:$e,specialLayouts:c,iconPositions:b=[]}=Re;return n.jsxs(y,{sx:{minHeight:"100vh",background:"#f6f8fa",py:8},children:[(fe||le)&&n.jsx(y,{sx:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:1e3},children:n.jsxs(z,{sx:{fontSize:14,color:"#1a1f2c",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[fe,le&&` - ${le}`]})}),n.jsxs(xt,{maxWidth:"lg",children:[n.jsx(y,{sx:{position:"absolute",top:20,right:30,zIndex:1},children:n.jsx(dt,{})}),n.jsxs(y,{sx:{position:"absolute",top:20,left:30,display:"flex",alignItems:"center",gap:2},children:[n.jsx("img",{src:at,alt:"Logo",style:{height:"40px",width:"auto",cursor:"pointer"},onClick:()=>t("/")}),n.jsx(z,{variant:"h6",component:"h1",sx:{color:"#1a1f2c",fontWeight:400,letterSpacing:"1px",textTransform:"capitalize",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Design your panels"})]}),n.jsx(Ke,{}),n.jsxs(y,{sx:{display:"flex",justifyContent:"center",gap:2,mb:4},children:[n.jsx(ke,{variant:"outlined",onClick:()=>{R===2?t("/panel/extended"):M(f=>Math.max(2,f-1))},children:"Back"}),R!==4&&n.jsx(ke,{variant:"contained",disabled:R===4,onClick:()=>M(f=>Math.min(4,f+1)),children:"Next"})]}),R===2&&n.jsx(n.Fragment,{children:n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",justifyContent:"center"},children:s.map(f=>n.jsx("button",{onClick:()=>k(f),style:{padding:"12px 24px",background:_===f?"#1a1f2c":"#ffffff",color:_===f?"#ffffff":"#1a1f2c",border:"1px solid #1a1f2c",borderRadius:"4px",cursor:"pointer",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontSize:"14px",letterSpacing:"0.5px",transition:"all 0.3s ease",minWidth:"120px"},children:f},f))}),n.jsx("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",justifyContent:"center",maxWidth:"800px",margin:"0 auto"},children:D.map(f=>n.jsxs("div",{draggable:!0,onDragStart:S=>I(S,f),style:{padding:"12px",background:(d==null?void 0:d.id)===f.id?"#1a1f2c":"#ffffff",borderRadius:"6px",cursor:"grab",display:"flex",flexDirection:"column",alignItems:"center",width:"60px",border:"1px solid #e0e0e0",transition:"all 0.3s ease"},children:[n.jsx("img",{src:f.src,alt:f.label,style:{width:"32px",height:"32px",objectFit:"contain"}}),n.jsx("span",{style:{fontSize:"14px",color:(d==null?void 0:d.id)===f.id?"#ffffff":"#1a1f2c",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"},children:f.label})]},f.id))}),n.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:16,margin:"24px 0 0 0"},children:[n.jsx(ke,{variant:"outlined",onClick:()=>ge(f=>!f),sx:{minWidth:160,display:"flex",alignItems:"center",gap:1},startIcon:xe?n.jsx(Uo,{}):n.jsx(Uo,{sx:{transform:"rotate(180deg)"}}),children:xe?"Right Side":"Left Side"}),n.jsx(ke,{variant:"outlined",onClick:()=>Ie(f=>!f),sx:{minWidth:160},children:oe?"Unmirror":"Mirror"})]})]})}),R===3&&n.jsxs("div",{style:{display:"flex",gap:"80px",alignItems:"flex-start",justifyContent:"center",maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},children:[n.jsxs("div",{style:{flex:"0 0 480px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"28px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',position:"relative",overflow:"hidden"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, #0056b3 0%, #007bff 50%, #0056b3 100%)",borderRadius:"12px 12px 0 0"}}),n.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",fontWeight:"600",color:"#1a1f2c",textAlign:"center",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:"Panel Design"}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Background Color (RAL)"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"10px",maxHeight:"200px",overflowY:"auto",background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"8px",padding:"16px",border:"1px solid #dee2e6",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.04)"},children:qe.map(f=>n.jsxs("button",{type:"button",onClick:()=>O({...l,backgroundColor:f.hex}),style:{display:"flex",flexDirection:"column",alignItems:"center",border:l.backgroundColor===f.hex?"2px solid #0056b3":"1px solid #dee2e6",borderRadius:"8px",background:l.backgroundColor===f.hex?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",cursor:"pointer",padding:"8px 6px",outline:"none",boxShadow:l.backgroundColor===f.hex?"0 0 0 3px rgba(0, 86, 179, 0.15), 0 2px 8px rgba(0,0,0,0.1)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",transform:l.backgroundColor===f.hex?"translateY(-1px)":"translateY(0)"},children:[n.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"6px",background:f.hex,border:"2px solid #ffffff",marginBottom:"6px",display:"block",boxShadow:"0 2px 4px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.3)"}}),n.jsx("span",{style:{fontSize:"11px",fontWeight:"600",color:"#495057"},children:`RAL ${f.code}`})]},f.code))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Typography Font"]}),n.jsxs("div",{style:{position:"relative"},ref:L,children:[n.jsx("input",{type:"text",placeholder:"Search Google Fonts...",value:he||l.fonts||"",onChange:f=>{const S=f.target.value;pe(S),S===""&&O(A=>({...A,fonts:""})),N(!0)},onFocus:()=>N(!0),style:{padding:"12px 16px",borderRadius:"8px",border:"1px solid #dee2e6",fontSize:"14px",width:"100%",fontFamily:l.fonts||void 0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",boxShadow:"0 2px 6px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",outline:"none"}}),de&&n.jsx("div",{style:{position:"absolute",top:"110%",left:0,right:0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",border:"1px solid #dee2e6",borderRadius:"8px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 16px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.08)"},children:V?n.jsx("div",{style:{padding:16,textAlign:"center",color:"#6c757d"},children:"Loading fonts..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:"inherit",color:"#6c757d",borderBottom:"1px solid #f8f9fa",transition:"background 0.2s ease"},onMouseEnter:f=>f.currentTarget.style.background="#f8f9fa",onMouseLeave:f=>f.currentTarget.style.background="transparent",onClick:()=>{O({...l,fonts:""}),pe(""),N(!1)},children:"Default"}),Pe.filter(f=>f.toLowerCase().includes(he.toLowerCase())).slice(0,20).map(f=>n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:f,background:f===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",transition:"background 0.2s ease",borderBottom:"1px solid #f8f9fa"},onMouseEnter:S=>S.currentTarget.style.background="#f8f9fa",onMouseLeave:S=>S.currentTarget.style.background=f===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",onClick:()=>{O({...l,fonts:f}),pe(f),N(!1)},children:f},f)),Pe.filter(f=>f.toLowerCase().includes(he.toLowerCase())).length===0&&!V&&n.jsx("div",{style:{padding:16,color:"#adb5bd"},children:"No fonts found"})]})})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Font Size"]}),n.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:["10px","12px","14px","16px"].map(f=>n.jsx("button",{onClick:()=>O(S=>({...S,fontSize:f})),style:{padding:"10px 16px",borderRadius:"8px",border:l.fontSize===f?"2px solid #0056b3":"1px solid #dee2e6",background:l.fontSize===f?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.fontSize===f?"#ffffff":"#495057",cursor:"pointer",fontSize:f,fontWeight:l.fontSize===f?"700":"600",transition:"all 0.2s ease",minWidth:"45px",textAlign:"center",boxShadow:l.fontSize===f?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.fontSize===f?"translateY(-1px)":"translateY(0)"},children:f.replace("px","")},f))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Colors"]}),n.jsxs("div",{style:{display:"flex",gap:"28px",alignItems:"flex-start"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Icon Color"}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(J).map(([f])=>n.jsx("button",{onClick:()=>O(S=>({...S,iconColor:f})),style:{width:"36px",height:"36px",borderRadius:"50%",background:f,border:l.iconColor===f?"3px solid #0056b3":"2px solid #dee2e6",cursor:"pointer",padding:0,outline:"none",boxShadow:l.iconColor===f?"0 0 0 3px rgba(0, 86, 179, 0.2), 0 4px 12px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.3)",transition:"all 0.2s ease",transform:l.iconColor===f?"scale(1.1)":"scale(1)"}},f))})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Text Color"}),n.jsx("input",{type:"color",value:l.textColor,onChange:f=>O(S=>({...S,textColor:f.target.value})),style:{width:"64px",height:"40px",border:"2px solid #dee2e6",borderRadius:"8px",cursor:"pointer",padding:"2px",background:"#ffffff",boxShadow:"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease"}})]})]})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Icon Size"]}),n.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:["30px","40px","50px"].map(f=>n.jsx("button",{onClick:()=>O(S=>({...S,iconSize:f})),style:{padding:"10px 16px",borderRadius:"8px",border:l.iconSize===f?"2px solid #0056b3":"1px solid #dee2e6",background:l.iconSize===f?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.iconSize===f?"#ffffff":"#495057",cursor:"pointer",fontSize:"14px",fontWeight:l.iconSize===f?"700":"600",transition:"all 0.2s ease",minWidth:"60px",textAlign:"center",boxShadow:l.iconSize===f?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.iconSize===f?"translateY(-1px)":"translateY(0)"},children:f.replace("px","")},f))})]})]})]}),n.jsx("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:n.jsxs("div",{style:{position:"relative",width:"640px",height:"320px",background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${So(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:b?b.length:0}).map((f,S)=>ce(S))})]})})]}),R===4&&n.jsx(n.Fragment,{children:n.jsxs("div",{style:{marginTop:"60px",marginBottom:"40px",display:"flex",justifyContent:"center",alignItems:"flex-start",gap:"40px",flexWrap:"wrap"},children:[n.jsx("div",{style:{flex:"0 0 auto"},children:n.jsx(r1,{backbox:ne,setBackbox:f=>{Z(f),te&&Se("")},backboxError:te,extraComments:re,setExtraComments:X,panelDesign:l,placedIcons:u,ICON_COLOR_FILTERS:J,ralColors:qe})}),n.jsxs("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:[n.jsxs("div",{style:{position:"relative",width:"640px",height:"320px",background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${So(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:b?b.length:0}).map((f,S)=>ce(S))})]}),n.jsx(y,{sx:{mt:6,display:"flex",justifyContent:"center"},children:n.jsx(t1,{variant:"contained",onClick:He,sx:{backgroundColor:"#1a1f2c",color:"#ffffff","&:hover":{backgroundColor:"#2c3e50"}},children:Te?"Update Panel":"Add Panel to Project"})})]})]})}),R===2&&n.jsx("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"center"},children:n.jsxs("div",{style:{position:"relative",width:"640px",height:Be.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${So(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:b?b.length:0}).map((f,S)=>ce(S))})]})})]})]})};Y(y)(({theme:e})=>({width:"100%",maxWidth:800,margin:"0 auto",padding:e.spacing(3),marginBottom:e.spacing(6)}));Y(z)(({theme:e})=>({color:"#1a1f2c",fontWeight:400,marginBottom:e.spacing(2),letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'}));Y(y)(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(2),position:"relative","&::before":{content:'""',position:"absolute",top:"50%",left:0,right:0,height:"2px",backgroundColor:"rgba(26, 31, 44, 0.1)",zIndex:0}}));Y(y)(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:1}));Y(y)(({theme:e,completed:t,current:o})=>({width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(1),backgroundColor:t?"#1a1f2c":o?"#ffffff":"rgba(26, 31, 44, 0.1)",color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",border:o?"2px solid #1a1f2c":"none",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontWeight:400}));Y(z)(({theme:e,completed:t,current:o})=>({color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",fontSize:"14px",fontWeight:o?500:400,textAlign:"center",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"}));const l1=Y(ke)(({theme:e})=>({textTransform:"none",fontWeight:400,letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',padding:"8px 24px",borderRadius:"4px",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)"}})),d1="AIzaSyDQngnSe6or2muwiDaov5HV02fk-4OiZaM",c1=["Roboto","Open Sans","Lato","Montserrat","Poppins","Oswald","Raleway","Merriweather","Nunito","Quicksand","Source Sans Pro","Inter"];function p1(e){const t=e.replace(/ /g,"+"),o=`google-font-${t}`;if(!document.getElementById(o)){const i=document.createElement("link");i.id=o,i.rel="stylesheet",i.href=`https://fonts.googleapis.com/css?family=${t}`,document.head.appendChild(i)}}const jo=(e,t)=>{if(!e)return`rgba(255, 255, 255, ${t})`;e=e.replace("#","");const o=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return`rgba(${o}, ${i}, ${r}, ${t})`},f1=({backbox:e,setBackbox:t,backboxError:o,extraComments:i,setExtraComments:r,panelDesign:s,placedIcons:a,ICON_COLOR_FILTERS:d,ralColors:x})=>{const u=x.find(p=>p.hex===s.backgroundColor);return Object.keys(d).find(p=>p===s.iconColor),n.jsxs(y,{sx:{width:400,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.12), 0 4px 16px rgba(0,0,0,0.08)",border:"1px solid rgba(255,255,255,0.8)",overflow:"hidden",position:"relative"},children:[n.jsx(y,{sx:{background:"linear-gradient(135deg, #1a1f2c 0%, #2c3e50 100%)",color:"#ffffff",p:2.5,textAlign:"center",position:"relative","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)"}},children:n.jsx(z,{variant:"h6",sx:{fontWeight:600,letterSpacing:"0.5px",fontSize:"18px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Panel Configuration Summary"})}),n.jsx(y,{sx:{p:3},children:n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#4CAF50",flexShrink:0}}),"Selected Icons (",a.filter(p=>p.label&&p.label.trim()!=="").length,")"]}),a.filter(p=>p.label&&p.label.trim()!=="").length>0?n.jsx(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500,lineHeight:1.4},children:a.filter(p=>p.label&&p.label.trim()!=="").map((p,v,j)=>n.jsxs("span",{children:[p.label,v<j.length-1?", ":""]},p.id))}):n.jsx(z,{variant:"body2",sx:{color:"#6c757d",fontStyle:"italic",fontSize:"14px"},children:"No icons selected yet"})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#FF6B35",flexShrink:0}}),"Color Configuration"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.backgroundColor||"#ffffff",border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Panel: ",u?`RAL ${u.code}`:"Default"]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.iconColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Icons: ",At(s.iconColor)]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.textColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Text: ",s.textColor]})]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#9C27B0",flexShrink:0}}),"Typography Settings"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Font: ",s.fonts||"Default"]}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Size: ",s.fontSize||"12px"]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Backbox Details *"}),n.jsx("input",{type:"text",value:e,onChange:p=>{t(p.target.value)},placeholder:"Enter backbox details...",style:{width:"100%",padding:"8px",marginBottom:"8px",border:o?"1px solid red":"1px solid #ccc",borderRadius:"4px"}}),o&&n.jsx("div",{style:{color:"red",fontSize:"12px"},children:o})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Additional Comments (Optional)"}),n.jsx("textarea",{value:i,onChange:p=>r(p.target.value),placeholder:"Enter any additional comments...",style:{width:"100%",minHeight:"48px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]})]})})]})},x1=[{top:"23px",left:"33px"},{top:"23px",left:"136px"},{top:"23px",left:"233px"},{top:"123px",left:"33px"},{top:"123px",left:"136px"},{top:"123px",left:"233px"},{top:"218px",left:"33px"},{top:"218px",left:"136px"},{top:"218px",left:"233px"}];x1.map(e=>({...e,left:parseInt(e.left)+320+"px"}));const g1=()=>{var Be,De,$e,c;const e=lt(),t=Ze(),o=gt(),[i,r]=h.useState({}),[s,a]=h.useState([]),[d,x]=h.useState(null),[u,p]=h.useState([]),[v,j]=h.useState({}),[_,k]=h.useState(""),[B,E]=h.useState(null),[w,F]=h.useState(null);Array.from(new Set(u.map(b=>b.iconId)));const[R,M]=h.useState(2),[l,O]=h.useState({backgroundColor:"",fonts:"",backlight:"",iconColor:"#000000",plasticColor:"",textColor:"#000000",fontSize:"12px",iconSize:"40px"}),[ne,Z]=h.useState(""),[re,X]=h.useState(""),[te,Se]=h.useState(""),[Pe,ie]=h.useState(c1),[he,pe]=h.useState(""),[de,N]=h.useState(!1),[V,$]=h.useState(!1),L=h.useRef(null),J={"#000000":"brightness(0) saturate(100%)","#FFFFFF":"brightness(0) saturate(100%) invert(1)","#808080":"brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(0%) hue-rotate(148deg) brightness(99%) contrast(91%)","#FF0000":"brightness(0) saturate(100%) invert(13%) sepia(93%) saturate(7464%) hue-rotate(0deg) brightness(113%) contrast(109%)","#0000FF":"brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(6495%) hue-rotate(247deg) brightness(98%) contrast(141%)","#008000":"brightness(0) saturate(100%) invert(23%) sepia(98%) saturate(3025%) hue-rotate(101deg) brightness(94%) contrast(104%)"},[U,H]=h.useState({}),{projectName:fe,projectCode:le}=h.useContext(tt),[Le,Q]=h.useState("Arial"),[We,W]=h.useState(null),xe=((Be=o.state)==null?void 0:Be.editMode)||!1,ge=(De=o.state)==null?void 0:De.panelIndex,oe=($e=o.state)==null?void 0:$e.panelData;if(console.log("RENDER",{backbox:ne,extraComments:re}),h.useEffect(()=>{wt(()=>Promise.resolve().then(()=>kt),void 0).then(b=>{r(b.default),a(b.iconCategories.filter(g=>g!=="TAG"))})},[]),h.useEffect(()=>{if(xe&&oe){if(oe.panelDesign&&(O(oe.panelDesign),Z(oe.panelDesign.backbox||""),X(oe.panelDesign.extraComments||"")),oe.icons){const b=oe.icons.filter(m=>m.iconId).map(m=>({id:Date.now()+Math.random(),iconId:m.iconId,src:m.src||"",label:m.label||"",position:m.position,category:m.category||""}));p(b);const g={};oe.icons.forEach(m=>{m.text&&(g[m.position]=m.text)}),j(g)}M(3)}},[xe,oe]),!e)throw new Error("CartContext must be used within a CartProvider");const{addToCart:Ie,updatePanel:Te}=e;h.useEffect(()=>{s.length>0&&k(s[0])},[s]);const Ve=(b,g)=>{const m=b.target.value;j(C=>({...C,[g]:m}))},je=b=>{p(g=>g.filter(m=>m.id!==b))},Ue=()=>{if(!ne.trim()){Se("Please provide backbox details before adding the panel to your project.");return}const b={type:"X2H",icons:Array.from({length:Re.length}).map((g,m)=>{const C=u.find(P=>P.position===m);return{iconId:(C==null?void 0:C.iconId)||null,src:(C==null?void 0:C.src)||"",label:(C==null?void 0:C.label)||"",position:m,text:v[m]||"",category:(C==null?void 0:C.category)||void 0}}).filter(g=>g.iconId||g.text),quantity:1,panelDesign:{...l,backbox:ne,extraComments:re}};xe&&ge!==void 0?(Te(ge,b),t("/cart")):Ie(b)},Ae=Object.entries(i).filter(([b,g])=>g.category===_&&g.category!=="TAG").map(([b,g])=>({id:b,src:g.src,label:g.label,category:g.category})),Fe=(b,g)=>{"position"in g?b.dataTransfer.setData("text/plain",JSON.stringify({type:"placed",id:g.id,position:g.position})):b.dataTransfer.setData("text/plain",JSON.stringify({type:"new",id:g.id})),b.dataTransfer.effectAllowed="move"},_e=(b,g)=>{try{const m=JSON.parse(g);if(m.type==="new"){const C=Ae.find(S=>S.id===m.id);if(!C||(b===9||b===10)&&C.category!=="Sockets"||C.category==="PIR"&&(b!==7&&b!==16||u.some(A=>A.category==="PIR"&&(A.position===7||A.position===16)))||(C.id==="G1"||C.id==="G2")&&b!==0&&b!==1&&b!==3&&b!==4&&b!==6&&b!==7||C.id==="G3"&&b!==1&&b!==2&&b!==4&&b!==5&&b!==7&&b!==8||C.category==="Sockets"&&(b!==9&&b!==10||u.some(A=>A.category==="Sockets"&&A.position===b))||u.some(S=>S.position===b))return;const f={id:Date.now(),iconId:C.id,src:C.src,label:C.label,position:b,category:C.category};p(S=>[...S,f])}else if(m.type==="placed"){const C=u.find(f=>f.id===m.id),P=u.find(f=>f.position===b);if(!C||(b===9||b===10)&&C.category!=="Sockets"||(m.position===9||m.position===10)&&P&&P.category!=="Sockets"||C.category==="PIR"&&b!==7&&b!==16||(P==null?void 0:P.category)==="PIR"&&m.position!==7&&m.position!==16||(C.iconId==="G1"||C.iconId==="G2")&&(b===2||b===5||b===8)||((P==null?void 0:P.iconId)==="G1"||(P==null?void 0:P.iconId)==="G2")&&(m.position===2||m.position===5||m.position===8)||C.iconId==="G3"&&(b===0||b===3||b===6)||(P==null?void 0:P.iconId)==="G3"&&(m.position===0||m.position===3||m.position===6)||C.category==="Sockets"&&b!==9&&b!==10||(P==null?void 0:P.category)==="Sockets"&&m.position!==9&&m.position!==10)return;p(f=>f.map(S=>S.id===C.id?{...S,position:b}:S.position===b?{...S,position:m.position}:S)),j(f=>{const S={...f},A=f[m.position],T=f[b];return A!==void 0?S[b]=A:delete S[b],T!==void 0?S[m.position]=T:delete S[m.position],S})}}catch(m){console.error("Error handling drop:",m)}},He=b=>{F(b)},D=()=>{F(null)},I=b=>{const g=u.find(q=>q.position===b),m=v[b],C=(g==null?void 0:g.category)==="PIR",P=w===b,f=B===b,S=!!U[b];l.iconSize;const A=Re[b]||{top:"0px",left:"0px"},T=C?"40px":(g==null?void 0:g.category)==="Bathroom"?`${parseInt(l.iconSize||"40px")+10}px`:b===9||b===10?"204px":l.iconSize||"40px";return n.jsxs("div",{style:{position:"absolute",...A,width:T,height:T,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",zIndex:2},onDragOver:q=>{q.preventDefault()},onDrop:R===4?void 0:q=>{q.preventDefault();const ee=q.dataTransfer.getData("text/plain");_e(b,ee)},children:[g&&n.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>H(q=>({...q,[b]:!0})),onMouseLeave:()=>H(q=>({...q,[b]:!1})),children:[n.jsx("img",{src:g.src,alt:g.label,draggable:R!==4,onDragStart:R!==4?q=>Fe(q,g):void 0,style:{width:T,height:T,objectFit:"contain",marginBottom:"5px",position:"relative",zIndex:1,marginTop:C?"20px":"0",cursor:R!==4?"move":"default",filter:!C&&(g==null?void 0:g.category)!=="Sockets"?J[l.iconColor]:void 0,transition:"filter 0.2s"}}),R!==4&&n.jsx("button",{onClick:q=>{q.stopPropagation(),je(g.id)},style:{position:"absolute",top:"-8px",right:"-8px",background:"rgba(220, 53, 69, 0.9)",color:"white",border:"2px solid rgba(255, 255, 255, 0.8)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",padding:0,lineHeight:1,zIndex:3,opacity:S?1:0,transform:S?"scale(1)":"scale(0.8)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseEnter:q=>{q.currentTarget.style.background="rgba(220, 53, 69, 1)",q.currentTarget.style.transform="scale(1.1)",q.currentTarget.style.boxShadow="0 4px 12px rgba(220, 53, 69, 0.4)"},onMouseLeave:q=>{q.currentTarget.style.background="rgba(220, 53, 69, 0.9)",q.currentTarget.style.transform="scale(1)",q.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"},children:""})]}),!C&&(g==null?void 0:g.category)!=="Sockets"&&n.jsx("div",{style:{width:"100%",textAlign:"center",marginTop:g?"-11px":"15px"},children:(b===9||b===10)&&!g?n.jsx("div",{style:{fontSize:"18px",color:"#bbb",fontWeight:600,padding:"16px 0"},children:"drop socket"}):R===4?m&&n.jsx("div",{style:{width:"100%",textAlign:"center",fontSize:l.fontSize||"12px",color:l.textColor||"#000000",fontFamily:l.fonts||void 0,wordBreak:"break-word"},children:m}):n.jsx(n.Fragment,{children:P?n.jsx("input",{type:"text",value:m||"",onChange:q=>Ve(q,b),onBlur:D,autoFocus:!0,style:{width:"100%",padding:"4px",fontSize:l.fontSize||"12px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",outline:"none",background:"rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,color:l.textColor||"#000000",marginTop:"0px",marginLeft:"-40px"}}):n.jsx("div",{onClick:()=>He(b),style:{fontSize:l.fontSize||"12px",color:m?l.textColor||"#000000":"#999999",wordBreak:"break-word",width:"120px",textAlign:"center",padding:"4px",cursor:"pointer",borderRadius:"4px",backgroundColor:f?"rgba(255, 255, 255, 0.1)":"transparent",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,marginLeft:"-40px"},children:m||"Add text"})})})]},b)},K=[{step:1,label:"Select Panel Type"},{step:2,label:"Select your icons"},{step:3,label:"Select Panel Design"},{step:4,label:"Review panel details"}],G=R-1,se=()=>n.jsx(y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:4,mt:4},children:K.map((b,g)=>n.jsxs(ft.Fragment,{children:[n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[n.jsx(y,{sx:{width:32,height:32,borderRadius:"50%",background:g===G?"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)":"#e0e0e0",color:g===G?"#fff":"#888",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,boxShadow:g===G?"0 2px 8px #1976d233":"none",border:g===G?"2px solid #1976d2":"2px solid #e0e0e0",mb:1,transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"},children:b.step}),n.jsx(z,{sx:{color:g===G?"#1976d2":"#888",fontWeight:g===G?600:400,fontSize:14,textAlign:"center",maxWidth:110,letterSpacing:.2},children:b.label})]}),g<K.length-1&&n.jsx(y,{sx:{flex:1,height:2,background:"#e0e0e0",mx:1,minWidth:24,borderRadius:1}})]},b.step))});h.useEffect(()=>{$(!0),fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${d1}`).then(b=>b.json()).then(b=>{b.items&&(ie(b.items.map(g=>g.family)),console.log("Total Google Fonts loaded:",b.items.length))}).catch(()=>{}).finally(()=>$(!1))},[]),h.useEffect(()=>{function b(g){L.current&&!L.current.contains(g.target)&&N(!1)}return de&&document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[de]),h.useEffect(()=>{l.fonts&&p1(l.fonts)},[l.fonts]);const we=Bt("X2H");console.log("X2H iconPositions length:",(c=we.iconPositions)==null?void 0:c.length,we.iconPositions);const{dimensions:ce,iconLayout:ae,textLayout:Me,specialLayouts:Ke,iconPositions:Re=[]}=we;return n.jsxs(y,{sx:{minHeight:"100vh",background:"#f6f8fa",py:8},children:[(fe||le)&&n.jsx(y,{sx:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:1e3},children:n.jsxs(z,{sx:{fontSize:14,color:"#1a1f2c",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[fe,le&&` - ${le}`]})}),n.jsxs(xt,{maxWidth:"lg",children:[n.jsx(y,{sx:{position:"absolute",top:20,right:30,zIndex:1},children:n.jsx(dt,{})}),n.jsxs(y,{sx:{position:"absolute",top:20,left:30,display:"flex",alignItems:"center",gap:2},children:[n.jsx("img",{src:at,alt:"Logo",style:{height:"40px",width:"auto",cursor:"pointer"},onClick:()=>t("/")}),n.jsx(z,{variant:"h6",component:"h1",sx:{color:"#1a1f2c",fontWeight:400,letterSpacing:"1px",textTransform:"capitalize",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Design your panels"})]}),n.jsx(se,{}),n.jsxs(y,{sx:{display:"flex",justifyContent:"center",gap:2,mb:4},children:[n.jsx(ke,{variant:"outlined",onClick:()=>{R===2?t("/panel/extended"):M(b=>Math.max(2,b-1))},children:"Back"}),R!==4&&n.jsx(ke,{variant:"contained",disabled:R===4,onClick:()=>M(b=>Math.min(4,b+1)),children:"Next"})]}),R===2&&n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",justifyContent:"center"},children:s.map(b=>n.jsx("button",{onClick:()=>k(b),style:{padding:"12px 24px",background:_===b?"#1a1f2c":"#ffffff",color:_===b?"#ffffff":"#1a1f2c",border:"1px solid #1a1f2c",borderRadius:"4px",cursor:"pointer",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontSize:"14px",letterSpacing:"0.5px",transition:"all 0.3s ease",minWidth:"120px"},children:b},b))}),n.jsx("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",justifyContent:"center",maxWidth:"800px",margin:"0 auto"},children:Ae.map(b=>n.jsxs("div",{draggable:!0,onDragStart:g=>Fe(g,b),style:{padding:"12px",background:(d==null?void 0:d.id)===b.id?"#1a1f2c":"#ffffff",borderRadius:"6px",cursor:"grab",display:"flex",flexDirection:"column",alignItems:"center",width:"60px",border:"1px solid #e0e0e0",transition:"all 0.3s ease"},children:[n.jsx("img",{src:b.src,alt:b.label,style:{width:"32px",height:"32px",objectFit:"contain"}}),n.jsx("span",{style:{fontSize:"14px",color:(d==null?void 0:d.id)===b.id?"#ffffff":"#1a1f2c",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"},children:b.label})]},b.id))})]}),R===3&&n.jsxs("div",{style:{display:"flex",gap:"80px",alignItems:"flex-start",justifyContent:"center",maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},children:[n.jsxs("div",{style:{flex:"0 0 480px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"28px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',position:"relative",overflow:"hidden"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, #0056b3 0%, #007bff 50%, #0056b3 100%)",borderRadius:"12px 12px 0 0"}}),n.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",fontWeight:"600",color:"#1a1f2c",textAlign:"center",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:"Panel Design"}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Background Color (RAL)"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"10px",maxHeight:"200px",overflowY:"auto",background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"8px",padding:"16px",border:"1px solid #dee2e6",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.04)"},children:qe.map(b=>n.jsxs("button",{type:"button",onClick:()=>O({...l,backgroundColor:b.hex}),style:{display:"flex",flexDirection:"column",alignItems:"center",border:l.backgroundColor===b.hex?"2px solid #0056b3":"1px solid #dee2e6",borderRadius:"8px",background:l.backgroundColor===b.hex?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",cursor:"pointer",padding:"8px 6px",outline:"none",boxShadow:l.backgroundColor===b.hex?"0 0 0 3px rgba(0, 86, 179, 0.15), 0 2px 8px rgba(0,0,0,0.1)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",transform:l.backgroundColor===b.hex?"translateY(-1px)":"translateY(0)"},children:[n.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"6px",background:b.hex,border:"2px solid #ffffff",marginBottom:"6px",display:"block",boxShadow:"0 2px 4px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.3)"}}),n.jsx("span",{style:{fontSize:"11px",fontWeight:"600",color:"#495057"},children:`RAL ${b.code}`})]},b.code))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Typography Font"]}),n.jsxs("div",{style:{position:"relative"},ref:L,children:[n.jsx("input",{type:"text",placeholder:"Search Google Fonts...",value:he||l.fonts||"",onChange:b=>{const g=b.target.value;pe(g),g===""&&O(m=>({...m,fonts:""})),N(!0)},onFocus:()=>N(!0),style:{padding:"12px 16px",borderRadius:"8px",border:"1px solid #dee2e6",fontSize:"14px",width:"100%",fontFamily:l.fonts||void 0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",boxShadow:"0 2px 6px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",outline:"none"}}),de&&n.jsx("div",{style:{position:"absolute",top:"110%",left:0,right:0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",border:"1px solid #dee2e6",borderRadius:"8px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 16px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.08)"},children:V?n.jsx("div",{style:{padding:16,textAlign:"center",color:"#6c757d"},children:"Loading fonts..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:"inherit",color:"#6c757d",borderBottom:"1px solid #f8f9fa",transition:"background 0.2s ease"},onMouseEnter:b=>b.currentTarget.style.background="#f8f9fa",onMouseLeave:b=>b.currentTarget.style.background="transparent",onClick:()=>{O({...l,fonts:""}),pe(""),N(!1)},children:"Default"}),Pe.filter(b=>b.toLowerCase().includes(he.toLowerCase())).slice(0,20).map(b=>n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:b,background:b===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",transition:"background 0.2s ease",borderBottom:"1px solid #f8f9fa"},onMouseEnter:g=>g.currentTarget.style.background="#f8f9fa",onMouseLeave:g=>g.currentTarget.style.background=b===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",onClick:()=>{O({...l,fonts:b}),pe(b),N(!1)},children:b},b)),Pe.filter(b=>b.toLowerCase().includes(he.toLowerCase())).length===0&&!V&&n.jsx("div",{style:{padding:16,color:"#adb5bd"},children:"No fonts found"})]})})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Font Size"]}),n.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:["10px","12px","14px","16px"].map(b=>n.jsx("button",{onClick:()=>O(g=>({...g,fontSize:b})),style:{padding:"10px 16px",borderRadius:"8px",border:l.fontSize===b?"2px solid #0056b3":"1px solid #dee2e6",background:l.fontSize===b?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.fontSize===b?"#ffffff":"#495057",cursor:"pointer",fontSize:b,fontWeight:l.fontSize===b?"700":"600",transition:"all 0.2s ease",minWidth:"45px",textAlign:"center",boxShadow:l.fontSize===b?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.fontSize===b?"translateY(-1px)":"translateY(0)"},children:b.replace("px","")},b))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Colors"]}),n.jsxs("div",{style:{display:"flex",gap:"28px",alignItems:"flex-start"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Icon Color"}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(J).map(([b])=>n.jsx("button",{onClick:()=>O(g=>({...g,iconColor:b})),style:{width:"36px",height:"36px",borderRadius:"50%",background:b,border:l.iconColor===b?"3px solid #0056b3":"2px solid #dee2e6",cursor:"pointer",padding:0,outline:"none",boxShadow:l.iconColor===b?"0 0 0 3px rgba(0, 86, 179, 0.2), 0 4px 12px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.3)",transition:"all 0.2s ease",transform:l.iconColor===b?"scale(1.1)":"scale(1)"}},b))})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Text Color"}),n.jsx("input",{type:"color",value:l.textColor,onChange:b=>O(g=>({...g,textColor:b.target.value})),style:{width:"64px",height:"40px",border:"2px solid #dee2e6",borderRadius:"8px",cursor:"pointer",padding:"2px",background:"#ffffff",boxShadow:"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease"}})]})]})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Icon Size"]}),n.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:["30px","40px","50px"].map(b=>n.jsx("button",{onClick:()=>O(g=>({...g,iconSize:b})),style:{padding:"10px 16px",borderRadius:"8px",border:l.iconSize===b?"2px solid #0056b3":"1px solid #dee2e6",background:l.iconSize===b?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.iconSize===b?"#ffffff":"#495057",cursor:"pointer",fontSize:"14px",fontWeight:l.iconSize===b?"700":"600",transition:"all 0.2s ease",minWidth:"60px",textAlign:"center",boxShadow:l.iconSize===b?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.iconSize===b?"translateY(-1px)":"translateY(0)"},children:b.replace("px","")},b))})]})]})]}),n.jsx("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:n.jsxs("div",{style:{position:"relative",width:"900px",height:"320px",background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${jo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:Re.length}).map((b,g)=>I(g))})]})})]}),R===4&&n.jsx(n.Fragment,{children:n.jsxs("div",{style:{marginTop:"60px",marginBottom:"40px",display:"flex",justifyContent:"center",alignItems:"flex-start",gap:"40px",flexWrap:"wrap"},children:[n.jsx("div",{style:{flex:"0 0 auto"},children:n.jsx(f1,{backbox:ne,setBackbox:b=>{Z(b),te&&Se("")},backboxError:te,extraComments:re,setExtraComments:X,panelDesign:l,placedIcons:u,ICON_COLOR_FILTERS:J,ralColors:qe})}),n.jsxs("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:[n.jsxs("div",{style:{position:"relative",width:"900px",height:"320px",background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${jo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:Re.length}).map((b,g)=>I(g))})]}),n.jsx(y,{sx:{mt:6,display:"flex",justifyContent:"center"},children:n.jsx(l1,{variant:"contained",onClick:Ue,sx:{backgroundColor:"#1a1f2c",color:"#ffffff","&:hover":{backgroundColor:"#2c3e50"}},children:xe?"Update Panel":"Add Panel to Project"})})]})]})}),R===2&&n.jsx("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"center"},children:n.jsxs("div",{style:{position:"relative",width:"900px",height:ce.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${jo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:Re.length}).map((b,g)=>I(g))})]})})]})]})};Y(y)(({theme:e})=>({width:"100%",maxWidth:800,margin:"0 auto",padding:e.spacing(3),marginBottom:e.spacing(6)}));Y(z)(({theme:e})=>({color:"#1a1f2c",fontWeight:400,marginBottom:e.spacing(2),letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'}));Y(y)(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(2),position:"relative","&::before":{content:'""',position:"absolute",top:"50%",left:0,right:0,height:"2px",backgroundColor:"rgba(26, 31, 44, 0.1)",zIndex:0}}));Y(y)(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:1}));Y(y)(({theme:e,completed:t,current:o})=>({width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(1),backgroundColor:t?"#1a1f2c":o?"#ffffff":"rgba(26, 31, 44, 0.1)",color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",border:o?"2px solid #1a1f2c":"none",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontWeight:400}));Y(z)(({theme:e,completed:t,current:o})=>({color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",fontSize:"14px",fontWeight:o?500:400,textAlign:"center",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"}));const u1=Y(ke)(({theme:e})=>({textTransform:"none",fontWeight:400,letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',padding:"8px 24px",borderRadius:"4px",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)"}})),h1="AIzaSyDQngnSe6or2muwiDaov5HV02fk-4OiZaM",b1=["Roboto","Open Sans","Lato","Montserrat","Poppins","Oswald","Raleway","Merriweather","Nunito","Quicksand","Source Sans Pro","Inter"];function m1(e){const t=e.replace(/ /g,"+"),o=`google-font-${t}`;if(!document.getElementById(o)){const i=document.createElement("link");i.id=o,i.rel="stylesheet",i.href=`https://fonts.googleapis.com/css?family=${t}`,document.head.appendChild(i)}}const Co=(e,t)=>{if(!e)return`rgba(255, 255, 255, ${t})`;e=e.replace("#","");const o=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return`rgba(${o}, ${i}, ${r}, ${t})`},y1=({backbox:e,setBackbox:t,backboxError:o,extraComments:i,setExtraComments:r,panelDesign:s,placedIcons:a,ICON_COLOR_FILTERS:d,ralColors:x})=>{const u=x.find(p=>p.hex===s.backgroundColor);return Object.keys(d).find(p=>p===s.iconColor),n.jsxs(y,{sx:{width:400,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.12), 0 4px 16px rgba(0,0,0,0.08)",border:"1px solid rgba(255,255,255,0.8)",overflow:"hidden",position:"relative"},children:[n.jsx(y,{sx:{background:"linear-gradient(135deg, #1a1f2c 0%, #2c3e50 100%)",color:"#ffffff",p:2.5,textAlign:"center",position:"relative","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)"}},children:n.jsx(z,{variant:"h6",sx:{fontWeight:600,letterSpacing:"0.5px",fontSize:"18px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Panel Configuration Summary"})}),n.jsx(y,{sx:{p:3},children:n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#4CAF50",flexShrink:0}}),"Selected Icons (",a.filter(p=>p.label&&p.label.trim()!=="").length,")"]}),a.filter(p=>p.label&&p.label.trim()!=="").length>0?n.jsx(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500,lineHeight:1.4},children:a.filter(p=>p.label&&p.label.trim()!=="").map((p,v,j)=>n.jsxs("span",{children:[p.label,v<j.length-1?", ":""]},p.id))}):n.jsx(z,{variant:"body2",sx:{color:"#6c757d",fontStyle:"italic",fontSize:"14px"},children:"No icons selected yet"})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#FF6B35",flexShrink:0}}),"Color Configuration"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.backgroundColor||"#ffffff",border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Panel: ",u?`RAL ${u.code}`:"Default"]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.iconColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Icons: ",At(s.iconColor)]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.textColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Text: ",s.textColor]})]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#9C27B0",flexShrink:0}}),"Typography Settings"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Font: ",s.fonts||"Default"]}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Size: ",s.fontSize||"12px"]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Backbox Details *"}),n.jsx("input",{type:"text",value:e,onChange:p=>{t(p.target.value)},placeholder:"Enter backbox details...",style:{width:"100%",padding:"8px",marginBottom:"8px",border:o?"1px solid red":"1px solid #ccc",borderRadius:"4px"}}),o&&n.jsx("div",{style:{color:"red",fontSize:"12px"},children:o})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Additional Comments (Optional)"}),n.jsx("textarea",{value:i,onChange:p=>r(p.target.value),placeholder:"Enter any additional comments...",style:{width:"100%",minHeight:"48px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]})]})})]})},v1=()=>{var Be,De,$e;const e=lt(),t=Ze(),o=gt(),[i,r]=h.useState({}),[s,a]=h.useState([]),[d,x]=h.useState(null),[u,p]=h.useState([]),[v,j]=h.useState({}),[_,k]=h.useState(""),[B,E]=h.useState(null),[w,F]=h.useState(null);Array.from(new Set(u.map(c=>c.iconId)));const[R,M]=h.useState(2),[l,O]=h.useState({backgroundColor:"",fonts:"",backlight:"",iconColor:"#000000",plasticColor:"",textColor:"#000000",fontSize:"12px",iconSize:"40px"}),[ne,Z]=h.useState(""),[re,X]=h.useState(""),[te,Se]=h.useState(""),[Pe,ie]=h.useState(b1),[he,pe]=h.useState(""),[de,N]=h.useState(!1),[V,$]=h.useState(!1),L=h.useRef(null),J={"#000000":"brightness(0) saturate(100%)","#FFFFFF":"brightness(0) saturate(100%) invert(1)","#808080":"brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(0%) hue-rotate(148deg) brightness(99%) contrast(91%)","#FF0000":"brightness(0) saturate(100%) invert(13%) sepia(93%) saturate(7464%) hue-rotate(0deg) brightness(113%) contrast(109%)","#0000FF":"brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(6495%) hue-rotate(247deg) brightness(98%) contrast(141%)","#008000":"brightness(0) saturate(100%) invert(23%) sepia(98%) saturate(3025%) hue-rotate(101deg) brightness(94%) contrast(104%)"},[U,H]=h.useState({}),{projectName:fe,projectCode:le}=h.useContext(tt),[Le,Q]=h.useState("Arial"),[We,W]=h.useState(null),xe=((Be=o.state)==null?void 0:Be.editMode)||!1,ge=(De=o.state)==null?void 0:De.panelIndex,oe=($e=o.state)==null?void 0:$e.panelData;if(console.log("RENDER",{backbox:ne,extraComments:re}),h.useEffect(()=>{wt(()=>Promise.resolve().then(()=>kt),void 0).then(c=>{r(c.default),a(c.iconCategories.filter(b=>b!=="TAG"))})},[]),h.useEffect(()=>{if(xe&&oe){if(oe.panelDesign&&(O(oe.panelDesign),Z(oe.panelDesign.backbox||""),X(oe.panelDesign.extraComments||"")),oe.icons){const c=oe.icons.filter(g=>g.iconId).map(g=>({id:Date.now()+Math.random(),iconId:g.iconId,src:g.src||"",label:g.label||"",position:g.position,category:g.category||""}));p(c);const b={};oe.icons.forEach(g=>{g.text&&(b[g.position]=g.text)}),j(b)}M(3)}},[xe,oe]),!e)throw new Error("CartContext must be used within a CartProvider");const{addToCart:Ie,updatePanel:Te}=e;h.useEffect(()=>{s.length>0&&k(s[0])},[s]);const Ve=(c,b)=>{const g=c.target.value;j(m=>({...m,[b]:g}))},je=c=>{p(b=>b.filter(g=>g.id!==c))},Ue=()=>{if(!ne.trim()){Se("Please provide backbox details before adding the panel to your project.");return}const c={type:"X2V",icons:Array.from({length:18}).map((b,g)=>{const m=u.find(C=>C.position===g);return{iconId:(m==null?void 0:m.iconId)||null,src:(m==null?void 0:m.src)||"",label:(m==null?void 0:m.label)||"",position:g,text:v[g]||"",category:(m==null?void 0:m.category)||void 0}}).filter(b=>b.iconId||b.text),quantity:1,panelDesign:{...l,backbox:ne,extraComments:re}};xe&&ge!==void 0?(Te(ge,c),t("/cart")):Ie(c)},Ae=Object.entries(i).filter(([c,b])=>b.category===_&&b.category!=="TAG").map(([c,b])=>({id:c,src:b.src,label:b.label,category:b.category})),Fe=(c,b)=>{"position"in b?c.dataTransfer.setData("text/plain",JSON.stringify({type:"placed",id:b.id,position:b.position})):c.dataTransfer.setData("text/plain",JSON.stringify({type:"new",id:b.id})),c.dataTransfer.effectAllowed="move"},_e=(c,b)=>{try{const g=JSON.parse(b);if(g.type==="new"){const m=Ae.find(f=>f.id===g.id);if(!m||(c===9||c===10)&&m.category!=="Sockets"||m.category==="PIR"&&(c!==7&&c!==16||u.some(S=>S.category==="PIR"&&(S.position===7||S.position===16)))||(m.id==="G1"||m.id==="G2")&&c!==0&&c!==1&&c!==3&&c!==4&&c!==6&&c!==7||m.id==="G3"&&c!==1&&c!==2&&c!==4&&c!==5&&c!==7&&c!==8||m.category==="Sockets"&&(c!==9&&c!==10||u.some(S=>S.category==="Sockets"&&S.position===c))||u.some(f=>f.position===c))return;const P={id:Date.now(),iconId:m.id,src:m.src,label:m.label,position:c,category:m.category};p(f=>[...f,P])}else if(g.type==="placed"){const m=u.find(P=>P.id===g.id),C=u.find(P=>P.position===c);if(!m||(c===9||c===10)&&m.category!=="Sockets"||(g.position===9||g.position===10)&&C&&C.category!=="Sockets"||m.category==="PIR"&&c!==7&&c!==16||(C==null?void 0:C.category)==="PIR"&&g.position!==7&&g.position!==16||(m.iconId==="G1"||m.iconId==="G2")&&(c===2||c===5||c===8)||((C==null?void 0:C.iconId)==="G1"||(C==null?void 0:C.iconId)==="G2")&&(g.position===2||g.position===5||g.position===8)||m.iconId==="G3"&&(c===0||c===3||c===6)||(C==null?void 0:C.iconId)==="G3"&&(g.position===0||g.position===3||g.position===6)||m.category==="Sockets"&&c!==9&&c!==10||(C==null?void 0:C.category)==="Sockets"&&g.position!==9&&g.position!==10)return;p(P=>P.map(f=>f.id===m.id?{...f,position:c}:f.position===c?{...f,position:g.position}:f)),j(P=>{const f={...P},S=P[g.position],A=P[c];return S!==void 0?f[c]=S:delete f[c],A!==void 0?f[g.position]=A:delete f[g.position],f})}}catch(g){console.error("Error handling drop:",g)}},He=c=>{F(c)},D=()=>{F(null)},I=c=>{const b=u.find(T=>T.position===c),g=v[c],m=(b==null?void 0:b.category)==="PIR",C=w===c,P=B===c,f=!!U[c];l.iconSize;const S=(Re==null?void 0:Re[c])||{top:"0px",left:"0px"},A=m?"40px":(b==null?void 0:b.category)==="Bathroom"?`${parseInt(l.iconSize||"40px")+10}px`:c===9||c===10?"240px":l.iconSize||"40px";return n.jsxs("div",{style:{position:"absolute",...S,width:A,height:A,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",zIndex:2},onDragOver:T=>{T.preventDefault()},onDrop:R===4?void 0:T=>{T.preventDefault();const q=T.dataTransfer.getData("text/plain");_e(c,q)},children:[b&&n.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>H(T=>({...T,[c]:!0})),onMouseLeave:()=>H(T=>({...T,[c]:!1})),children:[n.jsx("img",{src:b.src,alt:b.label,draggable:R!==4,onDragStart:R!==4?T=>Fe(T,b):void 0,style:{width:m?"40px":(b==null?void 0:b.category)==="Bathroom"?`${parseInt(l.iconSize||"40px")+10}px`:c===9||c===10?"240px":l.iconSize||"40px",height:m?"40px":(b==null?void 0:b.category)==="Bathroom"?`${parseInt(l.iconSize||"40px")+10}px`:c===9||c===10?"240px":l.iconSize||"40px",objectFit:"contain",marginBottom:"5px",position:"relative",zIndex:1,marginTop:m?"20px":"0",cursor:R!==4?"move":"default",filter:!m&&(b==null?void 0:b.category)!=="Sockets"?J[l.iconColor]:void 0,transition:"filter 0.2s"}}),R!==4&&n.jsx("button",{onClick:T=>{T.stopPropagation(),je(b.id)},style:{position:"absolute",top:"-8px",right:"-8px",background:"rgba(220, 53, 69, 0.9)",color:"white",border:"2px solid rgba(255, 255, 255, 0.8)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",padding:0,lineHeight:1,zIndex:3,opacity:f?1:0,transform:f?"scale(1)":"scale(0.8)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseEnter:T=>{T.currentTarget.style.background="rgba(220, 53, 69, 1)",T.currentTarget.style.transform="scale(1.1)",T.currentTarget.style.boxShadow="0 4px 12px rgba(220, 53, 69, 0.4)"},onMouseLeave:T=>{T.currentTarget.style.background="rgba(220, 53, 69, 0.9)",T.currentTarget.style.transform="scale(1)",T.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"},children:""})]}),!m&&(b==null?void 0:b.category)!=="Sockets"&&n.jsx("div",{style:{width:"100%",textAlign:"center",marginTop:b?"-11px":"15px"},children:(c===9||c===10)&&!b?n.jsx("div",{style:{fontSize:"18px",color:"#bbb",fontWeight:600,padding:"16px 0"},children:"drop socket"}):R===4?g&&n.jsx("div",{style:{width:"100%",textAlign:"center",fontSize:l.fontSize||"12px",color:l.textColor||"#000000",fontFamily:l.fonts||void 0,wordBreak:"break-word"},children:g}):n.jsx(n.Fragment,{children:C?n.jsx("input",{type:"text",value:g||"",onChange:T=>Ve(T,c),onBlur:D,autoFocus:!0,style:{width:"100%",padding:"4px",fontSize:l.fontSize||"12px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",outline:"none",background:"rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,color:l.textColor||"#000000",marginTop:"0px",marginLeft:"-40px"}}):n.jsx("div",{onClick:()=>He(c),style:{fontSize:l.fontSize||"12px",color:g?l.textColor||"#000000":"#999999",wordBreak:"break-word",width:"120px",textAlign:"center",padding:"4px",cursor:"pointer",borderRadius:"4px",backgroundColor:P?"rgba(255, 255, 255, 0.1)":"transparent",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,marginLeft:"-40px"},children:g||"Add text"})})})]},c)},K=[{step:1,label:"Select Panel Type"},{step:2,label:"Select your icons"},{step:3,label:"Select Panel Design"},{step:4,label:"Review panel details"}],G=R-1,se=()=>n.jsx(y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:4,mt:4},children:K.map((c,b)=>n.jsxs(ft.Fragment,{children:[n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[n.jsx(y,{sx:{width:32,height:32,borderRadius:"50%",background:b===G?"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)":"#e0e0e0",color:b===G?"#fff":"#888",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,boxShadow:b===G?"0 2px 8px #1976d233":"none",border:b===G?"2px solid #1976d2":"2px solid #e0e0e0",mb:1,transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"},children:c.step}),n.jsx(z,{sx:{color:b===G?"#1976d2":"#888",fontWeight:b===G?600:400,fontSize:14,textAlign:"center",maxWidth:110,letterSpacing:.2},children:c.label})]}),b<K.length-1&&n.jsx(y,{sx:{flex:1,height:2,background:"#e0e0e0",mx:1,minWidth:24,borderRadius:1}})]},c.step))});h.useEffect(()=>{$(!0),fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${h1}`).then(c=>c.json()).then(c=>{c.items&&(ie(c.items.map(b=>b.family)),console.log("Total Google Fonts loaded:",c.items.length))}).catch(()=>{}).finally(()=>$(!1))},[]),h.useEffect(()=>{function c(b){L.current&&!L.current.contains(b.target)&&N(!1)}return de&&document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[de]),h.useEffect(()=>{l.fonts&&m1(l.fonts)},[l.fonts]);const we=Bt("X2V"),{dimensions:ce,iconLayout:ae,textLayout:Me,specialLayouts:Ke,iconPositions:Re}=we;return n.jsxs(y,{sx:{minHeight:"100vh",background:"#f6f8fa",py:8},children:[(fe||le)&&n.jsx(y,{sx:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:1e3},children:n.jsxs(z,{sx:{fontSize:14,color:"#1a1f2c",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[fe,le&&` - ${le}`]})}),n.jsxs(xt,{maxWidth:"lg",children:[n.jsx(y,{sx:{position:"absolute",top:20,right:30,zIndex:1},children:n.jsx(dt,{})}),n.jsxs(y,{sx:{position:"absolute",top:20,left:30,display:"flex",alignItems:"center",gap:2},children:[n.jsx("img",{src:at,alt:"Logo",style:{height:"40px",width:"auto",cursor:"pointer"},onClick:()=>t("/")}),n.jsx(z,{variant:"h6",component:"h1",sx:{color:"#1a1f2c",fontWeight:400,letterSpacing:"1px",textTransform:"capitalize",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Design your panels"})]}),n.jsx(se,{}),n.jsxs(y,{sx:{display:"flex",justifyContent:"center",gap:2,mb:4},children:[n.jsx(ke,{variant:"outlined",onClick:()=>{R===2?t("/panel/extended"):M(c=>Math.max(2,c-1))},children:"Back"}),R!==4&&n.jsx(ke,{variant:"contained",disabled:R===4,onClick:()=>M(c=>Math.min(4,c+1)),children:"Next"})]}),R===2&&n.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"40px",justifyContent:"center",alignItems:"flex-start",marginBottom:"20px"},children:[n.jsx("div",{style:{minWidth:140,display:"flex",flexDirection:"column",gap:"10px",alignItems:"flex-end"},children:s.map(c=>n.jsx("button",{onClick:()=>k(c),style:{padding:"12px 24px",background:_===c?"#1a1f2c":"#ffffff",color:_===c?"#ffffff":"#1a1f2c",border:"1px solid #1a1f2c",borderRadius:"4px",cursor:"pointer",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontSize:"14px",letterSpacing:"0.5px",transition:"all 0.3s ease",minWidth:"120px",textAlign:"right"},children:c},c))}),n.jsx("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",justifyContent:"flex-start",maxWidth:"400px",margin:"0",minHeight:"320px",alignItems:"flex-start"},children:Ae.map(c=>n.jsxs("div",{draggable:!0,onDragStart:b=>Fe(b,c),style:{padding:"12px",background:(d==null?void 0:d.id)===c.id?"#1a1f2c":"#ffffff",borderRadius:"6px",cursor:"grab",display:"flex",flexDirection:"column",alignItems:"center",width:"60px",border:"1px solid #e0e0e0",transition:"all 0.3s ease"},children:[n.jsx("img",{src:c.src,alt:c.label,style:{width:"32px",height:"32px",objectFit:"contain"}}),n.jsx("span",{style:{fontSize:"14px",color:(d==null?void 0:d.id)===c.id?"#ffffff":"#1a1f2c",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"},children:c.label})]},c.id))}),n.jsx("div",{style:{flex:"0 0 340px",display:"flex",justifyContent:"center",alignItems:"flex-start",marginTop:0},children:n.jsxs("div",{style:{position:"relative",width:"320px",height:ce.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${Co(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:Re?Re.length:0}).map((c,b)=>I(b))})]})})]}),R===3&&n.jsxs("div",{style:{display:"flex",gap:"80px",alignItems:"flex-start",justifyContent:"center",maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},children:[n.jsxs("div",{style:{flex:"0 0 480px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"28px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',position:"relative",overflow:"hidden"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, #0056b3 0%, #007bff 50%, #0056b3 100%)",borderRadius:"12px 12px 0 0"}}),n.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",fontWeight:"600",color:"#1a1f2c",textAlign:"center",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:"Panel Design"}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Background Color (RAL)"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"10px",maxHeight:"200px",overflowY:"auto",background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"8px",padding:"16px",border:"1px solid #dee2e6",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.04)"},children:qe.map(c=>n.jsxs("button",{type:"button",onClick:()=>O({...l,backgroundColor:c.hex}),style:{display:"flex",flexDirection:"column",alignItems:"center",border:l.backgroundColor===c.hex?"2px solid #0056b3":"1px solid #dee2e6",borderRadius:"8px",background:l.backgroundColor===c.hex?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",cursor:"pointer",padding:"8px 6px",outline:"none",boxShadow:l.backgroundColor===c.hex?"0 0 0 3px rgba(0, 86, 179, 0.15), 0 2px 8px rgba(0,0,0,0.1)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",transform:l.backgroundColor===c.hex?"translateY(-1px)":"translateY(0)"},children:[n.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"6px",background:c.hex,border:"2px solid #ffffff",marginBottom:"6px",display:"block",boxShadow:"0 2px 4px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.3)"}}),n.jsx("span",{style:{fontSize:"11px",fontWeight:"600",color:"#495057"},children:`RAL ${c.code}`})]},c.code))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Typography Font"]}),n.jsxs("div",{style:{position:"relative"},ref:L,children:[n.jsx("input",{type:"text",placeholder:"Search Google Fonts...",value:he||l.fonts||"",onChange:c=>{const b=c.target.value;pe(b),b===""&&O(g=>({...g,fonts:""})),N(!0)},onFocus:()=>N(!0),style:{padding:"12px 16px",borderRadius:"8px",border:"1px solid #dee2e6",fontSize:"14px",width:"100%",fontFamily:l.fonts||void 0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",boxShadow:"0 2px 6px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",outline:"none"}}),de&&n.jsx("div",{style:{position:"absolute",top:"110%",left:0,right:0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",border:"1px solid #dee2e6",borderRadius:"8px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 16px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.08)"},children:V?n.jsx("div",{style:{padding:16,textAlign:"center",color:"#6c757d"},children:"Loading fonts..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:"inherit",color:"#6c757d",borderBottom:"1px solid #f8f9fa",transition:"background 0.2s ease"},onMouseEnter:c=>c.currentTarget.style.background="#f8f9fa",onMouseLeave:c=>c.currentTarget.style.background="transparent",onClick:()=>{O({...l,fonts:""}),pe(""),N(!1)},children:"Default"}),Pe.filter(c=>c.toLowerCase().includes(he.toLowerCase())).slice(0,20).map(c=>n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:c,background:c===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",transition:"background 0.2s ease",borderBottom:"1px solid #f8f9fa"},onMouseEnter:b=>b.currentTarget.style.background="#f8f9fa",onMouseLeave:b=>b.currentTarget.style.background=c===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",onClick:()=>{O({...l,fonts:c}),pe(c),N(!1)},children:c},c)),Pe.filter(c=>c.toLowerCase().includes(he.toLowerCase())).length===0&&!V&&n.jsx("div",{style:{padding:16,color:"#adb5bd"},children:"No fonts found"})]})})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Font Size"]}),n.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:["10px","12px","14px","16px"].map(c=>n.jsx("button",{onClick:()=>O(b=>({...b,fontSize:c})),style:{padding:"10px 16px",borderRadius:"8px",border:l.fontSize===c?"2px solid #0056b3":"1px solid #dee2e6",background:l.fontSize===c?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.fontSize===c?"#ffffff":"#495057",cursor:"pointer",fontSize:c,fontWeight:l.fontSize===c?"700":"600",transition:"all 0.2s ease",minWidth:"45px",textAlign:"center",boxShadow:l.fontSize===c?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.fontSize===c?"translateY(-1px)":"translateY(0)"},children:c.replace("px","")},c))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Colors"]}),n.jsxs("div",{style:{display:"flex",gap:"28px",alignItems:"flex-start"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Icon Color"}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(J).map(([c])=>n.jsx("button",{onClick:()=>O(b=>({...b,iconColor:c})),style:{width:"36px",height:"36px",borderRadius:"50%",background:c,border:l.iconColor===c?"3px solid #0056b3":"2px solid #dee2e6",cursor:"pointer",padding:0,outline:"none",boxShadow:l.iconColor===c?"0 0 0 3px rgba(0, 86, 179, 0.2), 0 4px 12px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.3)",transition:"all 0.2s ease",transform:l.iconColor===c?"scale(1.1)":"scale(1)"}},c))})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Text Color"}),n.jsx("input",{type:"color",value:l.textColor,onChange:c=>O(b=>({...b,textColor:c.target.value})),style:{width:"64px",height:"40px",border:"2px solid #dee2e6",borderRadius:"8px",cursor:"pointer",padding:"2px",background:"#ffffff",boxShadow:"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease"}})]})]})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Icon Size"]}),n.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:["30px","40px","50px"].map(c=>n.jsx("button",{onClick:()=>O(b=>({...b,iconSize:c})),style:{padding:"10px 16px",borderRadius:"8px",border:l.iconSize===c?"2px solid #0056b3":"1px solid #dee2e6",background:l.iconSize===c?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.iconSize===c?"#ffffff":"#495057",cursor:"pointer",fontSize:"14px",fontWeight:l.iconSize===c?"700":"600",transition:"all 0.2s ease",minWidth:"60px",textAlign:"center",boxShadow:l.iconSize===c?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.iconSize===c?"translateY(-1px)":"translateY(0)"},children:c.replace("px","")},c))})]})]})]}),n.jsx("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:n.jsxs("div",{style:{position:"relative",width:"320px",height:ce.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${Co(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:Re?Re.length:0}).map((c,b)=>I(b))})]})})]}),R===4&&n.jsx(n.Fragment,{children:n.jsxs("div",{style:{marginTop:"60px",marginBottom:"40px",display:"flex",justifyContent:"center",alignItems:"flex-start",gap:"40px",flexWrap:"wrap"},children:[n.jsx("div",{style:{flex:"0 0 auto"},children:n.jsx(y1,{backbox:ne,setBackbox:c=>{Z(c),te&&Se("")},backboxError:te,extraComments:re,setExtraComments:X,panelDesign:l,placedIcons:u,ICON_COLOR_FILTERS:J,ralColors:qe})}),n.jsxs("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:[n.jsxs("div",{style:{position:"relative",width:"320px",height:ce.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${Co(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:Re?Re.length:0}).map((c,b)=>I(b))})]}),n.jsx(y,{sx:{mt:6,display:"flex",justifyContent:"center"},children:n.jsx(u1,{variant:"contained",onClick:Ue,sx:{backgroundColor:"#1a1f2c",color:"#ffffff","&:hover":{backgroundColor:"#2c3e50"}},children:xe?"Update Panel":"Add Panel to Project"})})]})]})})]})]})};var Oi={},S1=Nt;Object.defineProperty(Oi,"__esModule",{value:!0});var Cl=Oi.default=void 0,j1=S1(Ut()),C1=n;Cl=Oi.default=(0,j1.default)((0,C1.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward");Y(y)(({theme:e})=>({width:"100%",maxWidth:800,margin:"0 auto",padding:e.spacing(3),marginBottom:e.spacing(6)}));Y(z)(({theme:e})=>({color:"#1a1f2c",fontWeight:400,marginBottom:e.spacing(2),letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'}));Y(y)(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(2),position:"relative","&::before":{content:'""',position:"absolute",top:"50%",left:0,right:0,height:"2px",backgroundColor:"rgba(26, 31, 44, 0.1)",zIndex:0}}));Y(y)(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:1}));Y(y)(({theme:e,completed:t,current:o})=>({width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(1),backgroundColor:t?"#1a1f2c":o?"#ffffff":"rgba(26, 31, 44, 0.1)",color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",border:o?"2px solid #1a1f2c":"none",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontWeight:400}));Y(z)(({theme:e,completed:t,current:o})=>({color:t||o?"#1a1f2c":"rgba(26, 31, 44, 0.5)",fontSize:"14px",fontWeight:o?500:400,textAlign:"center",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"}));const w1=Y(ke)(({theme:e})=>({textTransform:"none",fontWeight:400,letterSpacing:"0.5px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',padding:"8px 24px",borderRadius:"4px",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)"}})),k1="AIzaSyDQngnSe6or2muwiDaov5HV02fk-4OiZaM",P1=["Roboto","Open Sans","Lato","Montserrat","Poppins","Oswald","Raleway","Merriweather","Nunito","Quicksand","Source Sans Pro","Inter"];function T1(e){const t=e.replace(/ /g,"+"),o=`google-font-${t}`;if(!document.getElementById(o)){const i=document.createElement("link");i.id=o,i.rel="stylesheet",i.href=`https://fonts.googleapis.com/css?family=${t}`,document.head.appendChild(i)}}const wo=(e,t)=>{if(!e)return`rgba(255, 255, 255, ${t})`;e=e.replace("#","");const o=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return`rgba(${o}, ${i}, ${r}, ${t})`},R1=({backbox:e,setBackbox:t,backboxError:o,extraComments:i,setExtraComments:r,panelDesign:s,placedIcons:a,ICON_COLOR_FILTERS:d,ralColors:x})=>{const u=x.find(p=>p.hex===s.backgroundColor);return Object.keys(d).find(p=>p===s.iconColor),n.jsxs(y,{sx:{width:400,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.12), 0 4px 16px rgba(0,0,0,0.08)",border:"1px solid rgba(255,255,255,0.8)",overflow:"hidden",position:"relative"},children:[n.jsx(y,{sx:{background:"linear-gradient(135deg, #1a1f2c 0%, #2c3e50 100%)",color:"#ffffff",p:2.5,textAlign:"center",position:"relative","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)"}},children:n.jsx(z,{variant:"h6",sx:{fontWeight:600,letterSpacing:"0.5px",fontSize:"18px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Panel Configuration Summary"})}),n.jsx(y,{sx:{p:3},children:n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#4CAF50",flexShrink:0}}),"Selected Icons (",a.filter(p=>p.label&&p.label.trim()!=="").length,")"]}),a.filter(p=>p.label&&p.label.trim()!=="").length>0?n.jsx(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500,lineHeight:1.4},children:a.filter(p=>p.label&&p.label.trim()!=="").map((p,v,j)=>n.jsxs("span",{children:[p.label,v<j.length-1?", ":""]},p.id))}):n.jsx(z,{variant:"body2",sx:{color:"#6c757d",fontStyle:"italic",fontSize:"14px"},children:"No icons selected yet"})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#FF6B35",flexShrink:0}}),"Color Configuration"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.backgroundColor||"#ffffff",border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Panel: ",u?`RAL ${u.code}`:"Default"]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.iconColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Icons: ",At(s.iconColor)]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:s.textColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Text: ",s.textColor]})]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#9C27B0",flexShrink:0}}),"Typography Settings"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Font: ",s.fonts||"Default"]}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Size: ",s.fontSize||"12px"]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Backbox Details *"}),n.jsx("input",{type:"text",value:e,onChange:p=>{t(p.target.value)},placeholder:"Enter backbox details...",style:{width:"100%",padding:"8px",marginBottom:"8px",border:o?"1px solid red":"1px solid #ccc",borderRadius:"4px"}}),o&&n.jsx("div",{style:{color:"red",fontSize:"12px"},children:o})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Additional Comments (Optional)"}),n.jsx("textarea",{value:i,onChange:p=>r(p.target.value),placeholder:"Enter any additional comments...",style:{width:"100%",minHeight:"48px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]})]})})]})},I1=()=>{var m,C,P;const e=lt(),t=Ze(),o=gt(),[i,r]=h.useState({}),[s,a]=h.useState([]),[d,x]=h.useState(null),[u,p]=h.useState([]),[v,j]=h.useState({}),[_,k]=h.useState(""),[B,E]=h.useState(null),[w,F]=h.useState(null);Array.from(new Set(u.map(f=>f.iconId)));const[R,M]=h.useState(2),[l,O]=h.useState({backgroundColor:"",fonts:"",backlight:"",iconColor:"#000000",plasticColor:"",textColor:"#000000",fontSize:"12px",iconSize:"40px"}),[ne,Z]=h.useState(""),[re,X]=h.useState(""),[te,Se]=h.useState(""),[Pe,ie]=h.useState(P1),[he,pe]=h.useState(""),[de,N]=h.useState(!1),[V,$]=h.useState(!1),L=h.useRef(null),J={"#000000":"brightness(0) saturate(100%)","#FFFFFF":"brightness(0) saturate(100%) invert(1)","#808080":"brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(0%) hue-rotate(148deg) brightness(99%) contrast(91%)","#FF0000":"brightness(0) saturate(100%) invert(13%) sepia(93%) saturate(7464%) hue-rotate(0deg) brightness(113%) contrast(109%)","#0000FF":"brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(6495%) hue-rotate(247deg) brightness(98%) contrast(141%)","#008000":"brightness(0) saturate(100%) invert(23%) sepia(98%) saturate(3025%) hue-rotate(101deg) brightness(94%) contrast(104%)"},[U,H]=h.useState({}),{projectName:fe,projectCode:le}=h.useContext(tt),[Le,Q]=h.useState("Arial"),[We,W]=h.useState(null),[xe,ge]=h.useState(!1),[oe,Ie]=h.useState(!1),Te=((m=o.state)==null?void 0:m.editMode)||!1,Ve=(C=o.state)==null?void 0:C.panelIndex,je=(P=o.state)==null?void 0:P.panelData;if(console.log("RENDER",{backbox:ne,extraComments:re}),h.useEffect(()=>{wt(()=>Promise.resolve().then(()=>kt),void 0).then(f=>{r(f.default),a(f.iconCategories.filter(S=>S!=="TAG"))})},[]),h.useEffect(()=>{if(Te&&je){if(je.panelDesign&&(O(je.panelDesign),Z(je.panelDesign.backbox||""),X(je.panelDesign.extraComments||""),ge(je.panelDesign.swapUpDown||!1),Ie(je.panelDesign.mirrorVertical||!1)),je.icons){const f=je.icons.filter(A=>A.iconId).map(A=>({id:Date.now()+Math.random(),iconId:A.iconId,src:A.src||"",label:A.label||"",position:A.position,category:A.category||""}));p(f);const S={};je.icons.forEach(A=>{A.text&&(S[A.position]=A.text)}),j(S)}M(3)}},[Te,je]),!e)throw new Error("CartContext must be used within a CartProvider");const{addToCart:Ue,updatePanel:Ae}=e;h.useEffect(()=>{s.length>0&&k(s[0])},[s]);const Fe=(f,S)=>{const A=f.target.value;j(T=>({...T,[S]:A}))},_e=f=>{p(S=>S.filter(A=>A.id!==f))},He=()=>{if(!ne.trim()){Se("Please provide backbox details before adding the panel to your project.");return}const f={type:"X1V",icons:Array.from({length:18}).map((S,A)=>{const T=u.find(q=>q.position===A);return{iconId:(T==null?void 0:T.iconId)||null,src:(T==null?void 0:T.src)||"",label:(T==null?void 0:T.label)||"",position:A,text:v[A]||"",category:(T==null?void 0:T.category)||void 0}}).filter(S=>S.iconId||S.text),quantity:1,panelDesign:{...l,backbox:ne,extraComments:re,swapUpDown:xe,mirrorVertical:oe}};Te&&Ve!==void 0?(Ae(Ve,f),t("/cart")):Ue(f)},D=Object.entries(i).filter(([f,S])=>S.category===_&&S.category!=="TAG").map(([f,S])=>({id:f,src:S.src,label:S.label,category:S.category})),I=(f,S)=>{"position"in S?f.dataTransfer.setData("text/plain",JSON.stringify({type:"placed",id:S.id,position:S.position})):f.dataTransfer.setData("text/plain",JSON.stringify({type:"new",id:S.id})),f.dataTransfer.effectAllowed="move"},K=(f,S)=>{try{const A=JSON.parse(S);if(A.type==="new"){const T=D.find(be=>be.id===A.id);if(!T||f===9&&T.category!=="Sockets"||T.category==="PIR"&&(f!==7&&f!==16||u.some(ve=>ve.category==="PIR"&&(ve.position===7||ve.position===16)))||(T.id==="G1"||T.id==="G2")&&f!==0&&f!==1&&f!==3&&f!==4&&f!==6&&f!==7||T.id==="G3"&&f!==1&&f!==2&&f!==4&&f!==5&&f!==7&&f!==8||T.category==="Sockets"&&(f!==9||u.some(ve=>ve.category==="Sockets"&&ve.position===9))||u.some(be=>be.position===f))return;const ee={id:Date.now(),iconId:T.id,src:T.src,label:T.label,position:f,category:T.category};p(be=>[...be,ee])}else if(A.type==="placed"){const T=u.find(ee=>ee.id===A.id),q=u.find(ee=>ee.position===f);if(!T||f===9&&T.category!=="Sockets"||A.position===9&&q&&q.category!=="Sockets"||T.category==="PIR"&&f!==7&&f!==16||(q==null?void 0:q.category)==="PIR"&&A.position!==7&&A.position!==16||(T.iconId==="G1"||T.iconId==="G2")&&(f===2||f===5||f===8)||((q==null?void 0:q.iconId)==="G1"||(q==null?void 0:q.iconId)==="G2")&&(A.position===2||A.position===5||A.position===8)||T.iconId==="G3"&&(f===0||f===3||f===6)||(q==null?void 0:q.iconId)==="G3"&&(A.position===0||A.position===3||A.position===6)||T.category==="Sockets"&&f!==9||(q==null?void 0:q.category)==="Sockets"&&A.position!==9)return;p(ee=>ee.map(be=>be.id===T.id?{...be,position:f}:be.position===f?{...be,position:A.position}:be)),j(ee=>{const be={...ee},ve=ee[A.position],ut=ee[f];return ve!==void 0?be[f]=ve:delete be[f],ut!==void 0?be[A.position]=ut:delete be[A.position],be})}}catch(A){console.error("Error handling drop:",A)}},G=f=>{F(f)},se=()=>{F(null)},we=()=>{ge(f=>!f)},ce=()=>{Ie(f=>!f)},ae=f=>{const S=u.find(ue=>ue.position===f),A=v[f],T=(S==null?void 0:S.category)==="PIR",q=w===f,ee=B===f,be=!!U[f];l.iconSize;let ve=(g==null?void 0:g[f])||{top:"0px",left:"0px"};if(xe&&(f>=0&&f<=8?ve={...ve,top:parseInt(ve.top)+320+"px"}:f===9&&(ve={...ve,top:"55px"})),oe&&f>=0&&f<=8){const ue=Math.floor(f/3),Pt=f%3;Pt===0?ve={...(g==null?void 0:g[ue*3+2])||ve}:Pt===2&&(ve={...(g==null?void 0:g[ue*3])||ve})}const ut=T?"40px":(S==null?void 0:S.category)==="Bathroom"?`${parseInt(l.iconSize||"40px")+10}px`:f===9?"240px":l.iconSize||"40px";return n.jsxs("div",{style:{position:"absolute",...ve,width:ut,height:ut,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",zIndex:2},onDragOver:ue=>{ue.preventDefault()},onDrop:R===4?void 0:ue=>{ue.preventDefault();const Pt=ue.dataTransfer.getData("text/plain");K(f,Pt)},children:[S&&n.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>H(ue=>({...ue,[f]:!0})),onMouseLeave:()=>H(ue=>({...ue,[f]:!1})),children:[n.jsx("img",{src:S.src,alt:S.label,draggable:R!==4,onDragStart:R!==4?ue=>I(ue,S):void 0,style:{width:T?"40px":(S==null?void 0:S.category)==="Bathroom"?`${parseInt(l.iconSize||"40px")+10}px`:f===9?"240px":l.iconSize||"40px",height:T?"40px":(S==null?void 0:S.category)==="Bathroom"?`${parseInt(l.iconSize||"40px")+10}px`:f===9?"240px":l.iconSize||"40px",objectFit:"contain",marginBottom:"5px",position:"relative",zIndex:1,marginTop:T?"20px":"0",cursor:R!==4?"move":"default",filter:!T&&(S==null?void 0:S.category)!=="Sockets"?J[l.iconColor]:void 0,transition:"filter 0.2s"}}),R!==4&&n.jsx("button",{onClick:ue=>{ue.stopPropagation(),_e(S.id)},style:{position:"absolute",top:"-8px",right:"-8px",background:"rgba(220, 53, 69, 0.9)",color:"white",border:"2px solid rgba(255, 255, 255, 0.8)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",padding:0,lineHeight:1,zIndex:3,opacity:be?1:0,transform:be?"scale(1)":"scale(0.8)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseEnter:ue=>{ue.currentTarget.style.background="rgba(220, 53, 69, 1)",ue.currentTarget.style.transform="scale(1.1)",ue.currentTarget.style.boxShadow="0 4px 12px rgba(220, 53, 69, 0.4)"},onMouseLeave:ue=>{ue.currentTarget.style.background="rgba(220, 53, 69, 0.9)",ue.currentTarget.style.transform="scale(1)",ue.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"},children:""})]}),!T&&(S==null?void 0:S.category)!=="Sockets"&&n.jsx("div",{style:{width:"100%",textAlign:"center",marginTop:S?"-11px":"15px"},children:f===9&&!S?n.jsx("div",{style:{fontSize:"18px",color:"#bbb",fontWeight:600,padding:"16px 0"},children:"drop socket"}):R===4?A&&n.jsx("div",{style:{width:"100%",textAlign:"center",fontSize:l.fontSize||"12px",color:l.textColor||"#000000",fontFamily:l.fonts||void 0,wordBreak:"break-word"},children:A}):n.jsx(n.Fragment,{children:q?n.jsx("input",{type:"text",value:A||"",onChange:ue=>Fe(ue,f),onBlur:se,autoFocus:!0,style:{width:"100%",padding:"4px",fontSize:l.fontSize||"12px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",outline:"none",background:"rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,color:l.textColor||"#000000",marginTop:"0px",marginLeft:"-40px"}}):n.jsx("div",{onClick:()=>G(f),style:{fontSize:l.fontSize||"12px",color:A?l.textColor||"#000000":"#999999",wordBreak:"break-word",width:"120px",textAlign:"center",padding:"4px",cursor:"pointer",borderRadius:"4px",backgroundColor:ee?"rgba(255, 255, 255, 0.1)":"transparent",transition:"all 0.2s ease",fontFamily:l.fonts||void 0,marginLeft:"-40px"},children:A||"Add text"})})})]},f)},Me=[{step:1,label:"Select Panel Type"},{step:2,label:"Select your icons"},{step:3,label:"Select Panel Design"},{step:4,label:"Review panel details"}],Ke=R-1,Re=()=>n.jsx(y,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:4,mt:4},children:Me.map((f,S)=>n.jsxs(ft.Fragment,{children:[n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[n.jsx(y,{sx:{width:32,height:32,borderRadius:"50%",background:S===Ke?"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)":"#e0e0e0",color:S===Ke?"#fff":"#888",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,boxShadow:S===Ke?"0 2px 8px #1976d233":"none",border:S===Ke?"2px solid #1976d2":"2px solid #e0e0e0",mb:1,transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"},children:f.step}),n.jsx(z,{sx:{color:S===Ke?"#1976d2":"#888",fontWeight:S===Ke?600:400,fontSize:14,textAlign:"center",maxWidth:110,letterSpacing:.2},children:f.label})]}),S<Me.length-1&&n.jsx(y,{sx:{flex:1,height:2,background:"#e0e0e0",mx:1,minWidth:24,borderRadius:1}})]},f.step))});h.useEffect(()=>{$(!0),fetch(`https://www.googleapis.com/webfonts/v1/webfonts?key=${k1}`).then(f=>f.json()).then(f=>{f.items&&(ie(f.items.map(S=>S.family)),console.log("Total Google Fonts loaded:",f.items.length))}).catch(()=>{}).finally(()=>$(!1))},[]),h.useEffect(()=>{function f(S){L.current&&!L.current.contains(S.target)&&N(!1)}return de&&document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[de]),h.useEffect(()=>{l.fonts&&T1(l.fonts)},[l.fonts]);const Be=Bt("X1V"),{dimensions:De,iconLayout:$e,textLayout:c,specialLayouts:b,iconPositions:g}=Be;return n.jsxs(y,{sx:{minHeight:"100vh",background:"#f6f8fa",py:8},children:[(fe||le)&&n.jsx(y,{sx:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:1e3},children:n.jsxs(z,{sx:{fontSize:14,color:"#1a1f2c",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[fe,le&&` - ${le}`]})}),n.jsxs(xt,{maxWidth:"lg",children:[n.jsx(y,{sx:{position:"absolute",top:20,right:30,zIndex:1},children:n.jsx(dt,{})}),n.jsxs(y,{sx:{position:"absolute",top:20,left:30,display:"flex",alignItems:"center",gap:2},children:[n.jsx("img",{src:at,alt:"Logo",style:{height:"40px",width:"auto",cursor:"pointer"},onClick:()=>t("/")}),n.jsx(z,{variant:"h6",component:"h1",sx:{color:"#1a1f2c",fontWeight:400,letterSpacing:"1px",textTransform:"capitalize",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Design your panels"})]}),n.jsx(Re,{}),n.jsxs(y,{sx:{display:"flex",justifyContent:"center",gap:2,mb:4},children:[n.jsx(ke,{variant:"outlined",onClick:()=>{R===2?t("/panel/extended"):M(f=>Math.max(2,f-1))},children:"Back"}),R!==4&&n.jsx(ke,{variant:"contained",disabled:R===4,onClick:()=>M(f=>Math.min(4,f+1)),children:"Next"})]}),R===2&&n.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"40px",justifyContent:"center",alignItems:"flex-start",marginBottom:"20px"},children:[n.jsx("div",{style:{minWidth:140,display:"flex",flexDirection:"column",gap:"10px",alignItems:"flex-end"},children:s.map(f=>n.jsx("button",{onClick:()=>k(f),style:{padding:"12px 24px",background:_===f?"#1a1f2c":"#ffffff",color:_===f?"#ffffff":"#1a1f2c",border:"1px solid #1a1f2c",borderRadius:"4px",cursor:"pointer",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontSize:"14px",letterSpacing:"0.5px",transition:"all 0.3s ease",minWidth:"120px",textAlign:"right"},children:f},f))}),n.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",justifyContent:"flex-start",maxWidth:"400px",margin:"0",minHeight:"320px",alignItems:"flex-start"},children:[D.map(f=>n.jsxs("div",{draggable:!0,onDragStart:S=>I(S,f),style:{padding:"12px",background:(d==null?void 0:d.id)===f.id?"#1a1f2c":"#ffffff",borderRadius:"6px",cursor:"grab",display:"flex",flexDirection:"column",alignItems:"center",width:"60px",border:"1px solid #e0e0e0",transition:"all 0.3s ease"},children:[n.jsx("img",{src:f.src,alt:f.label,style:{width:"32px",height:"32px",objectFit:"contain"}}),n.jsx("span",{style:{fontSize:"14px",color:(d==null?void 0:d.id)===f.id?"#ffffff":"#1a1f2c",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"},children:f.label})]},f.id)),n.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"center",gap:16,margin:"24px 0 0 0"},children:[n.jsx(ke,{variant:"outlined",onClick:we,sx:{minWidth:160,display:"flex",alignItems:"center",gap:1},startIcon:xe?n.jsx(Fi,{}):n.jsx(Cl,{}),children:xe?"Down":"Up"}),n.jsx(ke,{variant:"outlined",onClick:ce,sx:{minWidth:160},startIcon:n.jsx(Nn,{sx:{transform:"rotate(90deg)"}}),children:oe?"Unmirror":"Mirror"})]})]}),n.jsx("div",{style:{flex:"0 0 340px",display:"flex",justifyContent:"center",alignItems:"flex-start",marginTop:0},children:n.jsxs("div",{style:{position:"relative",width:"320px",height:De.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${wo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:g?g.length:0}).map((f,S)=>ae(S))})]})})]}),R===3&&n.jsxs("div",{style:{display:"flex",gap:"80px",alignItems:"flex-start",justifyContent:"center",maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},children:[n.jsxs("div",{style:{flex:"0 0 480px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"28px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',position:"relative",overflow:"hidden"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, #0056b3 0%, #007bff 50%, #0056b3 100%)",borderRadius:"12px 12px 0 0"}}),n.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",fontWeight:"600",color:"#1a1f2c",textAlign:"center",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:"Panel Design"}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Background Color (RAL)"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"10px",maxHeight:"200px",overflowY:"auto",background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"8px",padding:"16px",border:"1px solid #dee2e6",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.04)"},children:qe.map(f=>n.jsxs("button",{type:"button",onClick:()=>O({...l,backgroundColor:f.hex}),style:{display:"flex",flexDirection:"column",alignItems:"center",border:l.backgroundColor===f.hex?"2px solid #0056b3":"1px solid #dee2e6",borderRadius:"8px",background:l.backgroundColor===f.hex?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",cursor:"pointer",padding:"8px 6px",outline:"none",boxShadow:l.backgroundColor===f.hex?"0 0 0 3px rgba(0, 86, 179, 0.15), 0 2px 8px rgba(0,0,0,0.1)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",transform:l.backgroundColor===f.hex?"translateY(-1px)":"translateY(0)"},children:[n.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"6px",background:f.hex,border:"2px solid #ffffff",marginBottom:"6px",display:"block",boxShadow:"0 2px 4px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.3)"}}),n.jsx("span",{style:{fontSize:"11px",fontWeight:"600",color:"#495057"},children:`RAL ${f.code}`})]},f.code))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Typography Font"]}),n.jsxs("div",{style:{position:"relative"},ref:L,children:[n.jsx("input",{type:"text",placeholder:"Search Google Fonts...",value:he||l.fonts||"",onChange:f=>{const S=f.target.value;pe(S),S===""&&O(A=>({...A,fonts:""})),N(!0)},onFocus:()=>N(!0),style:{padding:"12px 16px",borderRadius:"8px",border:"1px solid #dee2e6",fontSize:"14px",width:"100%",fontFamily:l.fonts||void 0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",boxShadow:"0 2px 6px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",outline:"none"}}),de&&n.jsx("div",{style:{position:"absolute",top:"110%",left:0,right:0,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",border:"1px solid #dee2e6",borderRadius:"8px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 16px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.08)"},children:V?n.jsx("div",{style:{padding:16,textAlign:"center",color:"#6c757d"},children:"Loading fonts..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:"inherit",color:"#6c757d",borderBottom:"1px solid #f8f9fa",transition:"background 0.2s ease"},onMouseEnter:f=>f.currentTarget.style.background="#f8f9fa",onMouseLeave:f=>f.currentTarget.style.background="transparent",onClick:()=>{O({...l,fonts:""}),pe(""),N(!1)},children:"Default"}),Pe.filter(f=>f.toLowerCase().includes(he.toLowerCase())).slice(0,20).map(f=>n.jsx("div",{style:{padding:12,cursor:"pointer",fontFamily:f,background:f===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",transition:"background 0.2s ease",borderBottom:"1px solid #f8f9fa"},onMouseEnter:S=>S.currentTarget.style.background="#f8f9fa",onMouseLeave:S=>S.currentTarget.style.background=f===l.fonts?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"transparent",onClick:()=>{O({...l,fonts:f}),pe(f),N(!1)},children:f},f)),Pe.filter(f=>f.toLowerCase().includes(he.toLowerCase())).length===0&&!V&&n.jsx("div",{style:{padding:16,color:"#adb5bd"},children:"No fonts found"})]})})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Font Size"]}),n.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:["10px","12px","14px","16px"].map(f=>n.jsx("button",{onClick:()=>O(S=>({...S,fontSize:f})),style:{padding:"10px 16px",borderRadius:"8px",border:l.fontSize===f?"2px solid #0056b3":"1px solid #dee2e6",background:l.fontSize===f?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.fontSize===f?"#ffffff":"#495057",cursor:"pointer",fontSize:f,fontWeight:l.fontSize===f?"700":"600",transition:"all 0.2s ease",minWidth:"45px",textAlign:"center",boxShadow:l.fontSize===f?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.fontSize===f?"translateY(-1px)":"translateY(0)"},children:f.replace("px","")},f))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Colors"]}),n.jsxs("div",{style:{display:"flex",gap:"28px",alignItems:"flex-start"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Icon Color"}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(J).map(([f])=>n.jsx("button",{onClick:()=>O(S=>({...S,iconColor:f})),style:{width:"36px",height:"36px",borderRadius:"50%",background:f,border:l.iconColor===f?"3px solid #0056b3":"2px solid #dee2e6",cursor:"pointer",padding:0,outline:"none",boxShadow:l.iconColor===f?"0 0 0 3px rgba(0, 86, 179, 0.2), 0 4px 12px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.3)",transition:"all 0.2s ease",transform:l.iconColor===f?"scale(1.1)":"scale(1)"}},f))})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Text Color"}),n.jsx("input",{type:"color",value:l.textColor,onChange:f=>O(S=>({...S,textColor:f.target.value})),style:{width:"64px",height:"40px",border:"2px solid #dee2e6",borderRadius:"8px",cursor:"pointer",padding:"2px",background:"#ffffff",boxShadow:"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease"}})]})]})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Icon Size"]}),n.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:["30px","40px","50px"].map(f=>n.jsx("button",{onClick:()=>O(S=>({...S,iconSize:f})),style:{padding:"10px 16px",borderRadius:"8px",border:l.iconSize===f?"2px solid #0056b3":"1px solid #dee2e6",background:l.iconSize===f?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:l.iconSize===f?"#ffffff":"#495057",cursor:"pointer",fontSize:"14px",fontWeight:l.iconSize===f?"700":"600",transition:"all 0.2s ease",minWidth:"60px",textAlign:"center",boxShadow:l.iconSize===f?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:l.iconSize===f?"translateY(-1px)":"translateY(0)"},children:f.replace("px","")},f))})]})]})]}),n.jsx("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:n.jsxs("div",{style:{position:"relative",width:"320px",height:De.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${wo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:g?g.length:0}).map((f,S)=>ae(S))})]})})]}),R===4&&n.jsx(n.Fragment,{children:n.jsxs("div",{style:{marginTop:"60px",marginBottom:"40px",display:"flex",justifyContent:"center",alignItems:"flex-start",gap:"40px",flexWrap:"wrap"},children:[n.jsx("div",{style:{flex:"0 0 auto"},children:n.jsx(R1,{backbox:ne,setBackbox:f=>{Z(f),te&&Se("")},backboxError:te,extraComments:re,setExtraComments:X,panelDesign:l,placedIcons:u,ICON_COLOR_FILTERS:J,ralColors:qe})}),n.jsxs("div",{style:{flex:"0 0 auto",marginTop:"100px"},children:[n.jsxs("div",{style:{position:"relative",width:"320px",height:De.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${wo(l.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:l.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:Array.from({length:g?g.length:0}).map((f,S)=>ae(S))})]}),n.jsx(y,{sx:{mt:6,display:"flex",justifyContent:"center"},children:n.jsx(w1,{variant:"contained",onClick:He,sx:{backgroundColor:"#1a1f2c",color:"#ffffff","&:hover":{backgroundColor:"#2c3e50"}},children:Te?"Update Panel":"Add Panel to Project"})})]})]})})]})]})},z1=Y(y)(({theme:e})=>({width:"100%",maxWidth:800,margin:"0 auto",padding:e.spacing(3),marginBottom:e.spacing(6)})),F1=Y(y)(({theme:e})=>({background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:12,padding:e.spacing(3),maxWidth:"600px",margin:"0 auto",marginBottom:e.spacing(4),boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"})),js=Y(Rl)(({theme:e})=>({color:"rgba(255, 255, 255, 0.7)","&.Mui-checked":{color:"rgba(255, 255, 255, 0.9)"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}})),Cs=Y(Il)(({theme:e})=>({color:"rgba(255, 255, 255, 0.9)","& .MuiFormControlLabel-label":{fontSize:"16px",fontWeight:500,letterSpacing:"0.5px"}}));Y(Ps)(({theme:e})=>({background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:12,padding:e.spacing(3),marginBottom:e.spacing(4),boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"}));Y(y)(({theme:e})=>({width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",border:"3px solid rgba(255, 255, 255, 0.3)",transition:"all 0.2s ease","&:hover":{transform:"scale(1.1)",border:"3px solid rgba(255, 255, 255, 0.6)"}}));const _1=(e,t)=>{if(!e)return`rgba(255, 255, 255, ${t})`;e=e.replace("#","");const o=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return`rgba(${o}, ${i}, ${r}, ${t})`},A1=Y(z)(({theme:e})=>({color:"rgba(255, 255, 255, 0.9)",fontWeight:400,letterSpacing:"0.5px",marginTop:e.spacing(2),opacity:.8,transform:"translateY(10px)",transition:"all 0.3s ease",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'})),B1=Y(Ct.div)({width:"100%"}),D1={hidden:{opacity:1},visible:{transition:{staggerChildren:.35}}},M1={hidden:{opacity:1,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.4,0,.2,1]}}};Y(y)(({theme:e})=>({background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:12,padding:e.spacing(3),marginBottom:e.spacing(4),boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"}));Y(zl)(({theme:e})=>({color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.05)","&.Mui-selected":{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 1)",border:"1px solid rgba(255, 255, 255, 0.6)"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"},fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontSize:"14px",fontWeight:500,letterSpacing:"0.5px"}));Y(y)(({theme:e})=>({background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:12,padding:e.spacing(3),marginBottom:e.spacing(4),boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"}));Y(y)(({theme:e})=>({display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(45px, 1fr))",gap:e.spacing(1),marginTop:e.spacing(1)}));Y(y)(({theme:e})=>({width:"45px",height:"45px",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"rgba(255, 255, 255, 0.05)","&:hover":{border:"1px solid rgba(255, 255, 255, 0.6)",backgroundColor:"rgba(255, 255, 255, 0.1)"},"&.selected":{border:"1px solid rgba(255, 255, 255, 0.8)",backgroundColor:"rgba(255, 255, 255, 0.2)"}}));const E1=["Roboto","Open Sans","Lato","Montserrat","Poppins","Oswald","Raleway","Merriweather","Nunito","Quicksand","Source Sans Pro","Inter"],W1={"#000000":"brightness(0) saturate(100%)","#FFFFFF":"brightness(0) saturate(100%) invert(1)","#808080":"brightness(0) saturate(100%) opacity(0.5)","#FF0000":"brightness(0) saturate(100%) invert(27%) sepia(51%) saturate(2878%) hue-rotate(346deg) brightness(104%) contrast(97%)","#0000FF":"brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(6495%) hue-rotate(247deg) brightness(98%) contrast(141%)","#008000":"brightness(0) saturate(100%) invert(23%) sepia(98%) saturate(3025%) hue-rotate(101deg) brightness(94%) contrast(104%)"},Je=e=>{switch(e){case"#000000":return"brightness(0) saturate(100%)";case"#FFFFFF":return"brightness(0) saturate(100%) invert(1)";case"#808080":return"brightness(0) saturate(100%) opacity(0.5)";case"#FF0000":return"brightness(0) saturate(100%) invert(27%) sepia(51%) saturate(2878%) hue-rotate(346deg) brightness(104%) contrast(97%)";case"#0000FF":return"brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(6495%) hue-rotate(247deg) brightness(98%) contrast(141%)";case"#008000":return"brightness(0) saturate(100%) invert(23%) sepia(98%) saturate(3025%) hue-rotate(101deg) brightness(94%) contrast(104%)";default:return"brightness(0) saturate(100%) invert(1)"}},ws=()=>{var _e,He,D;Hn();const e=gt(),[t,o]=h.useState(!1),[i,r]=h.useState(!1),[s,a]=h.useState(!1),[d,x]=h.useState("bar"),[u,p]=h.useState(""),[v,j]=h.useState("G1"),[_,k]=h.useState("G2"),[B,E]=h.useState(""),[w,F]=h.useState(""),[R,M]=h.useState(""),[l,O]=h.useState(E1),[ne,Z]=h.useState(""),[re,X]=h.useState(!1),[te,Se]=h.useState(!1);h.useRef(null);const[Pe,ie]=h.useState({}),[he,pe]=h.useState({}),[de,N]=h.useState([]),[V,$]=h.useState(void 0),L=Ze(),{addToCart:J,updatePanel:U}=lt(),{projectName:H,projectCode:fe}=h.useContext(tt),[le,Le]=h.useState("Arial"),[Q,We]=h.useState(null),[W,xe]=h.useState({backgroundColor:"#FFFFFF",iconColor:"#000000",textColor:"#000000",fontSize:"12px",fonts:"",iconSize:"40px"}),ge=((_e=e.state)==null?void 0:_e.editMode)||!1,oe=(He=e.state)==null?void 0:He.panelIndex,Ie=(D=e.state)==null?void 0:D.panelData,Te={G1:Ai,G2:Bi,G3:Di,G18:it},Ve=["G1","G2"],je="G3";h.useEffect(()=>{const I=setTimeout(()=>{o(!0)},1e3);return()=>clearTimeout(I)},[]),h.useEffect(()=>{wt(()=>Promise.resolve().then(()=>kt),void 0).then(I=>{pe(I.default);const K=I.iconCategories.filter(G=>G!=="PIR");N(K),K.length>0&&$(K[0])})},[]),h.useEffect(()=>{if(ge&&Ie&&Ie.panelDesign&&(xe(Ie.panelDesign),E(Ie.panelDesign.backbox||""),F(Ie.panelDesign.extraComments||""),Ie.panelDesign.idpgConfig)){const I=Ie.panelDesign.idpgConfig;r(I.cardReader||!1),a(I.roomNumber||!1),x(I.statusMode||"bar"),j(I.selectedIcon1||"G1"),p(I.roomNumberText||"")}},[ge,Ie]);const Ue=()=>{let I="IDPG";const K=[];return i&&K.push("CR"),s&&K.push("RN"),K.push(d==="icons"?"SI":"SB"),K.length>0&&(I+=` ${K.join(" ")}`),I},Ae=()=>!i&&!s?d==="icons"?n.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",padding:"15px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"60px",margin:"10px 0",gap:"20px"},children:[n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Te[v],alt:"Icon 1",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})}),n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Te[je],alt:"Icon 2",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})})]}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"auto",paddingBottom:"10px"},children:n.jsx("img",{src:it,alt:"G18 Icon",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})})]}):n.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",padding:"15px"},children:[n.jsx("div",{style:{width:"100%",height:"8px",background:"transparent",border:`2px solid ${W.iconColor}`,borderRadius:"4px",margin:"auto 0"}}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"auto",paddingBottom:"10px"},children:n.jsx("img",{src:it,alt:"G18 Icon",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})})]}):!i&&s?n.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",padding:"15px"},children:[n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px",marginBottom:"10px"},children:n.jsx(Po,{value:u,onChange:I=>{const K=I.target.value.replace(/\D/g,"").slice(0,4);p(K)},placeholder:"Type room number",variant:"standard",size:"small",sx:{"& .MuiInput-root":{color:W.textColor,fontSize:"48px",fontWeight:"bold",fontFamily:W.fonts||void 0,backgroundColor:"transparent",border:"none","&:before":{borderBottom:"none"},"&:after":{borderBottom:"none"},"&:hover:not(.Mui-disabled):before":{borderBottom:"none"}},"& .MuiInputBase-input":{textAlign:"center",padding:"12px 16px",backgroundColor:"transparent",border:"none",color:W.textColor},"& .MuiInputBase-input::placeholder":{color:"rgba(120, 120, 120, 0.85)",opacity:1,fontSize:"24px",fontWeight:"normal"}},inputProps:{style:{textAlign:"center",fontSize:"48px",fontWeight:"bold",backgroundColor:"transparent",border:"none",color:W.textColor}}})}),d==="icons"?n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"60px",margin:"10px 0",gap:"20px"},children:[n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Te[v],alt:"Icon 1",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})}),n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Te[je],alt:"Icon 2",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})})]}):n.jsx("div",{style:{width:"100%",height:"8px",background:"transparent",border:`2px solid ${W.iconColor}`,borderRadius:"4px",margin:"10px 0"}}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"auto",paddingBottom:"10px"},children:n.jsx("img",{src:it,alt:"G18 Icon",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})})]}):i&&!s?n.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",padding:"15px"},children:[d==="icons"?n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"60px",margin:"10px 0",gap:"20px"},children:[n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Te[v],alt:"Icon 1",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})}),n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Te[je],alt:"Icon 2",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})})]}):n.jsx("div",{style:{width:"100%",height:"8px",background:"transparent",border:`2px solid ${W.iconColor}`,borderRadius:"4px",marginBottom:"20px"}}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:"1"},children:n.jsx("img",{src:it,alt:"G18 Icon",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingBottom:"10px"},children:n.jsx("img",{src:Cn,alt:"CR Icon",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})})]}):i&&s?n.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",padding:"15px"},children:[n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px",marginBottom:"10px"},children:n.jsx(Po,{value:u,onChange:I=>{const K=I.target.value.replace(/\D/g,"").slice(0,4);p(K)},placeholder:"Type room number",variant:"standard",size:"small",sx:{"& .MuiInput-root":{color:W.textColor,fontSize:"48px",fontWeight:"bold",fontFamily:W.fonts||void 0,backgroundColor:"transparent",border:"none","&:before":{borderBottom:"none"},"&:after":{borderBottom:"none"},"&:hover:not(.Mui-disabled):before":{borderBottom:"none"}},"& .MuiInputBase-input":{textAlign:"center",padding:"12px 16px",backgroundColor:"transparent",border:"none",color:W.textColor},"& .MuiInputBase-input::placeholder":{color:"rgba(120, 120, 120, 0.85)",opacity:1,fontSize:"24px",fontWeight:"normal"}},inputProps:{style:{textAlign:"center",fontSize:"48px",fontWeight:"bold",backgroundColor:"transparent",border:"none",color:W.textColor}}})}),d==="icons"?n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"60px",margin:"10px 0",gap:"20px"},children:[n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Te[v],alt:"Icon 1",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})}),n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Te[je],alt:"Icon 2",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})})]}):n.jsx("div",{style:{width:"100%",height:"8px",background:"transparent",border:`2px solid ${W.iconColor}`,borderRadius:"4px",marginBottom:"20px"}}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:"1"},children:n.jsx("img",{src:it,alt:"G18 Icon",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingBottom:"10px"},children:n.jsx("img",{src:Cn,alt:"CR Icon",style:{width:W.iconSize,height:W.iconSize,filter:Je(W.iconColor)}})})]}):n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",color:W.textColor,fontSize:W.fontSize,fontFamily:W.fonts||void 0,fontWeight:"500"},children:"IDPG Panel"});V&&Object.entries(he||{}).filter(([I,K])=>K.category===V&&K.category!=="PIR").map(([I,K])=>({id:I,src:K.src,label:K.label,category:K.category}));const Fe=()=>{if(!B.trim()){M("Please provide backbox details before adding the panel to your project.");return}const I={type:"IDPG",icons:[],quantity:1,panelDesign:{...W,backbox:B,extraComments:w,idpgConfig:{cardReader:i,roomNumber:s,statusMode:d,selectedIcon1:v,roomNumberText:u}}};ge&&oe!==void 0?(U(oe,I),L("/cart")):J(I)};return n.jsxs(y,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #b8c5d7 0%, #d1dce8 100%)",py:8},children:[(H||fe)&&n.jsx(y,{sx:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:1e3},children:n.jsxs(z,{sx:{fontSize:14,color:"#1a1f2c",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[H,fe&&` - ${fe}`]})}),n.jsxs(xt,{maxWidth:"lg",children:[n.jsx(y,{sx:{position:"absolute",top:20,right:30,zIndex:1},children:n.jsx(dt,{})}),n.jsxs(y,{sx:{position:"absolute",top:20,left:30,display:"flex",alignItems:"center",gap:2},children:[n.jsx("img",{src:at,alt:"Logo",style:{height:"40px",width:"auto",cursor:"pointer"},onClick:()=>L("/")}),n.jsx(z,{variant:"h6",component:"h1",sx:{color:"rgba(255, 255, 255, 0.95)",fontWeight:400,letterSpacing:"1px",textTransform:"capitalize",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Design your panels"})]}),n.jsx(z1,{children:n.jsx(z,{variant:"h4",sx:{color:"rgba(255, 255, 255, 0.95)",fontWeight:600,textAlign:"center",marginBottom:1,letterSpacing:"1px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",fontSize:{xs:"1.5rem",sm:"1.75rem",md:"2rem"}},children:"Customize Your Corridor Panel"})}),n.jsxs(F1,{children:[n.jsx(z,{variant:"h6",sx:{color:"rgba(255, 255, 255, 0.95)",fontWeight:600,marginBottom:2,textAlign:"center",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',letterSpacing:"0.5px"},children:"Panel Configuration"}),n.jsxs(y,{sx:{display:"flex",justifyContent:"center",gap:4,flexWrap:"wrap",alignItems:"center",marginBottom:2},children:[n.jsx(Cs,{control:n.jsx(js,{checked:i,onChange:I=>r(I.target.checked)}),label:"Card Reader"}),n.jsx(Cs,{control:n.jsx(js,{checked:s,onChange:I=>a(I.target.checked)}),label:"Room Number"}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[n.jsx(z,{variant:"subtitle2",sx:{color:"rgba(255, 255, 255, 0.9)",fontWeight:500,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontSize:"14px"},children:"Status Type"}),n.jsx("button",{onClick:()=>{x(d==="bar"?"icons":"bar")},style:{background:"rgba(25, 118, 210, 0.9)",color:"white",border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',minWidth:"120px"},onMouseEnter:I=>{I.currentTarget.style.background="rgba(25, 118, 210, 1)",I.currentTarget.style.transform="translateY(-1px)",I.currentTarget.style.boxShadow="0 4px 12px rgba(25, 118, 210, 0.4)"},onMouseLeave:I=>{I.currentTarget.style.background="rgba(25, 118, 210, 0.9)",I.currentTarget.style.transform="translateY(0)",I.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"},children:d==="bar"?"Status Icons":"Status Bar"})]})]}),d==="icons"&&n.jsxs(y,{sx:{borderTop:"1px solid rgba(255, 255, 255, 0.1)",paddingTop:2,marginTop:2},children:[n.jsx(z,{variant:"subtitle1",sx:{color:"rgba(255, 255, 255, 0.9)",fontWeight:500,marginBottom:1,textAlign:"center",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',fontSize:"14px"},children:"Guest Services Icons"}),n.jsxs(y,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:3},children:[n.jsxs(y,{sx:{textAlign:"center"},children:[n.jsx(z,{sx:{color:"rgba(255, 255, 255, 0.7)",fontSize:"12px",marginBottom:"8px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Left"}),n.jsx(y,{sx:{display:"flex",gap:1},children:Ve.map(I=>n.jsx(y,{onClick:()=>j(I),sx:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:v===I?"2px solid rgba(255, 255, 255, 0.8)":"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"6px",cursor:"pointer",background:v===I?"rgba(255, 255, 255, 0.1)":"transparent",transition:"all 0.2s ease","&:hover":{border:"2px solid rgba(255, 255, 255, 0.6)",background:"rgba(255, 255, 255, 0.05)"}},children:n.jsx("img",{src:Te[I],alt:I,style:{width:"24px",height:"24px",filter:Je(W.iconColor)}})},I))})]}),n.jsxs(y,{sx:{textAlign:"center"},children:[n.jsx(z,{sx:{color:"rgba(255, 255, 255, 0.5)",fontSize:"12px",marginBottom:"8px",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:"Right (G3)"}),n.jsx(y,{sx:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",background:"rgba(255, 255, 255, 0.02)",opacity:.7},children:n.jsx("img",{src:Te[je],alt:je,style:{width:"24px",height:"24px",filter:Je(W.iconColor)}})})]})]})]})]}),t&&n.jsx(Ct.div,{variants:D1,initial:"hidden",animate:"visible",style:{width:"100%"},children:n.jsxs(bt,{container:!0,spacing:4,justifyContent:"center",children:[n.jsx(bt,{item:!0,xs:12,md:5,component:"div",children:n.jsxs("div",{style:{background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"28px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',position:"relative",overflow:"hidden",height:"fit-content"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, #0056b3 0%, #007bff 50%, #0056b3 100%)",borderRadius:"12px 12px 0 0"}}),n.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",fontWeight:"600",color:"#1a1f2c",textAlign:"center",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:"Panel Design"}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Background Color (RAL)"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"10px",maxHeight:"200px",overflowY:"auto",background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"8px",padding:"16px",border:"1px solid #dee2e6",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.04)"},children:qe.map(I=>n.jsxs("button",{type:"button",onClick:()=>xe({...W,backgroundColor:I.hex}),style:{display:"flex",flexDirection:"column",alignItems:"center",border:W.backgroundColor===I.hex?"2px solid #0056b3":"1px solid #dee2e6",borderRadius:"8px",background:W.backgroundColor===I.hex?"linear-gradient(145deg, #e3f2fd 0%, #f0f8ff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",cursor:"pointer",padding:"8px 6px",outline:"none",boxShadow:W.backgroundColor===I.hex?"0 0 0 3px rgba(0, 86, 179, 0.15), 0 2px 8px rgba(0,0,0,0.1)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease",transform:W.backgroundColor===I.hex?"translateY(-1px)":"translateY(0)"},children:[n.jsx("span",{style:{width:"28px",height:"28px",borderRadius:"6px",background:I.hex,border:"2px solid #ffffff",marginBottom:"6px",display:"block",boxShadow:"0 2px 4px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.3)"}}),n.jsx("span",{style:{fontSize:"11px",fontWeight:"600",color:"#495057"},children:`RAL ${I.code}`})]},I.code))})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Colors"]}),n.jsxs("div",{style:{display:"flex",gap:"28px",alignItems:"flex-start"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Icon Color"}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(W1).map(([I])=>n.jsx("button",{onClick:()=>xe(K=>({...K,iconColor:I})),style:{width:"36px",height:"36px",borderRadius:"50%",background:I,border:W.iconColor===I?"3px solid #0056b3":"2px solid #dee2e6",cursor:"pointer",padding:0,outline:"none",boxShadow:W.iconColor===I?"0 0 0 3px rgba(0, 86, 179, 0.2), 0 4px 12px rgba(0,0,0,0.15)":"0 2px 6px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.3)",transition:"all 0.2s ease",transform:W.iconColor===I?"scale(1.1)":"scale(1)"}},I))})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",color:"#495057",fontSize:"13px",letterSpacing:"0.3px"},children:"Text Color"}),n.jsx("input",{type:"color",value:W.textColor,onChange:I=>xe(K=>({...K,textColor:I.target.value})),style:{width:"64px",height:"40px",border:"2px solid #dee2e6",borderRadius:"8px",cursor:"pointer",padding:"2px",background:"#ffffff",boxShadow:"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transition:"all 0.2s ease"}})]})]})]}),n.jsxs("div",{style:{marginBottom:"28px",background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8)",border:"1px solid #e9ecef"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"16px",color:"#1a1f2c",fontSize:"15px",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"4px",height:"16px",background:"linear-gradient(180deg, #0056b3 0%, #007bff 100%)",borderRadius:"2px"}}),"Icon Size"]}),n.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:["30px","40px","50px"].map(I=>n.jsx("button",{onClick:()=>xe(K=>({...K,iconSize:I})),style:{padding:"10px 16px",borderRadius:"8px",border:W.iconSize===I?"2px solid #0056b3":"1px solid #dee2e6",background:W.iconSize===I?"linear-gradient(145deg, #0056b3 0%, #007bff 100%)":"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",color:W.iconSize===I?"#ffffff":"#495057",cursor:"pointer",fontSize:"14px",fontWeight:W.iconSize===I?"700":"600",transition:"all 0.2s ease",minWidth:"45px",textAlign:"center",boxShadow:W.iconSize===I?"0 4px 12px rgba(0, 86, 179, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)":"0 2px 6px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.8)",transform:W.iconSize===I?"translateY(-1px)":"translateY(0)"},children:I.replace("px","")},I))})]})]})}),n.jsx(bt,{item:!0,xs:12,md:7,component:"div",sx:{marginTop:"50px"},children:n.jsx(B1,{variants:M1,children:n.jsxs(y,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[(()=>{let I="350px";return!i&&!s?I="350px":!i&&s?I="450px":i&&!s?I="500px":i&&s&&(I="600px"),n.jsxs("div",{style:{width:"350px",height:I,background:`linear-gradient(135deg, 
                          rgba(255, 255, 255, 0.3) 0%, 
                          rgba(255, 255, 255, 0.1) 50%, 
                          rgba(255, 255, 255, 0.05) 100%), 
                          ${_1(W.backgroundColor,.9)}`,padding:"15px",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:`
                          0 20px 40px rgba(0, 0, 0, 0.3),
                          0 8px 16px rgba(0, 0, 0, 0.2),
                          inset 0 1px 0 rgba(255, 255, 255, 0.4),
                          inset 0 -1px 0 rgba(0, 0, 0, 0.1),
                          0 0 0 1px rgba(255, 255, 255, 0.1)
                        `,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",position:"relative",transform:"perspective(1000px) rotateX(5deg)",transformStyle:"preserve-3d",marginBottom:"20px"},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:`linear-gradient(135deg, 
                            rgba(255, 255, 255, 0.1) 0%, 
                            transparent 50%, 
                            rgba(0, 0, 0, 0.05) 100%)`,pointerEvents:"none",zIndex:1}}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",position:"relative",zIndex:2,width:"100%",height:"100%",padding:"10px"},children:Ae()})]})})(),n.jsx(A1,{variant:"h5",className:"panel-title",sx:{textAlign:"center",mb:2},children:Ue()}),n.jsx(ke,{variant:"text",size:"large",className:"panel-button",sx:{color:"rgba(255, 255, 255, 0.7)",textTransform:"none",fontWeight:400,letterSpacing:"0.5px",opacity:0,transform:"translateY(10px)",transition:"all 0.3s ease",fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',"&:hover":{color:"rgba(255, 255, 255, 1)",backgroundColor:"transparent"}},disabled:!0,children:"Select"})]})})})]})})]}),n.jsxs(y,{sx:{mt:6,display:"flex",justifyContent:"center",gap:2},children:[n.jsx(ke,{variant:"outlined",startIcon:n.jsx(Qn,{}),onClick:()=>L("/panel-type"),sx:{color:"#1a1f2c",borderColor:"#1a1f2c",background:"white","&:hover":{background:"#f0f0f0"}},children:"Back"}),n.jsx(ke,{variant:"contained",onClick:Fe,sx:{backgroundColor:"#1a1f2c",color:"#ffffff","&:hover":{backgroundColor:"#2c3e50"}},children:"Add Panel to Project"})]})]})},ko=(e,t)=>{if(!e)return`rgba(255, 255, 255, ${t})`;e=e.replace("#","");const o=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return`rgba(${o}, ${i}, ${r}, ${t})`},ze={"#000000":"brightness(0) saturate(100%)","#FFFFFF":"brightness(0) saturate(100%) invert(1)","#808080":"brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(0%) hue-rotate(148deg) brightness(99%) contrast(91%)","#FF0000":"brightness(0) saturate(100%) invert(13%) sepia(93%) saturate(7464%) hue-rotate(0deg) brightness(113%) contrast(109%)","#0000FF":"brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(6495%) hue-rotate(247deg) brightness(98%) contrast(141%)","#008000":"brightness(0) saturate(100%) invert(23%) sepia(98%) saturate(3025%) hue-rotate(101deg) brightness(94%) contrast(104%)"},Tt={G1:Ai,G2:Bi,G3:Di,G18:it};function O1(e){if(!e)return;const t=e.replace(/ /g,"+"),o=`google-font-${t}`;if(!document.getElementById(o)){const i=document.createElement("link");i.id=o,i.rel="stylesheet",i.href=`https://fonts.googleapis.com/css?family=${t}`,document.head.appendChild(i)}}const wl=({icons:e,panelDesign:t,iconTexts:o,type:i="SP"})=>{h.useEffect(()=>{t.fonts&&O1(t.fonts)},[t.fonts]);const r=i==="DPH",s=i==="DPV",a=i==="X2V",d=i==="X1H",x=i==="X1V",u=i==="X2H",p=i==="TAG",v=i==="SP",j=i==="IDPG",_=Bt(i),{gridLayout:k,iconLayout:B,bigIconLayout:E,textLayout:w,specialLayouts:F,iconPositions:R}=_;let M=_.dimensions,l=1;if(j&&t.idpgConfig){const{cardReader:N,roomNumber:V}=t.idpgConfig;!N&&!V?(M={width:"300px",height:"300px"},l=.75):(M={width:"300px",height:"450px"},l=.75)}const O=r||s,ne=a||d||x||u,Z=s||a||x,re=N=>{var U,H;if(!N)return(B==null?void 0:B.size)||"40px";const V=N.category==="PIR",$=N.category==="Bathroom",L=(d||x)&&N.position===9,J=(u||a)&&(N.position===9||N.position===10);if(p){if((N==null?void 0:N.iconId)==="DISPLAY")return"240px";if((N==null?void 0:N.iconId)==="FAN"){if(N.position===6)return"45px";if(N.position===7)return"58px";if(N.position===8)return"65px"}}return V?((U=F==null?void 0:F.PIR)==null?void 0:U.iconSize)||"40px":$?((H=F==null?void 0:F.Bathroom)==null?void 0:H.iconSize)||`${parseInt((B==null?void 0:B.size)||"40px")+10}px`:L?"240px":J?"204px":t.iconSize||(B==null?void 0:B.size)||"40px"},X=()=>j?16:r||s?18:9,te=(N,V,$)=>{const L=parseInt($),J=N.length;return J>15?`${Math.max(8,L-4)}px`:J>10?`${Math.max(10,L-2)}px`:$};if(R&&R.length>0)return n.jsxs("div",{style:{position:"relative",width:r?"640px":M.width,height:p?parseInt(M.height)-5+"px":M.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${ko(t.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:t.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),(r?Array.from({length:18}):R).map((N,V)=>{var We;const $=R[V],L=e.find(W=>W.position===V),J=(L==null?void 0:L.category)==="PIR",U=o&&o[V]||(L==null?void 0:L.text),H=L&&L.src,fe=re(L),le=(w==null?void 0:w.fontSize)||t.fontSize||"12px",Le=U?te(U,parseInt(r?"640":M.width)/6,le):le;let Q=$;if(d&&t.mirrorGrid&&V>=0&&V<=8){const xe=[2,1,0,5,4,3,8,7,6][V],ge=R[xe];ge&&(Q={...ge})}if(d&&t.swapSides&&(V===9?Q={...Q,left:"40px"}:V>=0&&V<=8&&(Q={...Q,left:parseInt(Q.left)+320+"px"})),x&&t.mirrorVertical&&V>=0&&V<=8){const W=Math.floor(V/3),xe=V%3;if(xe===0){const ge=R[W*3+2];ge&&(Q={...ge})}else if(xe===2){const ge=R[W*3];ge&&(Q={...ge})}}if(x&&t.swapUpDown&&(V>=0&&V<=8?Q={...Q,top:parseInt(Q.top)+320+"px"}:V===9&&(Q={...Q,top:"55px"})),p&&(V===4&&(L==null?void 0:L.iconId)==="DISPLAY"&&(Q={...Q,left:"-115px",top:"-70px"}),V>=6&&V<=8&&(L==null?void 0:L.iconId)==="FAN"&&(Q={...Q,top:parseInt(Q.top)-75+"px"})),p&&Q&&Q.left){const W=parseInt(Q.left);Q={...Q,left:W+30+"px"}}if(p&&Q&&Q.top&&V>=0&&V<=8){const W=parseInt(Q.top);Q={...Q,top:W+5+"px"}}if(p&&Q&&Q.top&&V>=6&&V<=8){const W=parseInt(Q.top);Q={...Q,top:W-3+"px"}}if(p&&Q&&Q.left&&V>=6&&V<=8){const W=parseInt(Q.left);Q={...Q,left:W-8-3+"px"}}if(p&&Q&&Q.top&&V>=9&&V<=11){const W=parseInt(Q.top);Q={...Q,top:W-8+"px"}}if(p&&Q&&Q.left&&V===10){const W=parseInt(Q.left);Q={...Q,left:W-6+"px"}}return n.jsxs("div",{style:{position:"absolute",...Q,width:fe,height:fe,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:H?"flex-start":"center",zIndex:2},children:[H&&n.jsx("img",{src:L.src,alt:L.label,style:{width:fe,height:fe,objectFit:"contain",marginBottom:(B==null?void 0:B.spacing)||"5px",marginTop:J?((We=F==null?void 0:F.PIR)==null?void 0:We.marginTop)||"20px":"0",filter:!J&&(L==null?void 0:L.category)!=="Sockets"?ze[t.iconColor]:void 0,transition:"filter 0.2s"}}),p&&V===4&&n.jsx("img",{src:"/src/assets/icons/DISPLAY.png",alt:"DISPLAY",style:{width:"240px",height:"80px",objectFit:"contain",position:"absolute",left:"-115px",top:"-70px",zIndex:3,filter:ze[t.iconColor]||ze["#000000"],transition:"filter 0.2s"}}),p&&V>=6&&V<=8&&n.jsx("img",{src:"/src/assets/icons/FAN.png",alt:"FAN",style:{width:V===6?"45px":V===7?"58px":"65px",height:V===6?"45px":V===7?"58px":"65px",objectFit:"contain",position:"absolute",top:V===6?"-65px":V===7?"-69px":"-75px",zIndex:3,filter:ze[t.iconColor]||ze["#000000"],transition:"filter 0.2s"}}),!J&&U&&n.jsx("div",{style:{fontSize:Le,color:t.textColor||"#000000",wordBreak:"break-word",maxWidth:"100%",textAlign:"center",padding:(w==null?void 0:w.padding)||"4px",borderRadius:"4px",fontFamily:t.fonts||void 0,whiteSpace:"nowrap"},children:U})]},V)})]});const Se=()=>{let N=9;d||x?N=100:(u||a)&&(N=9);const V=e.find($=>$.position===N);return d&&console.log("X1H Big Icon Debug:",{bigIconPosition:N,bigIcon:V,iconColor:t.iconColor,filter:ze[t.iconColor],allIcons:e.map($=>({position:$.position,src:$.src}))}),(V==null?void 0:V.src)||""},Pe=()=>{const N=e.find(V=>V.position===10);return(N==null?void 0:N.src)||""},ie=(N=!1)=>{var J,U;if(!E)return null;const V=Se(),$=Pe(),L=u||a;return n.jsxs("div",{style:{width:E.width,height:E.height,display:"flex",flexDirection:Z?"column":"row",alignItems:"center",justifyContent:"center",gap:"10px",position:"relative",zIndex:2},children:[V&&n.jsx("div",{style:{position:"relative",display:"inline-block"},children:n.jsx("img",{src:V,alt:"Big Icon",style:{width:E.size,height:E.size,objectFit:"contain",filter:Se()&&((J=e.find(H=>H.position===(d||x?100:9)))==null?void 0:J.category)!=="Sockets"?ze[t.iconColor]:void 0,transition:"filter 0.2s"}})}),L&&$&&n.jsx("div",{style:{position:"relative",display:"inline-block"},children:n.jsx("img",{src:$,alt:"Big Icon 2",style:{width:E.size,height:E.size,objectFit:"contain",filter:Pe()&&((U=e.find(H=>H.position===10))==null?void 0:U.category)!=="Sockets"?ze[t.iconColor]:void 0,transition:"filter 0.2s"}})})]})},he=()=>r?n.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row",gap:0,position:"relative",zIndex:2},children:[n.jsx("div",{style:{width:"50%",height:"100%",display:"flex",flexWrap:"wrap",gap:(k==null?void 0:k.gap)||"5px",padding:(k==null?void 0:k.padding)||"10px"},children:Array.from({length:9}).map((N,V)=>{var fe;const $=e.find(le=>le.position===V),L=($==null?void 0:$.category)==="PIR",J=o&&o[V]||($==null?void 0:$.text),U=$&&$.src,H=re($);return n.jsxs("div",{style:{width:`calc(${100/3}% - ${(k==null?void 0:k.gap)||"5px"})`,height:`calc(${100/3}% - ${(k==null?void 0:k.gap)||"5px"})`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:U?"flex-start":"center",position:"relative",paddingTop:U?"10px":0},children:[U&&n.jsx("div",{style:{position:"relative",display:"inline-block"},children:n.jsx("img",{src:$.src,alt:$.label,style:{width:H,height:H,objectFit:"contain",marginBottom:(B==null?void 0:B.spacing)||"5px",position:"relative",zIndex:1,marginTop:L?((fe=F==null?void 0:F.PIR)==null?void 0:fe.marginTop)||"20px":"0",filter:!L&&($==null?void 0:$.category)!=="Sockets"?ze[t.iconColor]:void 0,transition:"filter 0.2s"}})}),n.jsx("div",{style:{position:U?(w==null?void 0:w.position)||"absolute":"static",bottom:U?(w==null?void 0:w.bottom)||"13px":void 0,left:U?"50%":void 0,transform:U?"translateX(-50%)":void 0,width:"90%",zIndex:0,display:U?void 0:"flex",alignItems:U?void 0:"center",justifyContent:U?void 0:"center",height:U?void 0:"100%"},children:!L&&J&&n.jsx("div",{style:{fontSize:(w==null?void 0:w.fontSize)||t.fontSize||"12px",color:t.textColor||"#000000",wordBreak:"break-word",maxWidth:"100%",textAlign:"center",padding:(w==null?void 0:w.padding)||"4px",borderRadius:"4px",fontFamily:t.fonts||void 0},children:J})})]},V)})}),n.jsx("div",{style:{width:"50%",height:"100%",display:"flex",flexWrap:"wrap",gap:(k==null?void 0:k.gap)||"5px",padding:(k==null?void 0:k.padding)||"10px"},children:Array.from({length:9}).map((N,V)=>{var le;const $=V+9,L=e.find(Le=>Le.position===$),J=(L==null?void 0:L.category)==="PIR",U=o&&o[$]||(L==null?void 0:L.text),H=L&&L.src,fe=re(L);return n.jsxs("div",{style:{width:`calc(${100/3}% - ${(k==null?void 0:k.gap)||"5px"})`,height:`calc(${100/3}% - ${(k==null?void 0:k.gap)||"5px"})`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:H?"flex-start":"center",position:"relative",paddingTop:H?"10px":0},children:[H&&n.jsx("div",{style:{position:"relative",display:"inline-block"},children:n.jsx("img",{src:L.src,alt:L.label,style:{width:fe,height:fe,objectFit:"contain",marginBottom:(B==null?void 0:B.spacing)||"5px",position:"relative",zIndex:1,marginTop:J?((le=F==null?void 0:F.PIR)==null?void 0:le.marginTop)||"20px":"0",filter:!J&&(L==null?void 0:L.category)!=="Sockets"?ze[t.iconColor]:void 0,transition:"filter 0.2s"}})}),n.jsx("div",{style:{position:H?(w==null?void 0:w.position)||"absolute":"static",bottom:H?(w==null?void 0:w.bottom)||"13px":void 0,left:H?"50%":void 0,transform:H?"translateX(-50%)":void 0,width:"90%",zIndex:0,display:H?void 0:"flex",alignItems:H?void 0:"center",justifyContent:H?void 0:"center",height:H?void 0:"100%"},children:!J&&U&&n.jsx("div",{style:{fontSize:(w==null?void 0:w.fontSize)||t.fontSize||"12px",color:t.textColor||"#000000",wordBreak:"break-word",maxWidth:"100%",textAlign:"center",padding:(w==null?void 0:w.padding)||"4px",borderRadius:"4px",fontFamily:t.fonts||void 0},children:U})})]},$)})})]}):s?n.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:0,position:"relative",zIndex:2},children:[n.jsx("div",{style:{width:"100%",height:"50%",display:"flex",flexWrap:"wrap",gap:(k==null?void 0:k.gap)||"5px",padding:(k==null?void 0:k.padding)||"10px"},children:Array.from({length:9}).map((N,V)=>{var fe;const $=e.find(le=>le.position===V),L=($==null?void 0:$.category)==="PIR",J=o&&o[V]||($==null?void 0:$.text),U=$&&$.src,H=re($);return n.jsxs("div",{style:{width:`calc(${100/3}% - ${(k==null?void 0:k.gap)||"5px"})`,height:`calc(${100/3}% - ${(k==null?void 0:k.gap)||"5px"})`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:U?"flex-start":"center",position:"relative",paddingTop:U?"10px":0},children:[U&&n.jsx("div",{style:{position:"relative",display:"inline-block"},children:n.jsx("img",{src:$.src,alt:$.label,style:{width:H,height:H,objectFit:"contain",marginBottom:(B==null?void 0:B.spacing)||"5px",position:"relative",zIndex:1,marginTop:L?((fe=F==null?void 0:F.PIR)==null?void 0:fe.marginTop)||"20px":"0",filter:!L&&($==null?void 0:$.category)!=="Sockets"?ze[t.iconColor]:void 0,transition:"filter 0.2s"}})}),n.jsx("div",{style:{position:U?(w==null?void 0:w.position)||"absolute":"static",bottom:U?(w==null?void 0:w.bottom)||"13px":void 0,left:U?"50%":void 0,transform:U?"translateX(-50%)":void 0,width:"90%",zIndex:0,display:U?void 0:"flex",alignItems:U?void 0:"center",justifyContent:U?void 0:"center",height:U?void 0:"100%"},children:!L&&J&&n.jsx("div",{style:{fontSize:(w==null?void 0:w.fontSize)||t.fontSize||"12px",color:t.textColor||"#000000",wordBreak:"break-word",maxWidth:"100%",textAlign:"center",padding:(w==null?void 0:w.padding)||"4px",borderRadius:"4px",fontFamily:t.fonts||void 0},children:J})})]},V)})}),n.jsx("div",{style:{width:"100%",height:"50%",display:"flex",flexWrap:"wrap",gap:(k==null?void 0:k.gap)||"5px",padding:(k==null?void 0:k.padding)||"10px"},children:Array.from({length:9}).map((N,V)=>{var le;const $=V+9,L=e.find(Le=>Le.position===$),J=(L==null?void 0:L.category)==="PIR",U=o&&o[$]||(L==null?void 0:L.text),H=L&&L.src,fe=re(L);return n.jsxs("div",{style:{width:`calc(${100/3}% - ${(k==null?void 0:k.gap)||"5px"})`,height:`calc(${100/3}% - ${(k==null?void 0:k.gap)||"5px"})`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:H?"flex-start":"center",position:"relative",paddingTop:H?"10px":0},children:[H&&n.jsx("div",{style:{position:"relative",display:"inline-block"},children:n.jsx("img",{src:L.src,alt:L.label,style:{width:fe,height:fe,objectFit:"contain",marginBottom:(B==null?void 0:B.spacing)||"5px",position:"relative",zIndex:1,marginTop:J?((le=F==null?void 0:F.PIR)==null?void 0:le.marginTop)||"20px":"0",filter:!J&&(L==null?void 0:L.category)!=="Sockets"?ze[t.iconColor]:void 0,transition:"filter 0.2s"}})}),n.jsx("div",{style:{position:H?(w==null?void 0:w.position)||"absolute":"static",bottom:H?(w==null?void 0:w.bottom)||"13px":void 0,left:H?"50%":void 0,transform:H?"translateX(-50%)":void 0,width:"90%",zIndex:0,display:H?void 0:"flex",alignItems:H?void 0:"center",justifyContent:H?void 0:"center",height:H?void 0:"100%"},children:!J&&U&&n.jsx("div",{style:{fontSize:(w==null?void 0:w.fontSize)||t.fontSize||"12px",color:t.textColor||"#000000",wordBreak:"break-word",maxWidth:"100%",textAlign:"center",padding:(w==null?void 0:w.padding)||"4px",borderRadius:"4px",fontFamily:t.fonts||void 0},children:U})})]},$)})})]}):n.jsx("div",{style:{width:E?Z?"100%":"60%":"100%",height:E&&Z?"50%":"100%",display:"flex",flexWrap:"wrap",gap:(k==null?void 0:k.gap)||"5px",position:"relative",zIndex:2,transform:(k==null?void 0:k.transform)||void 0,padding:(k==null?void 0:k.padding)||"10px"},children:Array.from({length:X()}).map((N,V)=>{var fe;const $=e.find(le=>le.position===V),L=($==null?void 0:$.category)==="PIR",J=o&&o[V]||($==null?void 0:$.text),U=$&&$.src,H=re($);return n.jsxs("div",{style:{width:`calc(${100/3}% - ${(k==null?void 0:k.gap)||"5px"})`,height:`calc(${100/3}% - ${(k==null?void 0:k.gap)||"5px"})`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:U?"flex-start":"center",position:"relative",paddingTop:U?"10px":0},children:[U&&n.jsx("div",{style:{position:"relative",display:"inline-block"},children:n.jsx("img",{src:$.src,alt:$.label,style:{width:H,height:H,objectFit:"contain",marginBottom:(B==null?void 0:B.spacing)||"5px",position:"relative",zIndex:1,marginTop:L?((fe=F==null?void 0:F.PIR)==null?void 0:fe.marginTop)||"20px":"0",filter:!L&&($==null?void 0:$.category)!=="Sockets"?ze[t.iconColor]:void 0,transition:"filter 0.2s"}})}),n.jsx("div",{style:{position:U?(w==null?void 0:w.position)||"absolute":"static",bottom:U?(w==null?void 0:w.bottom)||"13px":void 0,left:U?"50%":void 0,transform:U?"translateX(-50%)":void 0,width:"90%",zIndex:0,display:U?void 0:"flex",alignItems:U?void 0:"center",justifyContent:U?void 0:"center",height:U?void 0:"100%"},children:!L&&J&&n.jsx("div",{style:{fontSize:(w==null?void 0:w.fontSize)||t.fontSize||"12px",color:t.textColor||"#000000",wordBreak:"break-word",maxWidth:"100%",textAlign:"center",padding:(w==null?void 0:w.padding)||"4px",borderRadius:"4px",fontFamily:t.fonts||void 0},children:J})})]},V)})}),pe={background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${ko(t.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",position:"relative",margin:"0 auto",fontFamily:t.fonts||void 0},de={position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1};if(v)return n.jsxs("div",{style:{...pe,width:M.width,height:M.height,display:"flex",flexDirection:"row",gap:0},children:[n.jsx("div",{style:de}),he()]});if(p){const N=L=>{var J,U,H;return((J=$t[L])==null?void 0:J.src)||((U=$t[L.toUpperCase()])==null?void 0:U.src)||((H=$t[L.toLowerCase()])==null?void 0:H.src)||""},V={src:N("DISPLAY"),label:"DISPLAY",iconId:"DISPLAY",category:"TAG"},$={src:N("FAN"),label:"FAN",iconId:"FAN",category:"TAG"};return n.jsxs("div",{style:{position:"relative",width:M.width,height:M.height,background:`linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 100%), ${ko(t.backgroundColor,.9)}`,padding:"0",border:"2px solid rgba(255, 255, 255, 0.2)",borderTop:"3px solid rgba(255, 255, 255, 0.4)",borderLeft:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.4), inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.3s ease",margin:"0 auto",fontFamily:t.fonts||void 0},children:[n.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%)",pointerEvents:"none",zIndex:1}}),R==null?void 0:R.map((L,J)=>{var xe;let U=e.find(ge=>ge.position===J),H=null;J===4&&(H=V),(J===6||J===7||J===8)&&(H=$);const fe=(U==null?void 0:U.category)==="PIR",le=o&&o[J]||(U==null?void 0:U.text),Le=U&&U.src||H,Q=re(U),We=(w==null?void 0:w.fontSize)||t.fontSize||"12px",W=le?te(le,parseInt(M.width)/3,We):We;return n.jsxs("div",{style:{position:"absolute",...L,width:L.width||Q,height:L.height||Q,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:Le?"flex-start":"center",zIndex:2},children:[H?n.jsx("img",{src:H.src||"/src/assets/icons/DISPLAY.png",alt:H.label,style:{width:(B==null?void 0:B.size)||"35px",height:(B==null?void 0:B.size)||"35px",objectFit:"contain",marginBottom:(B==null?void 0:B.spacing)||"5px",filter:ze[t.iconColor]||void 0,transition:"filter 0.2s"}}):Le&&n.jsx("img",{src:(U==null?void 0:U.src)||"",alt:(U==null?void 0:U.label)||"",style:{width:Q,height:Q,objectFit:"contain",marginBottom:(B==null?void 0:B.spacing)||"5px",marginTop:fe?((xe=F==null?void 0:F.PIR)==null?void 0:xe.marginTop)||"20px":"0",filter:!fe&&(U==null?void 0:U.category)!=="Sockets"?ze[t.iconColor]:void 0,transition:"filter 0.2s"}}),!fe&&le&&n.jsx("div",{style:{fontSize:W,color:t.textColor||"#000000",wordBreak:"break-word",maxWidth:"100%",textAlign:"center",padding:(w==null?void 0:w.padding)||"4px",borderRadius:"4px",fontFamily:t.fonts||void 0,whiteSpace:"nowrap"},children:le})]},J)})]})}if(j){const N=t.idpgConfig;if(!N)return n.jsxs("div",{style:{...pe,width:M.width,height:M.height,display:"flex",alignItems:"center",justifyContent:"center"},children:[n.jsx("div",{style:de}),n.jsx("div",{style:{color:t.textColor,fontSize:t.fontSize,fontFamily:t.fonts||void 0,fontWeight:"500"},children:"IDPG Panel"})]});const{cardReader:V,roomNumber:$,statusMode:L,selectedIcon1:J,roomNumberText:U}=N,H="G3",fe=()=>!V&&!$?L==="icons"?n.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",padding:`${15*l}px`},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:`${60*l}px`,margin:`${10*l}px 0`,gap:`${20*l}px`},children:[n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:`${8*l}px`,border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Tt[J],alt:"Icon 1",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})}),n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:`${8*l}px`,border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Tt[H],alt:"Icon 2",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})})]}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"auto",paddingBottom:`${10*l}px`},children:n.jsx("img",{src:it,alt:"G18 Icon",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})})]}):n.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",padding:`${15*l}px`},children:[n.jsx("div",{style:{width:"100%",height:`${8*l}px`,background:"transparent",border:`2px solid ${t.iconColor}`,borderRadius:`${4*l}px`,margin:"auto 0"}}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"auto",paddingBottom:`${10*l}px`},children:n.jsx("img",{src:it,alt:"G18 Icon",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})})]}):!V&&$?n.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",padding:`${15*l}px`},children:[n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:`${10*l}px`,marginBottom:`${10*l}px`},children:n.jsx("div",{style:{color:t.textColor,fontSize:`${48*l}px`,fontWeight:"bold",fontFamily:t.fonts||void 0,textAlign:"center"},children:U||"0000"})}),L==="icons"?n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:`${60*l}px`,margin:`${10*l}px 0`,gap:`${20*l}px`},children:[n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:`${8*l}px`,border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Tt[J],alt:"Icon 1",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})}),n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:`${8*l}px`,border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Tt[H],alt:"Icon 2",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})})]}):n.jsx("div",{style:{width:"100%",height:`${8*l}px`,background:"transparent",border:`2px solid ${t.iconColor}`,borderRadius:`${4*l}px`,margin:`${10*l}px 0`}}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"auto",paddingBottom:`${10*l}px`},children:n.jsx("img",{src:it,alt:"G18 Icon",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})})]}):V&&!$?n.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",padding:`${15*l}px`},children:[L==="icons"?n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:`${60*l}px`,margin:`${10*l}px 0`,gap:`${20*l}px`},children:[n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:`${8*l}px`,border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Tt[J],alt:"Icon 1",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})}),n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:`${8*l}px`,border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Tt[H],alt:"Icon 2",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})})]}):n.jsx("div",{style:{width:"100%",height:`${8*l}px`,background:"transparent",border:`2px solid ${t.iconColor}`,borderRadius:`${4*l}px`,marginBottom:`${20*l}px`}}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:"1"},children:n.jsx("img",{src:it,alt:"G18 Icon",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingBottom:`${10*l}px`},children:n.jsx("img",{src:Cn,alt:"CR Icon",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})})]}):V&&$?n.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",padding:`${15*l}px`},children:[n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:`${10*l}px`,marginBottom:`${10*l}px`},children:n.jsx("div",{style:{color:t.textColor,fontSize:`${48*l}px`,fontWeight:"bold",fontFamily:t.fonts||void 0,textAlign:"center"},children:U||"0000"})}),L==="icons"?n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:`${60*l}px`,margin:`${10*l}px 0`,gap:`${20*l}px`},children:[n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:`${8*l}px`,border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Tt[J],alt:"Icon 1",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})}),n.jsx("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.05)",borderRadius:`${8*l}px`,border:"1px solid rgba(255, 255, 255, 0.1)",height:"100%"},children:n.jsx("img",{src:Tt[H],alt:"Icon 2",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})})]}):n.jsx("div",{style:{width:"100%",height:`${8*l}px`,background:"transparent",border:`2px solid ${t.iconColor}`,borderRadius:`${4*l}px`,marginBottom:`${20*l}px`}}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:"1"},children:n.jsx("img",{src:it,alt:"G18 Icon",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingBottom:`${10*l}px`},children:n.jsx("img",{src:Cn,alt:"CR Icon",style:{width:`calc(${t.iconSize||40}px * ${l})`,height:`calc(${t.iconSize||40}px * ${l})`,filter:ze[t.iconColor]||void 0}})})]}):n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",color:t.textColor,fontSize:`calc(${t.fontSize} * ${l})`,fontFamily:t.fonts||void 0,fontWeight:"500"},children:"IDPG Panel"});return n.jsxs("div",{style:{...pe,width:M.width,height:M.height},children:[n.jsx("div",{style:de}),fe()]})}if(O||ne){const N=t.isLayoutReversed;return n.jsxs("div",{style:{...pe,width:M.width,height:M.height,display:"flex",flexDirection:Z?"column":"row",alignItems:"center",justifyContent:"center",gap:0},children:[n.jsx("div",{style:de}),N?n.jsxs(n.Fragment,{children:[ie(!0),he()]}):n.jsxs(n.Fragment,{children:[he(),ie(!1)]})]})}return n.jsxs("div",{style:{...pe,width:M.width,height:M.height,display:"flex",alignItems:"center",justifyContent:"center"},children:[n.jsx("div",{style:de}),he()]})},L1=({panelDesign:e,icons:t,ralColors:o,ICON_COLOR_FILTERS:i,backbox:r,comments:s})=>{const a=o.find(x=>x.hex===e.backgroundColor),d=Object.keys(i).find(x=>x===e.iconColor);return n.jsxs(y,{sx:{width:400,background:"linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.12), 0 4px 16px rgba(0,0,0,0.08)",border:"1px solid rgba(255,255,255,0.8)",overflow:"hidden",position:"relative"},children:[n.jsx(y,{sx:{background:"linear-gradient(135deg, #1a1f2c 0%, #2c3e50 100%)",color:"#ffffff",p:2.5,textAlign:"center",position:"relative","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)"}},children:n.jsx(z,{variant:"h6",sx:{fontWeight:600,letterSpacing:"0.5px",fontSize:"18px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Panel Configuration Summary"})}),n.jsx(y,{sx:{p:3},children:n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#4CAF50",flexShrink:0}}),"Selected Icons (",t.filter(x=>x.label&&x.label.trim()!=="").length,")"]}),t.filter(x=>x.label&&x.label.trim()!=="").length>0?n.jsx(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500,lineHeight:1.4},children:t.filter(x=>x.label&&x.label.trim()!=="").map((x,u,p)=>n.jsxs("span",{children:[x.label,u<p.length-1?", ":""]},x.position))}):n.jsx(z,{variant:"body2",sx:{color:"#6c757d",fontStyle:"italic",fontSize:"14px"},children:"No icons selected yet"})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#FF6B35",flexShrink:0}}),"Color Configuration"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:e.backgroundColor||"#ffffff",border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Panel: ",a?`RAL ${a.code}`:"Default"]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:e.iconColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Icons: ",d]})]}),n.jsxs(y,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(y,{sx:{width:20,height:20,borderRadius:1.5,background:e.textColor,border:"2px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Text: ",e.textColor]})]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[n.jsxs(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px",display:"flex",alignItems:"center",gap:1},children:[n.jsx(y,{sx:{width:8,height:8,borderRadius:"50%",background:"#9C27B0",flexShrink:0}}),"Typography Settings"]}),n.jsxs(y,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Font: ",e.fonts||"Default"]}),n.jsxs(z,{variant:"body2",sx:{color:"#2c3e50",fontSize:"14px",fontWeight:500},children:["Size: ",e.fontSize||"12px"]})]})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Backbox Details *"}),n.jsx("input",{type:"text",value:r||"",readOnly:!0,placeholder:"Enter backbox details...",style:{width:"100%",padding:"8px",marginBottom:"8px",border:"1px solid #ccc",borderRadius:"4px",background:"#f8f9fa"}})]}),n.jsxs(y,{sx:{background:"linear-gradient(145deg, #f8f9fa 0%, #ffffff 100%)",p:2,borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",mt:2},children:[n.jsx(z,{variant:"subtitle2",sx:{fontWeight:700,mb:1.5,color:"#1a1f2c",fontSize:"15px"},children:"Additional Comments (Optional)"}),n.jsx("textarea",{value:s||"",readOnly:!0,placeholder:"Enter any additional comments...",style:{width:"100%",minHeight:"48px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",background:"#f8f9fa"}})]})]})})]})},Ce={primary:"#1b92d1",primaryHover:"rgba(27,146,209,0.9)",secondary:"#666666",background:"#f5f5f5",card:"#fff",textPrimary:"#333333",textSecondary:"#666666",borderRadius:14,buttonRadius:8,fontFamily:'"Myriad Hebrew", "Monsal Gothic", Arial, sans-serif',shadow:"0 2px 4px rgba(0,0,0,0.05)",cardShadow:"0 4px 16px rgba(0,0,0,0.07)"},G1=e=>{switch(e){case"SP":return"Single Panel";case"TAG":return"Thermostat";case"DPH":return"Horizontal Double Panel";case"DPV":return"Vertical Double Panel";case"X2V":return"Extended Panel, Vertical, 2 Sockets";case"X2H":return"Extended Panel, Horizontal, 2 Sockets";case"X1H":return"Extended Panel, Horizontal, 1 Socket";case"X1V":return"Extended Panel, Vertical, 1 Socket";case"IDPG":return"Corridor Panel";default:return"Panel"}},V1={"#000000":"brightness(0) saturate(100%)","#FFFFFF":"brightness(0) saturate(100%) invert(1)","#808080":"brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(0%) hue-rotate(148deg) brightness(99%) contrast(91%)","#FF0000":"brightness(0) saturate(100%) invert(13%) sepia(93%) saturate(7464%) hue-rotate(0deg) brightness(113%) contrast(109%)","#0000FF":"brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(6495%) hue-rotate(247deg) brightness(98%) contrast(141%)","#008000":"brightness(0) saturate(100%) invert(23%) sepia(98%) saturate(3025%) hue-rotate(101deg) brightness(94%) contrast(104%)"},$1=()=>{const{projPanels:e,updateQuantity:t,removeFromCart:o,reorderPanels:i,updatePanel:r,currentProjectCode:s}=lt(),a=Ze(),{projectName:d,projectCode:x}=h.useContext(tt),[u,p]=h.useState(null),[v,j]=h.useState(""),[_,k]=h.useState(null),[B,E]=h.useState(""),w=X=>{p(X),j(re(X).toString())},F=X=>{const te=parseFloat(v);if(isNaN(te)||te<=0){p(null);return}try{const Se={...e[X],displayNumber:te};r(X,Se),setTimeout(()=>{const Pe=e.map((he,pe)=>({panel:pe===X?Se:he,originalIndex:pe,displayNumber:pe===X?te:he.displayNumber||pe+1}));Pe.sort((he,pe)=>he.displayNumber-pe.displayNumber);const ie=Pe.map(he=>he.originalIndex);i(ie)},100)}catch(Se){console.error("Error updating panel number:",Se)}p(null)},R=X=>{k(X),E(e[X].panelName||"")},M=X=>{try{const te={...e[X],panelName:B.trim()};r(X,te)}catch(te){console.error("Error updating panel name:",te)}k(null)},l=()=>{k(null)},O=(X,te)=>{X.key==="Enter"?M(te):X.key==="Escape"&&l()},ne=()=>{p(null)},Z=(X,te)=>{X.key==="Enter"?F(te):X.key==="Escape"&&ne()},re=X=>e[X].displayNumber||X+1;return n.jsx("div",{style:{minHeight:"100vh",background:Ce.background,padding:"0",fontFamily:Ce.fontFamily},children:n.jsxs("div",{style:{maxWidth:1100,margin:"0 auto",padding:"32px 16px",borderRadius:Ce.borderRadius,background:Ce.card,boxShadow:Ce.shadow,marginTop:32,marginBottom:32},children:[(d||x)&&n.jsx("div",{style:{textAlign:"center",marginBottom:24,padding:"12px 0",borderBottom:"1px solid #f0f0f0"},children:n.jsxs("span",{style:{fontSize:16,color:Ce.textSecondary,fontWeight:500,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif'},children:[d,x&&` - ${x}`]})}),n.jsxs("div",{style:{textAlign:"center",marginBottom:40},children:[n.jsx("h1",{style:{fontWeight:700,fontSize:32,color:Ce.textPrimary,letterSpacing:"1px",marginBottom:8,textShadow:"0 1px 2px rgba(0,0,0,0.08)"},children:"Project Panels"}),n.jsx("div",{style:{width:120,height:5,margin:"0 auto",borderRadius:3,background:Ce.primary,marginBottom:8}})]}),e.length===0?n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:300},children:[n.jsx("span",{style:{fontSize:64,color:"#e0e0e0",marginBottom:16},children:""}),n.jsx("p",{style:{fontSize:20,color:Ce.textSecondary,marginBottom:24},children:"Your project panels list is empty"}),n.jsx("button",{onClick:()=>a("/panel-type"),style:{padding:"14px 36px",background:Ce.primary,color:"#fff",border:"none",borderRadius:Ce.buttonRadius,fontSize:18,fontWeight:600,cursor:"pointer",boxShadow:Ce.shadow,letterSpacing:"0.5px",transition:"background 0.2s, transform 0.2s"},children:"Continue Designing !"})]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:32,marginBottom:40},children:e.map((X,te)=>{var Se,Pe;return n.jsxs("div",{style:{background:Ce.card,borderRadius:Ce.borderRadius,boxShadow:Ce.cardShadow,padding:28,display:"flex",flexDirection:"column",gap:18,alignItems:"flex-start",position:"relative",minHeight:220,border:"1px solid #f0f0f0"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[u===te?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("input",{type:"text",value:v,onChange:ie=>j(ie.target.value),onKeyDown:ie=>Z(ie,te),onBlur:()=>F(te),style:{background:Ce.primary,color:"#fff",borderRadius:8,fontWeight:700,fontSize:20,width:60,height:36,border:"none",textAlign:"center",boxShadow:"0 1px 4px rgba(27,146,209,0.10)",outline:"none"},autoFocus:!0}),n.jsx("div",{style:{fontSize:12,color:Ce.textSecondary},children:"Press Enter to save, Esc to cancel"})]}):n.jsx("div",{style:{background:Ce.primary,color:"#fff",borderRadius:8,fontWeight:700,fontSize:20,minWidth:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 4px rgba(27,146,209,0.10)",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>w(te),onMouseEnter:ie=>{ie.currentTarget.style.background=Ce.primaryHover,ie.currentTarget.style.transform="scale(1.05)"},onMouseLeave:ie=>{ie.currentTarget.style.background=Ce.primary,ie.currentTarget.style.transform="scale(1)"},title:"Click to edit panel number",children:re(te)}),n.jsx("div",{style:{background:Ce.secondary,color:"#fff",borderRadius:6,fontWeight:600,fontSize:14,padding:"6px 12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 3px rgba(102,102,102,0.15)",letterSpacing:"0.5px",minWidth:"fit-content"},children:G1(X.type)})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[n.jsx("span",{style:{color:Ce.textSecondary,fontSize:15,fontWeight:500},children:"Name:"}),_===te?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flex:1},children:[n.jsx("input",{type:"text",value:B,onChange:ie=>E(ie.target.value),onKeyDown:ie=>O(ie,te),onBlur:()=>M(te),style:{background:"#fff",color:Ce.textPrimary,borderRadius:6,fontWeight:500,fontSize:15,border:`2px solid ${Ce.primary}`,padding:"8px 12px",outline:"none",flex:1,maxWidth:300},placeholder:"Enter panel name...",autoFocus:!0}),n.jsx("div",{style:{fontSize:12,color:Ce.textSecondary},children:"Press Enter to save, Esc to cancel"})]}):n.jsx("div",{style:{background:"#f8f9fa",color:Ce.textPrimary,borderRadius:6,fontWeight:500,fontSize:15,padding:"8px 12px",border:"1px solid #e9ecef",cursor:"pointer",transition:"all 0.2s ease",minWidth:200,maxWidth:300,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},onClick:()=>R(te),onMouseEnter:ie=>{ie.currentTarget.style.background="#e9ecef",ie.currentTarget.style.borderColor=Ce.primary},onMouseLeave:ie=>{ie.currentTarget.style.background="#f8f9fa",ie.currentTarget.style.borderColor="#e9ecef"},title:X.panelName?`Click to edit: ${X.panelName}`:"Click to add panel name",children:X.panelName||"Click to add panel name"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:10},children:[n.jsx("span",{style:{color:Ce.textSecondary,fontSize:15},children:"Quantity:"}),n.jsx("button",{onClick:()=>t(te,X.quantity-1),style:{width:32,height:32,borderRadius:"50%",border:"none",background:Ce.background,color:Ce.primary,fontSize:22,fontWeight:700,cursor:"pointer",boxShadow:Ce.shadow,transition:"background 0.2s",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1,padding:0},disabled:X.quantity<=1,children:"-"}),n.jsx("span",{style:{fontSize:18,fontWeight:600,minWidth:24,textAlign:"center"},children:X.quantity}),n.jsx("button",{onClick:()=>t(te,X.quantity+1),style:{width:32,height:32,borderRadius:"50%",border:"none",background:Ce.background,color:Ce.primary,fontSize:22,fontWeight:700,cursor:"pointer",boxShadow:Ce.shadow,transition:"background 0.2s",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1,padding:0},children:"+"})]}),n.jsx("button",{onClick:()=>o(te),style:{position:"absolute",top:18,right:18,background:"none",border:"none",color:Ce.secondary,cursor:"pointer",fontSize:22,padding:0,zIndex:2},title:"Remove panel",children:n.jsx(Fl,{fontSize:"inherit"})}),n.jsx("div",{style:{position:"absolute",top:18,right:60,zIndex:2},children:n.jsxs("button",{onClick:()=>{const he={SP:"/customizer/sp",TAG:"/customizer/tag",DPH:"/customizer/dph",DPV:"/customizer/dpv",X2V:"/customizer/x2v",X2H:"/customizer/x2h",X1H:"/customizer/x1h",X1V:"/customizer/x1v",IDPG:"/customizer/idpg"}[X.type]||"/panel-type";a(he,{state:{editMode:!0,panelIndex:te,panelData:X}})},style:{background:Ce.primary,border:"none",color:"#fff",cursor:"pointer",fontSize:12,fontWeight:600,padding:"6px 12px",borderRadius:6,boxShadow:"0 1px 3px rgba(27,146,209,0.20)",transition:"all 0.2s ease",letterSpacing:"0.3px",display:"flex",alignItems:"center",gap:"4px"},onMouseEnter:ie=>{ie.currentTarget.style.background=Ce.primaryHover,ie.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:ie=>{ie.currentTarget.style.background=Ce.primary,ie.currentTarget.style.transform="translateY(0)"},title:"Edit panel configuration",children:[n.jsx(_l,{sx:{fontSize:14}}),"Edit Panel"]})}),n.jsxs("div",{style:{display:"flex",gap:32,alignItems:"center",width:"100%",flexDirection:X.type==="X2H"||X.type==="X1H"||X.type==="DPH"?"column":"row"},children:[n.jsx(wl,{icons:X.icons.map(ie=>({...ie,src:ie.src||"",category:ie.category||"",iconId:ie.iconId||void 0})),panelDesign:X.panelDesign||{backgroundColor:"",iconColor:"#000",textColor:"#000",fontSize:"12px"},type:X.type}),n.jsx(L1,{panelDesign:X.panelDesign,icons:X.icons,ralColors:qe,ICON_COLOR_FILTERS:V1,backbox:(Se=X.panelDesign)==null?void 0:Se.backbox,comments:(Pe=X.panelDesign)==null?void 0:Pe.extraComments})]})]},te)})}),e.length>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:24,marginTop:32},children:[n.jsx("button",{onClick:()=>a("/panel-type"),style:{padding:"14px 36px",background:Ce.primary,color:"#fff",border:"none",borderRadius:Ce.buttonRadius,fontSize:18,fontWeight:600,cursor:"pointer",boxShadow:Ce.shadow,letterSpacing:"0.5px",transition:"background 0.2s, transform 0.2s"},children:"Continue Designing !"}),n.jsx("button",{onClick:()=>a("/layouts"),style:{padding:"14px 36px",background:Ce.secondary,color:"#fff",border:"none",borderRadius:Ce.buttonRadius,fontSize:18,fontWeight:600,cursor:"pointer",boxShadow:Ce.shadow,letterSpacing:"0.5px",transition:"background 0.2s, transform 0.2s"},children:"Proceed to Layouts"})]})]})})},me={primary:"#1b92d1",secondary:"#666666",background:"#f5f5f5",card:"#fff",textPrimary:"#333333",textSecondary:"#666666",borderRadius:14,buttonRadius:8,fontFamily:'"Myriad Hebrew", "Monsal Gothic", Arial, sans-serif',shadow:"0 2px 4px rgba(0,0,0,0.05)"},ks={doorContact:{name:"Door Contact",color:"#4CAF50"},pirSensor:{name:"PIR Sensor",color:"#FF9800"},windowContact:{name:"Window Contact",color:"#9C27B0"},inbuiltPir:{name:"In-built PIR",color:"#F44336"}},N1=()=>{var g;const e=Ze(),{projPanels:t}=lt(),[o,i]=h.useState(null),[r,s]=h.useState(null),[a,d]=h.useState(1),[x,u]=h.useState({x:0,y:0}),[p,v]=h.useState("contain"),[j,_]=h.useState("Bedroom"),[k,B]=h.useState(null),[E,w]=h.useState([]),[F,R]=h.useState(!1),[M,l]=h.useState(!1),[O,ne]=h.useState(!1),[Z,re]=h.useState(null),[X,te]=h.useState(null),[Se,Pe]=h.useState(null),[ie,he]=h.useState({x:0,y:0}),[pe,de]=h.useState(null),[N,V]=h.useState({x:0,y:0}),[$,L]=h.useState({}),[J,U]=h.useState({}),[H,fe]=h.useState(null),[le,Le]=h.useState(null),[Q,We]=h.useState([{id:"1",name:"Layout 1",imageUrl:null,imageFile:null,imageScale:1,imagePosition:{x:0,y:0},imageFit:"contain",placedPanels:[],placedDevices:[],panelSizes:{}}]),[W,xe]=h.useState("1"),ge=h.useRef(null),{projectName:oe,projectCode:Ie}=h.useContext(tt),Te=m=>{var P;const C=(P=m.target.files)==null?void 0:P[0];if(C&&(C.type==="image/png"||C.type==="image/jpeg"||C.type==="image/jpg")){const f=URL.createObjectURL(C);se({imageFile:C,imageUrl:f})}},Ve=h.useCallback(m=>{if(!ge.current||Se||pe||H||le)return;const C=ge.current.getBoundingClientRect(),P=m.clientX-C.left,f=m.clientY-C.top;if(O&&Z){Me(P,f);return}if(!F||k===null)return;const S=t[k];if(S){const A={id:Date.now().toString(),panelIndex:k,x:P,y:f,roomType:j,panelData:S},T=G();se({placedPanels:[...T.placedPanels,A]})}R(!1),B(null)},[F,O,k,Z,j,t,Se,pe,H,le]),je=m=>{const C=G();se({placedPanels:C.placedPanels.filter(P=>P.id!==m)})},Ue=m=>{B(m),R(!0),l(!1)},Ae=(m,C)=>{if(m.preventDefault(),m.stopPropagation(),!ge.current)return;const P=ge.current.getBoundingClientRect(),S=G().placedPanels.find(A=>A.id===C);if(S){const A=m.clientX-P.left-S.x,T=m.clientY-P.top-S.y;he({x:A,y:T}),Pe(C)}},Fe=h.useCallback(m=>{if(!Se||!ge.current)return;const C=ge.current.getBoundingClientRect(),P=m.clientX-C.left-ie.x,f=m.clientY-C.top-ie.y;We(S=>S.map(A=>A.id===W?{...A,placedPanels:A.placedPanels.map(T=>T.id===Se?{...T,x:P,y:f}:T)}:A))},[Se,ie,W]),_e=h.useCallback(()=>{Pe(null),he({x:0,y:0})},[]);h.useEffect(()=>{if(Se)return document.addEventListener("mousemove",Fe),document.addEventListener("mouseup",_e),()=>{document.removeEventListener("mousemove",Fe),document.removeEventListener("mouseup",_e)}},[Se,Fe,_e]);const He=(m,C)=>{m.preventDefault(),m.stopPropagation(),fe(C)},D=h.useCallback(m=>{if(!H||!ge.current)return;const C=ge.current.getBoundingClientRect();We(P=>P.map(f=>{if(f.id!==W)return f;const S=f.placedPanels.find(q=>q.id===H);if(!S)return f;const A=Math.sqrt(Math.pow(m.clientX-C.left-S.x,2)+Math.pow(m.clientY-C.top-S.y,2)),T=Math.max(24,Math.min(80,A*2));return{...f,panelSizes:{...f.panelSizes,[H]:T}}}))},[H,W]),I=h.useCallback(()=>{fe(null)},[]);h.useEffect(()=>{if(H)return document.addEventListener("mousemove",D),document.addEventListener("mouseup",I),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",I)}},[H,D,I]),h.useEffect(()=>{j&&j.trim()&&We(m=>m.map(C=>C.id===W?{...C,name:j}:C))},[j,W]);const K=m=>{switch(m){case"SP":return"SP Panel";case"TAG":return"TAG Panel";case"DPH":return"DPH Panel";case"DPV":return"DPV Panel";case"X2V":return"X2V Panel";case"X2H":return"X2H Panel";case"X1H":return"X1H Panel";case"X1V":return"X1V Panel";case"IDPG":return"IDPG Panel";default:return"Panel"}},G=()=>Q.find(m=>m.id===W)||Q[0],se=m=>{We(C=>C.map(P=>P.id===W?{...P,...m}:P))},we=()=>{const m=Date.now().toString(),C={id:m,name:j||"Untitled Layout",imageUrl:null,imageFile:null,imageScale:1,imagePosition:{x:0,y:0},imageFit:"contain",placedPanels:[],placedDevices:[],panelSizes:{}};We(P=>[...P,C]),xe(m)},ce=m=>{var C;if(!(Q.length<=1)&&(We(P=>P.filter(f=>f.id!==m)),W===m)){const P=Q.filter(f=>f.id!==m);xe(((C=P[0])==null?void 0:C.id)||"1")}},ae=m=>{re(m),ne(!0),R(!1),l(!1)},Me=(m,C)=>{if(!Z)return;const P={id:Date.now().toString(),type:Z,x:m,y:C,roomType:j},f=G();se({placedDevices:[...f.placedDevices,P]}),U(S=>({...S,[P.id]:24})),ne(!1),re(null)},Ke=m=>{const C=G();se({placedDevices:C.placedDevices.filter(P=>P.id!==m)})},Re=(m,C)=>{if(m.preventDefault(),m.stopPropagation(),!ge.current)return;const P=ge.current.getBoundingClientRect(),S=G().placedDevices.find(A=>A.id===C);if(S){const A=m.clientX-P.left-S.x,T=m.clientY-P.top-S.y;V({x:A,y:T}),de(C)}},Be=h.useCallback(m=>{if(!pe||!ge.current)return;const C=ge.current.getBoundingClientRect(),P=m.clientX-C.left-N.x,f=m.clientY-C.top-N.y;We(S=>S.map(A=>A.id===W?{...A,placedDevices:A.placedDevices.map(T=>T.id===pe?{...T,x:P,y:f}:T)}:A))},[pe,N,W]),De=h.useCallback(()=>{de(null),V({x:0,y:0})},[]);h.useEffect(()=>{if(pe)return document.addEventListener("mousemove",Be),document.addEventListener("mouseup",De),()=>{document.removeEventListener("mousemove",Be),document.removeEventListener("mouseup",De)}},[pe,Be,De]);const $e=(m,C)=>{m.preventDefault(),m.stopPropagation(),Le(C)},c=h.useCallback(m=>{if(!le||!ge.current)return;const C=ge.current.getBoundingClientRect(),f=G().placedDevices.find(S=>S.id===le);if(f){const S=Math.sqrt(Math.pow(m.clientX-C.left-f.x,2)+Math.pow(m.clientY-C.top-f.y,2)),A=Math.max(16,Math.min(60,S*2));U(T=>({...T,[le]:A}))}},[le,G]),b=h.useCallback(()=>{Le(null)},[]);return h.useEffect(()=>{if(le)return document.addEventListener("mousemove",c),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",b)}},[le,c,b]),n.jsxs("div",{style:{minHeight:"100vh",background:me.background,padding:"20px",fontFamily:me.fontFamily},children:[(oe||Ie)&&n.jsx("div",{style:{position:"absolute",top:20,left:0,right:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:10},children:n.jsxs("span",{style:{fontSize:14,color:"#ffffff",fontWeight:400,letterSpacing:.5,fontFamily:'"Myriad Hebrew", "Monsal Gothic", sans-serif',opacity:.8},children:[oe,Ie&&` - ${Ie}`]})}),n.jsx("div",{style:{position:"absolute",top:20,right:30,zIndex:1e3},children:n.jsx(dt,{})}),n.jsxs("div",{style:{maxWidth:1400,margin:"0 auto",padding:"48px 16px 32px 16px",borderRadius:me.borderRadius,background:me.card,boxShadow:me.shadow,marginTop:48,marginBottom:48},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:40},children:[n.jsx("h1",{style:{fontWeight:700,fontSize:32,color:me.textPrimary,letterSpacing:"1px",marginBottom:8,textShadow:"0 1px 2px rgba(0,0,0,0.08)"},children:"Room Layout Designer"}),n.jsx("div",{style:{width:120,height:5,margin:"0 auto",borderRadius:3,background:me.primary,marginBottom:8}})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:20,padding:"0 20px",overflowX:"auto"},children:[Q.map(m=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 16px",background:W===m.id?me.primary:"#f8f9fa",color:W===m.id?"#fff":me.textSecondary,borderRadius:8,cursor:"pointer",border:W===m.id?"none":"1px solid #e0e0e0",fontSize:14,fontWeight:W===m.id?600:500,minWidth:"fit-content",transition:"all 0.2s ease"},onClick:()=>xe(m.id),children:[n.jsx("span",{children:m.name}),Q.length>1&&n.jsx("button",{onClick:C=>{C.stopPropagation(),ce(m.id)},style:{background:"none",border:"none",color:"inherit",cursor:"pointer",fontSize:12,padding:0,width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",opacity:.7},onMouseEnter:C=>{C.currentTarget.style.opacity="1",C.currentTarget.style.background="rgba(255,255,255,0.2)"},onMouseLeave:C=>{C.currentTarget.style.opacity="0.7",C.currentTarget.style.background="none"},children:""})]},m.id)),n.jsx("button",{onClick:we,style:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,background:"#f8f9fa",border:"1px solid #e0e0e0",borderRadius:8,cursor:"pointer",fontSize:18,color:me.textSecondary,transition:"all 0.2s ease"},onMouseEnter:m=>{m.currentTarget.style.background=me.primary,m.currentTarget.style.color="#fff",m.currentTarget.style.borderColor=me.primary},onMouseLeave:m=>{m.currentTarget.style.background="#f8f9fa",m.currentTarget.style.color=me.textSecondary,m.currentTarget.style.borderColor="#e0e0e0"},children:"+"})]}),n.jsxs("div",{style:{display:"flex",gap:20,marginBottom:30,flexWrap:"wrap",alignItems:"center",justifyContent:"center"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"10px 20px",background:me.primary,color:"#fff",borderRadius:me.buttonRadius,cursor:"pointer",fontSize:14,fontWeight:600,transition:"background 0.2s"},children:[n.jsx(Al,{fontSize:"small"}),"Upload Room Plan",n.jsx("input",{type:"file",accept:".png,.jpg,.jpeg",onChange:Te,style:{display:"none"}})]}),G().imageFile&&n.jsx("span",{style:{fontSize:14,color:me.textSecondary},children:(g=G().imageFile)==null?void 0:g.name})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("span",{style:{fontSize:14,color:me.textSecondary},children:"Room Type:"}),n.jsx("input",{type:"text",value:j,onChange:m=>_(m.target.value),placeholder:"Enter room type...",style:{padding:"8px 12px",border:"1px solid #e0e0e0",borderRadius:6,fontSize:14,background:"#fff",color:me.textPrimary,minWidth:120}})]}),G().imageUrl&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:15,padding:"10px 15px",background:"#f8f9fa",borderRadius:8,border:"1px solid #e0e0e0"},children:[n.jsx("span",{style:{fontSize:14,color:me.textSecondary},children:"Image Adjustments:"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("span",{style:{fontSize:12,color:me.textSecondary},children:"Scale:"}),n.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.1",value:G().imageScale,onChange:m=>se({imageScale:parseFloat(m.target.value)}),style:{width:80}}),n.jsxs("span",{style:{fontSize:12,color:me.textSecondary,minWidth:30},children:[Math.round(G().imageScale*100),"%"]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("span",{style:{fontSize:12,color:me.textSecondary},children:"X:"}),n.jsx("input",{type:"range",min:"-100",max:"100",value:G().imagePosition.x,onChange:m=>se({imagePosition:{...G().imagePosition,x:parseInt(m.target.value)}}),style:{width:60}}),n.jsx("span",{style:{fontSize:12,color:me.textSecondary,minWidth:25},children:G().imagePosition.x})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("span",{style:{fontSize:12,color:me.textSecondary},children:"Y:"}),n.jsx("input",{type:"range",min:"-100",max:"100",value:G().imagePosition.y,onChange:m=>se({imagePosition:{...G().imagePosition,y:parseInt(m.target.value)}}),style:{width:60}}),n.jsx("span",{style:{fontSize:12,color:me.textSecondary,minWidth:25},children:G().imagePosition.y})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("span",{style:{fontSize:12,color:me.textSecondary},children:"Fit:"}),n.jsxs("select",{value:G().imageFit,onChange:m=>se({imageFit:m.target.value}),style:{padding:"4px 8px",border:"1px solid #e0e0e0",borderRadius:4,fontSize:12,background:"#fff"},children:[n.jsx("option",{value:"contain",children:"Contain"}),n.jsx("option",{value:"cover",children:"Cover"}),n.jsx("option",{value:"fill",children:"Fill"})]})]}),n.jsx("button",{onClick:()=>{se({imageScale:1,imagePosition:{x:0,y:0},imageFit:"contain"})},style:{padding:"4px 8px",background:me.secondary,color:"#fff",border:"none",borderRadius:4,fontSize:12,cursor:"pointer"},children:"Reset"})]}),n.jsx("button",{onClick:()=>l(!M),style:{padding:"10px 20px",background:F?"#ff6b6b":me.primary,color:"#fff",border:"none",borderRadius:me.buttonRadius,fontSize:14,fontWeight:600,cursor:"pointer",transition:"background 0.2s"},children:F?"Cancel Placement":"Place a Panel"}),n.jsx("button",{onClick:()=>ne(!O),style:{padding:"10px 20px",background:O?"#ff6b6b":me.primary,color:"#fff",border:"none",borderRadius:me.buttonRadius,fontSize:14,fontWeight:600,cursor:"pointer",transition:"background 0.2s"},children:O?"Cancel Device":"Field Devices"})]}),O&&n.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:20,gap:15},children:Object.entries(ks).map(([m,C])=>n.jsxs("button",{onClick:()=>ae(m),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:8,padding:"12px 16px",background:Z===m?C.color:"#fff",color:Z===m?"#fff":me.textPrimary,border:`2px solid ${Z===m?C.color:"#e0e0e0"}`,borderRadius:me.borderRadius,cursor:"pointer",fontSize:12,fontWeight:600,transition:"all 0.2s ease",minWidth:80,boxShadow:Z===m?"0 2px 8px rgba(0,0,0,0.15)":"0 1px 3px rgba(0,0,0,0.1)"},onMouseEnter:P=>{Z!==m&&(P.currentTarget.style.background=C.color,P.currentTarget.style.color="#fff",P.currentTarget.style.borderColor=C.color,P.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",P.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:P=>{Z!==m&&(P.currentTarget.style.background="#fff",P.currentTarget.style.color=me.textPrimary,P.currentTarget.style.borderColor="#e0e0e0",P.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.1)",P.currentTarget.style.transform="translateY(0)")},children:[n.jsx("div",{style:{width:20,height:20,borderRadius:"50%",background:C.color,border:"2px solid #fff",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}}),C.name]},m))}),n.jsxs("div",{style:{display:"flex",gap:20,height:"600px"},children:[M&&n.jsxs("div",{style:{width:350,background:"#f8f9fa",borderRadius:me.borderRadius,padding:20,border:"1px solid #e0e0e0",overflowY:"auto",maxHeight:"100%"},children:[n.jsx("h3",{style:{marginBottom:20,color:me.textPrimary,fontSize:18,fontWeight:600},children:"Project Panels"}),t.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:me.textSecondary},children:[n.jsx("p",{children:"No panels in your project yet."}),n.jsx("button",{onClick:()=>e("/cart"),style:{marginTop:10,padding:"8px 16px",background:me.primary,color:"#fff",border:"none",borderRadius:6,fontSize:14,cursor:"pointer"},children:"Go to Panels"})]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:15},children:t.map((m,C)=>n.jsxs("div",{onClick:()=>Ue(C),style:{border:"2px solid #e0e0e0",borderRadius:8,padding:15,cursor:"pointer",background:"#fff",transition:"all 0.2s",display:"flex",flexDirection:"column",gap:10},onMouseEnter:P=>{P.currentTarget.style.borderColor=me.primary,P.currentTarget.style.transform="scale(1.02)"},onMouseLeave:P=>{P.currentTarget.style.borderColor="#e0e0e0",P.currentTarget.style.transform="scale(1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:5},children:[n.jsx("div",{style:{background:me.primary,color:"#fff",borderRadius:6,fontWeight:700,fontSize:14,minWidth:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},children:C+1}),n.jsx("span",{style:{fontSize:16,fontWeight:600,color:me.textPrimary},children:K(m.type)})]}),n.jsx("div",{style:{transform:"scale(0.8)",transformOrigin:"top left",marginLeft:-10},children:n.jsx(wl,{icons:m.icons.map(P=>({...P,src:P.src||"",category:P.category||"",iconId:P.iconId||void 0})),panelDesign:m.panelDesign||{backgroundColor:"",iconColor:"#000",textColor:"#000",fontSize:"12px"},type:m.type})}),n.jsx("div",{style:{fontSize:12,color:me.textSecondary,textAlign:"center"},children:"Click to place on room plan"})]},C))})]}),n.jsx("div",{style:{flex:1,position:"relative"},children:G().imageUrl?n.jsxs("div",{ref:ge,onClick:Ve,style:{width:"100%",height:"100%",border:"1px solid #e0e0e0",borderRadius:me.borderRadius,position:"relative",background:"#fff",cursor:F||O?"crosshair":"default",overflow:"hidden"},children:[n.jsx("img",{src:G().imageUrl||"",alt:"Room Plan",style:{width:"100%",height:"100%",objectFit:G().imageFit,transform:`scale(${G().imageScale}) translate(${G().imagePosition.x}px, ${G().imagePosition.y}px)`,transformOrigin:"center center",transition:"transform 0.1s ease"}}),G().placedPanels.map(m=>n.jsx("div",{style:{position:"absolute",left:m.x-(G().panelSizes[m.id]||36)/2,top:m.y-(G().panelSizes[m.id]||36)/2,width:G().panelSizes[m.id]||36,height:G().panelSizes[m.id]||36,cursor:"pointer",zIndex:10},onMouseEnter:()=>te(m.id),onMouseLeave:()=>te(null),children:n.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[n.jsx("div",{style:{background:me.primary,color:"#fff",borderRadius:8,fontWeight:700,fontSize:Math.max(12,Math.min(24,(G().panelSizes[m.id]||36)*.5)),minWidth:G().panelSizes[m.id]||36,height:G().panelSizes[m.id]||36,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 4px rgba(27,146,209,0.10)",border:"none",cursor:Se===m.id?"grabbing":"grab",userSelect:"none"},onMouseDown:C=>Ae(C,m.id),children:m.panelIndex+1}),X===m.id&&n.jsx("div",{style:{position:"absolute",bottom:-6,right:-6,width:12,height:12,background:"#666",borderRadius:"50%",cursor:"nw-resize",border:"2px solid #fff",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"},onMouseDown:C=>He(C,m.id)}),X===m.id&&n.jsx("button",{onClick:()=>je(m.id),style:{position:"absolute",top:-6,right:-6,width:16,height:16,borderRadius:"50%",background:"#ff6b6b",color:"#fff",border:"none",cursor:"pointer",fontSize:10,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",padding:0,lineHeight:1},children:""})]})},m.id)),G().placedDevices.map(m=>{var C;return n.jsx("div",{style:{position:"absolute",left:m.x-(J[m.id]||24)/2,top:m.y-(J[m.id]||24)/2,width:J[m.id]||24,height:J[m.id]||24,cursor:"pointer",zIndex:10},onMouseEnter:()=>te(m.id),onMouseLeave:()=>te(null),children:n.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[n.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:((C=ks[m.type])==null?void 0:C.color)||"#666",border:"2px solid #fff",boxShadow:"0 2px 4px rgba(0,0,0,0.3)",cursor:pe===m.id?"grabbing":"grab",userSelect:"none"},onMouseDown:P=>Re(P,m.id)}),X===m.id&&n.jsx("div",{style:{position:"absolute",bottom:-6,right:-6,width:12,height:12,background:"#666",borderRadius:"50%",cursor:"nw-resize",border:"2px solid #fff",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"},onMouseDown:P=>$e(P,m.id)}),X===m.id&&n.jsx("button",{onClick:()=>Ke(m.id),style:{position:"absolute",top:-6,right:-6,width:16,height:16,borderRadius:"50%",background:"#ff6b6b",color:"#fff",border:"none",cursor:"pointer",fontSize:10,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",padding:0,lineHeight:1},children:""})]})},m.id)})]}):n.jsx("div",{style:{width:"100%",height:"100%",border:"2px dashed #e0e0e0",borderRadius:me.borderRadius,display:"flex",alignItems:"center",justifyContent:"center",background:"#f8f9fa",color:me.textSecondary,fontSize:16},children:"Upload a room plan image (PNG/JPG) to start designing"})})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:20,marginTop:30},children:[n.jsx("button",{onClick:()=>e("/cart"),style:{padding:"12px 24px",background:me.secondary,color:"#fff",border:"none",borderRadius:me.buttonRadius,fontSize:16,fontWeight:600,cursor:"pointer",transition:"background 0.2s"},children:"Back to Panels"}),n.jsxs("button",{onClick:()=>{alert("Layout saved successfully!")},style:{padding:"12px 24px",background:me.primary,color:"#fff",border:"none",borderRadius:me.buttonRadius,fontSize:16,fontWeight:600,cursor:"pointer",transition:"background 0.2s",display:"flex",alignItems:"center",gap:8},children:[n.jsx(Bl,{fontSize:"small"}),"Save Layout"]})]})]})]})},H1=Y("div")({position:"relative",width:"100%",height:"100%",animation:"slideIn 1.5s cubic-bezier(0.22, 1, 0.36, 1)","@keyframes slideIn":{"0%":{transform:"translateY(30vh)",opacity:0},"100%":{transform:"translateY(0)",opacity:1}},"&.exiting":{animation:"slideOut 1.5s cubic-bezier(0.22, 1, 0.36, 1)","@keyframes slideOut":{"0%":{transform:"translateY(0)",opacity:1},"100%":{transform:"translateY(-30vh)",opacity:0}}}}),Qe=({children:e})=>n.jsx(H1,{children:e}),tt=h.createContext({projectName:"",setProjectName:()=>{},projectCode:"",setProjectCode:()=>{}}),Y1=()=>{const{projectCode:e}=h.useContext(tt),{setProjectCode:t}=lt();return h.useEffect(()=>{e&&e.trim()!==""&&t(e)},[e,t]),null},U1=()=>{const e=gt();return Ze(),n.jsx(Wd,{mode:"wait",children:n.jsxs(zd,{location:e,children:[n.jsx(Xe,{path:"/",element:n.jsx(Qe,{children:n.jsx(Tx,{})})}),n.jsx(Xe,{path:"/boq",element:n.jsx(Qe,{children:n.jsx(Rx,{})})}),n.jsx(Xe,{path:"/panel-type",element:n.jsx(Qe,{children:n.jsx(tg,{})})}),n.jsx(Xe,{path:"/panel/double",element:n.jsx(Qe,{children:n.jsx(Lx,{})})}),n.jsx(Xe,{path:"/panel/extended",element:n.jsx(Qe,{children:n.jsx(Ux,{})})}),n.jsx(Xe,{path:"/panel/idpg",element:n.jsx(Qe,{children:n.jsx(ws,{})})}),n.jsx(Xe,{path:"/customizer/sp",element:n.jsx(Qe,{children:n.jsx(cg,{})})}),n.jsx(Xe,{path:"/customizer/dph",element:n.jsx(Qe,{children:n.jsx(Hb,{})})}),n.jsx(Xe,{path:"/customizer/dpv",element:n.jsx(Qe,{children:n.jsx(Zb,{})})}),n.jsx(Xe,{path:"/customizer/x1h",element:n.jsx(Qe,{children:n.jsx(a1,{})})}),n.jsx(Xe,{path:"/customizer/x2h",element:n.jsx(Qe,{children:n.jsx(g1,{})})}),n.jsx(Xe,{path:"/customizer/x2v",element:n.jsx(Qe,{children:n.jsx(v1,{})})}),n.jsx(Xe,{path:"/customizer/x1v",element:n.jsx(Qe,{children:n.jsx(I1,{})})}),n.jsx(Xe,{path:"/customizer/tag",element:n.jsx(Qe,{children:n.jsx(_b,{})})}),n.jsx(Xe,{path:"/customizer/idpg",element:n.jsx(Qe,{children:n.jsx(ws,{})})}),n.jsx(Xe,{path:"/cart",element:n.jsx(Qe,{children:n.jsx($1,{})})}),n.jsx(Xe,{path:"/layouts",element:n.jsx(Qe,{children:n.jsx(N1,{})})}),n.jsx(Xe,{path:"*",element:n.jsx(Rd,{to:"/",replace:!0})})]},e.pathname)})},X1=()=>{const[e,t]=h.useState(""),[o,i]=h.useState("");return n.jsxs(Dl,{theme:lx,children:[n.jsx(Ml,{}),n.jsx(Ix,{children:n.jsxs(tt.Provider,{value:{projectName:e,setProjectName:t,projectCode:o,setProjectCode:i},children:[n.jsx(Y1,{}),n.jsx(Ad,{children:n.jsx(U1,{})})]})})]})},kl=document.getElementById("root");if(!kl)throw new Error("Failed to find the root element");const K1=Ts(kl);K1.render(n.jsx(h.StrictMode,{children:n.jsx(X1,{})}));
