{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mak\\\\OneDrive - Interel\\\\Desktop\\\\WEBSITE2\\\\src\\\\contexts\\\\CartContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nexport const useCart = () => {\n  _s();\n  return useContext(CartContext);\n};\n_s(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const CartProvider = _ref => {\n  _s2();\n  let {\n    children\n  } = _ref;\n  const [cartItems, setCartItems] = useState([]);\n  const [cartCount, setCartCount] = useState(0);\n  const [isCounting, setIsCounting] = useState(false);\n  const addToCart = item => {\n    // Always treat each item as unique – no merging\n    setCartItems(prev => [...prev, item]);\n    setCartCount(prev => prev + item.quantity || 1);\n    setIsCounting(true);\n  };\n  const updateQuantity = (index, newQty) => {\n    const updated = [...cartItems];\n    if (newQty <= 0) {\n      updated.splice(index, 1);\n    } else {\n      updated[index].quantity = newQty;\n    }\n    setCartItems(updated);\n    setCartCount(updated.reduce((sum, item) => sum + item.quantity, 0));\n  };\n  const removeFromCart = index => {\n    const removedItem = cartItems[index];\n    const updated = [...cartItems];\n    updated.splice(index, 1);\n    setCartItems(updated);\n    setCartCount(prev => prev - ((removedItem === null || removedItem === void 0 ? void 0 : removedItem.quantity) || 1));\n  };\n  useEffect(() => {\n    if (isCounting) {\n      const timer = setTimeout(() => setIsCounting(false), 500);\n      return () => clearTimeout(timer);\n    }\n  }, [isCounting]);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartItems,\n      cartCount,\n      isCounting,\n      addToCart,\n      updateQuantity,\n      removeFromCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s2(CartProvider, \"spmP+JLNZxJUNBBhCo22DeEkC0M=\");\n_c = CartProvider;\nexport { CartContext };\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","jsxDEV","_jsxDEV","CartContext","useCart","_s","CartProvider","_ref","_s2","children","cartItems","setCartItems","cartCount","setCartCount","isCounting","setIsCounting","addToCart","item","prev","quantity","updateQuantity","index","newQty","updated","splice","reduce","sum","removeFromCart","removedItem","timer","setTimeout","clearTimeout","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/mak/OneDrive - Interel/Desktop/WEBSITE2/src/contexts/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from \"react\";\r\n\r\nconst CartContext = createContext();\r\n\r\nexport const useCart = () => useContext(CartContext);\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [cartCount, setCartCount] = useState(0);\r\n  const [isCounting, setIsCounting] = useState(false);\r\n\r\n  const addToCart = (item) => {\r\n    // Always treat each item as unique – no merging\r\n    setCartItems((prev) => [...prev, item]);\r\n    setCartCount((prev) => prev + item.quantity || 1);\r\n    setIsCounting(true);\r\n  };\r\n\r\n  const updateQuantity = (index, newQty) => {\r\n    const updated = [...cartItems];\r\n    if (newQty <= 0) {\r\n      updated.splice(index, 1);\r\n    } else {\r\n      updated[index].quantity = newQty;\r\n    }\r\n    setCartItems(updated);\r\n    setCartCount(updated.reduce((sum, item) => sum + item.quantity, 0));\r\n  };\r\n\r\n  const removeFromCart = (index) => {\r\n    const removedItem = cartItems[index];\r\n    const updated = [...cartItems];\r\n    updated.splice(index, 1);\r\n    setCartItems(updated);\r\n    setCartCount((prev) => prev - (removedItem?.quantity || 1));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isCounting) {\r\n      const timer = setTimeout(() => setIsCounting(false), 500);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [isCounting]);\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cartItems,\r\n        cartCount,\r\n        isCounting,\r\n        addToCart,\r\n        updateQuantity,\r\n        removeFromCart,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport { CartContext };\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9E,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AAEnC,OAAO,MAAMO,OAAO,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAMN,UAAU,CAACI,WAAW,CAAC;AAAA;AAACE,EAAA,CAAxCD,OAAO;AAEpB,OAAO,MAAME,YAAY,GAAGC,IAAA,IAAkB;EAAAC,GAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EACvC,MAAM,CAACG,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAMkB,SAAS,GAAIC,IAAI,IAAK;IAC1B;IACAN,YAAY,CAAEO,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAED,IAAI,CAAC,CAAC;IACvCJ,YAAY,CAAEK,IAAI,IAAKA,IAAI,GAAGD,IAAI,CAACE,QAAQ,IAAI,CAAC,CAAC;IACjDJ,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,MAAMK,cAAc,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;IACxC,MAAMC,OAAO,GAAG,CAAC,GAAGb,SAAS,CAAC;IAC9B,IAAIY,MAAM,IAAI,CAAC,EAAE;MACfC,OAAO,CAACC,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;IAC1B,CAAC,MAAM;MACLE,OAAO,CAACF,KAAK,CAAC,CAACF,QAAQ,GAAGG,MAAM;IAClC;IACAX,YAAY,CAACY,OAAO,CAAC;IACrBV,YAAY,CAACU,OAAO,CAACE,MAAM,CAAC,CAACC,GAAG,EAAET,IAAI,KAAKS,GAAG,GAAGT,IAAI,CAACE,QAAQ,EAAE,CAAC,CAAC,CAAC;EACrE,CAAC;EAED,MAAMQ,cAAc,GAAIN,KAAK,IAAK;IAChC,MAAMO,WAAW,GAAGlB,SAAS,CAACW,KAAK,CAAC;IACpC,MAAME,OAAO,GAAG,CAAC,GAAGb,SAAS,CAAC;IAC9Ba,OAAO,CAACC,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;IACxBV,YAAY,CAACY,OAAO,CAAC;IACrBV,YAAY,CAAEK,IAAI,IAAKA,IAAI,IAAI,CAAAU,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAET,QAAQ,KAAI,CAAC,CAAC,CAAC;EAC7D,CAAC;EAEDnB,SAAS,CAAC,MAAM;IACd,IAAIc,UAAU,EAAE;MACd,MAAMe,KAAK,GAAGC,UAAU,CAAC,MAAMf,aAAa,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC;MACzD,OAAO,MAAMgB,YAAY,CAACF,KAAK,CAAC;IAClC;EACF,CAAC,EAAE,CAACf,UAAU,CAAC,CAAC;EAEhB,oBACEZ,OAAA,CAACC,WAAW,CAAC6B,QAAQ;IACnBC,KAAK,EAAE;MACLvB,SAAS;MACTE,SAAS;MACTE,UAAU;MACVE,SAAS;MACTI,cAAc;MACdO;IACF,CAAE;IAAAlB,QAAA,EAEDA;EAAQ;IAAAyB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAAC7B,GAAA,CApDWF,YAAY;AAAAgC,EAAA,GAAZhC,YAAY;AAsDzB,SAASH,WAAW;AAAG,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}